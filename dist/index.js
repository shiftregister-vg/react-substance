!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports={SubstanceEditor:n(1)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var o=t,i=e,s=n;a=u=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(s)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,n=s,r=!0}},c=n(2),u=r(c),l=n(158),h=(r(l),n(281)),p=r(h),d=p["default"].$$,f=function(t){function e(t){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={contentEditor:null}}return i(e,t),s(e,[{key:"componentDidMount",value:function(){var t=this.refs.substance_editor;this.setState({contentEditor:p["default"].mount(d(e,{content:this.props.initialValue||""}),t)})}},{key:"render",value:function(){return u["default"].createElement("div",{className:"substance-editor",ref:"substance_editor"},"Loading editor...")}}]),e}(u["default"].Component);e["default"]=f,t.exports=e["default"]},function(t,e,n){t.exports=n(3)},function(t,e,n){(function(e){"use strict";var r=n(5),o=n(9),i=n(23),s=n(38),a=n(13),c=n(18),u=n(12),l=n(33),h=n(41),p=n(43),d=n(92),f=n(20),m=n(68),g=n(29),v=n(123),y=n(30),E=n(155),b=n(14),x=n(112),N=n(157);d.inject();var _=u.createElement,C=u.createFactory,w=u.cloneElement;"production"!==e.env.NODE_ENV&&(_=l.createElement,C=l.createFactory,w=l.cloneElement);var O=g.measure("React","render",m.render),D={Children:{map:o.map,forEach:o.forEach,count:o.count,only:N},Component:i,DOM:h,PropTypes:v,initializeTouchEvents:function(t){r.useTouchEvents=t},createClass:s.createClass,createElement:_,cloneElement:w,createFactory:C,createMixin:function(t){return t},constructAndRenderComponent:m.constructAndRenderComponent,constructAndRenderComponentByID:m.constructAndRenderComponentByID,findDOMNode:x,render:O,renderToString:E.renderToString,renderToStaticMarkup:E.renderToStaticMarkup,unmountComponentAtNode:m.unmountComponentAtNode,isValidElement:u.isValidElement,withContext:a.withContext,__spread:b};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:c,InstanceHandles:f,Mount:m,Reconciler:y,TextComponent:p}),"production"!==e.env.NODE_ENV){var T=n(52);if(T.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");for(var S=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],I=0;I<S.length;I++)if(!S[I]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}}D.version="0.13.3",t.exports=D}).call(e,n(4))},function(t,e){function n(){u=!1,s.length?c=s.concat(c):l=-1,c.length&&r()}function r(){if(!u){var t=setTimeout(n);u=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s[l].run();l=-1,e=c.length}s=null,u=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var s,a=t.exports={},c=[],u=!1,l=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||u||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=i,a.addListener=i,a.once=i,a.off=i,a.removeListener=i,a.removeAllListeners=i,a.emit=i,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){(function(e){"use strict";function r(t){return t===v.topMouseUp||t===v.topTouchEnd||t===v.topTouchCancel}function o(t){return t===v.topMouseMove||t===v.topTouchMove}function i(t){return t===v.topMouseDown||t===v.topTouchStart}function s(t,n){var r=t._dispatchListeners,o=t._dispatchIDs;if("production"!==e.env.NODE_ENV&&d(t),Array.isArray(r))for(var i=0;i<r.length&&!t.isPropagationStopped();i++)n(t,r[i],o[i]);else r&&n(t,r,o)}function a(t,e,n){t.currentTarget=g.Mount.getNode(n);var r=e(t,n);return t.currentTarget=null,r}function c(t,e){s(t,e),t._dispatchListeners=null,t._dispatchIDs=null}function u(t){var n=t._dispatchListeners,r=t._dispatchIDs;if("production"!==e.env.NODE_ENV&&d(t),Array.isArray(n)){for(var o=0;o<n.length&&!t.isPropagationStopped();o++)if(n[o](t,r[o]))return r[o]}else if(n&&n(t,r))return r;return null}function l(t){var e=u(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function h(t){"production"!==e.env.NODE_ENV&&d(t);var n=t._dispatchListeners,r=t._dispatchIDs;"production"!==e.env.NODE_ENV?m(!Array.isArray(n),"executeDirectDispatch(...): Invalid `event`."):m(!Array.isArray(n));var o=n?n(t,r):null;return t._dispatchListeners=null,t._dispatchIDs=null,o}function p(t){return!!t._dispatchListeners}var d,f=n(6),m=n(8),g={Mount:null,injectMount:function(t){g.Mount=t,"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?m(t&&t.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode."):m(t&&t.getNode))}},v=f.topLevelTypes;"production"!==e.env.NODE_ENV&&(d=function(t){var n=t._dispatchListeners,r=t._dispatchIDs,o=Array.isArray(n),i=Array.isArray(r),s=i?r.length:r?1:0,a=o?n.length:n?1:0;"production"!==e.env.NODE_ENV?m(i===o&&s===a,"EventPluginUtils: Invalid `event`."):m(i===o&&s===a)});var y={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:h,executeDispatch:a,executeDispatchesInOrder:c,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,injection:g,useTouchEvents:!1};t.exports=y}).call(e,n(4))},function(t,e,n){"use strict";var r=n(7),o=r({bubbled:null,captured:null}),i=r({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),s={topLevelTypes:i,PropagationPhases:o};t.exports=s},function(t,e,n){(function(e){"use strict";var r=n(8),o=function(t){var n,o={};"production"!==e.env.NODE_ENV?r(t instanceof Object&&!Array.isArray(t),"keyMirror(...): Argument must be an object."):r(t instanceof Object&&!Array.isArray(t));for(n in t)t.hasOwnProperty(n)&&(o[n]=n);return o};t.exports=o}).call(e,n(4))},function(t,e,n){(function(e){"use strict";var n=function(t,n,r,o,i,s,a,c){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,s,a,c],h=0;u=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return l[h++]}))}throw u.framesToPop=1,u}};t.exports=n}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t,e){this.forEachFunction=t,this.forEachContext=e}function o(t,e,n,r){var o=t;o.forEachFunction.call(o.forEachContext,e,r)}function i(t,e,n){if(null==t)return t;var i=r.getPooled(e,n);d(t,o,i),r.release(i)}function s(t,e,n){this.mapResult=t,this.mapFunction=e,this.mapContext=n}function a(t,n,r,o){var i=t,s=i.mapResult,a=!s.hasOwnProperty(r);if("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?f(a,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r):null),a){var c=i.mapFunction.call(i.mapContext,n,o);s[r]=c}}function c(t,e,n){if(null==t)return t;var r={},o=s.getPooled(r,e,n);return d(t,a,o),s.release(o),p.create(r)}function u(t,e,n,r){return null}function l(t,e){return d(t,u,null)}var h=n(10),p=n(11),d=n(19),f=n(16),m=h.twoArgumentPooler,g=h.threeArgumentPooler;h.addPoolingTo(r,m),h.addPoolingTo(s,g);var v={forEach:i,map:c,count:l};t.exports=v}).call(e,n(4))},function(t,e,n){(function(e){"use strict";var r=n(8),o=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},i=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},s=function(t,e,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,t,e,n),o}return new r(t,e,n)},a=function(t,e,n,r,o){var i=this;if(i.instancePool.length){var s=i.instancePool.pop();return i.call(s,t,e,n,r,o),s}return new i(t,e,n,r,o)},c=function(t){var n=this;"production"!==e.env.NODE_ENV?r(t instanceof n,"Trying to release an instance into a pool of a different type."):r(t instanceof n),t.destructor&&t.destructor(),n.instancePool.length<n.poolSize&&n.instancePool.push(t)},u=10,l=o,h=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||l,n.poolSize||(n.poolSize=u),n.release=c,n},p={addPoolingTo:h,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:s,fiveArgumentPooler:a};t.exports=p}).call(e,n(4))},function(t,e,n){(function(e){"use strict";var r=n(12),o=n(16);if("production"!==e.env.NODE_ENV){var i="_reactFragment",s="_reactDidWarn",a=!1;try{var c=function(){return 1};Object.defineProperty({},i,{enumerable:!1,value:!0}),Object.defineProperty({},"key",{enumerable:!0,get:c}),a=!0}catch(u){}var l=function(t,n){Object.defineProperty(t,n,{enumerable:!0,get:function(){return"production"!==e.env.NODE_ENV?o(this[s],"A ReactFragment is an opaque type. Accessing any of its properties is deprecated. Pass it to one of the React.Children helpers."):null,this[s]=!0,this[i][n]},set:function(t){"production"!==e.env.NODE_ENV?o(this[s],"A ReactFragment is an immutable opaque type. Mutating its properties is deprecated."):null,this[s]=!0,this[i][n]=t}})},h={},p=function(t){var e="";for(var n in t)e+=n+":"+typeof t[n]+",";var r=!!h[e];return h[e]=!0,r}}var d={create:function(t){if("production"!==e.env.NODE_ENV){if("object"!=typeof t||!t||Array.isArray(t))return"production"!==e.env.NODE_ENV?o(!1,"React.addons.createFragment only accepts a single object.",t):null,t;if(r.isValidElement(t))return"production"!==e.env.NODE_ENV?o(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."):null,t;if(a){var n={};Object.defineProperty(n,i,{enumerable:!1,value:t}),Object.defineProperty(n,s,{writable:!0,enumerable:!1,value:!1});for(var c in t)l(n,c);return Object.preventExtensions(n),n}}return t},extract:function(t){return"production"!==e.env.NODE_ENV&&a?t[i]?t[i]:("production"!==e.env.NODE_ENV?o(p(t),"Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child."):null,t):t},extractIfFragment:function(t){if("production"!==e.env.NODE_ENV&&a){if(t[i])return t[i];for(var n in t)if(t.hasOwnProperty(n)&&r.isValidElement(t[n]))return d.extract(t)}return t}};t.exports=d}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t,n){Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[n]:null},set:function(t){"production"!==e.env.NODE_ENV?c(!1,"Don't set the %s property of the React element. Instead, specify the correct value when initially creating the element.",n):null,this._store[n]=t}})}function o(t){try{var e={props:!0};for(var n in e)r(t,n);l=!0}catch(o){}}var i=n(13),s=n(18),a=n(14),c=n(16),u={key:!0,ref:!0},l=!1,h=function(t,n,r,o,i,s){if(this.type=t,this.key=n,this.ref=r,this._owner=o,this._context=i,"production"!==e.env.NODE_ENV){this._store={props:s,originalProps:a({},s)};try{Object.defineProperty(this._store,"validated",{configurable:!1,enumerable:!1,writable:!0})}catch(c){}if(this._store.validated=!1,l)return void Object.freeze(this)}this.props=s};h.prototype={_isReactElement:!0},"production"!==e.env.NODE_ENV&&o(h.prototype),h.createElement=function(t,e,n){var r,o={},a=null,c=null;if(null!=e){c=void 0===e.ref?null:e.ref,a=void 0===e.key?null:""+e.key;for(r in e)e.hasOwnProperty(r)&&!u.hasOwnProperty(r)&&(o[r]=e[r])}var l=arguments.length-2;if(1===l)o.children=n;else if(l>1){for(var p=Array(l),d=0;l>d;d++)p[d]=arguments[d+2];o.children=p}if(t&&t.defaultProps){var f=t.defaultProps;for(r in f)"undefined"==typeof o[r]&&(o[r]=f[r])}return new h(t,a,c,s.current,i.current,o)},h.createFactory=function(t){var e=h.createElement.bind(null,t);return e.type=t,e},h.cloneAndReplaceProps=function(t,n){var r=new h(t.type,t.key,t.ref,t._owner,t._context,n);return"production"!==e.env.NODE_ENV&&(r._store.validated=t._store.validated),r},h.cloneElement=function(t,e,n){var r,o=a({},t.props),i=t.key,c=t.ref,l=t._owner;if(null!=e){void 0!==e.ref&&(c=e.ref,l=s.current),void 0!==e.key&&(i=""+e.key);for(r in e)e.hasOwnProperty(r)&&!u.hasOwnProperty(r)&&(o[r]=e[r])}var p=arguments.length-2;if(1===p)o.children=n;else if(p>1){for(var d=Array(p),f=0;p>f;f++)d[f]=arguments[f+2];o.children=d}return new h(t.type,i,c,l,t._context,o)},h.isValidElement=function(t){var e=!(!t||!t._isReactElement);return e},t.exports=h}).call(e,n(4))},function(t,e,n){(function(e){"use strict";var r=n(14),o=n(15),i=n(16),s=!1,a={current:o,withContext:function(t,n){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?i(s,"withContext is deprecated and will be removed in a future version. Use a wrapper component with getChildContext instead."):null,s=!0);var o,c=a.current;a.current=r({},c,t);try{o=n()}finally{a.current=c}return o}};t.exports=a}).call(e,n(4))},function(t,e){"use strict";function n(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i){var s=Object(i);for(var a in s)r.call(s,a)&&(n[a]=s[a])}}return n}t.exports=n},function(t,e,n){(function(e){"use strict";var n={};"production"!==e.env.NODE_ENV&&Object.freeze(n),t.exports=n}).call(e,n(4))},function(t,e,n){(function(e){"use strict";var r=n(17),o=r;"production"!==e.env.NODE_ENV&&(o=function(t,e){for(var n=[],r=2,o=arguments.length;o>r;r++)n.push(arguments[r]);if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(0!==e.indexOf("Failed Composite propType: ")&&!t){var i=0,s="Warning: "+e.replace(/%s/g,function(){return n[i++]});console.warn(s);try{throw new Error(s)}catch(a){}}}),t.exports=o}).call(e,n(4))},function(t,e){function n(t){return function(){return t}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e){"use strict";var n={current:null};t.exports=n},function(t,e,n){(function(e){"use strict";function r(t){return v[t]}function o(t,e){return t&&null!=t.key?s(t.key):e.toString(36)}function i(t){return(""+t).replace(y,r)}function s(t){return"$"+i(t)}function a(t,n,r,i,c){var h=typeof t;if(("undefined"===h||"boolean"===h)&&(t=null),null===t||"string"===h||"number"===h||u.isValidElement(t))return i(c,t,""===n?m+o(t,0):n,r),1;var v,y,b,x=0;if(Array.isArray(t))for(var N=0;N<t.length;N++)v=t[N],y=(""!==n?n+g:m)+o(v,N),b=r+x,x+=a(v,y,b,i,c);else{var _=p(t);if(_){var C,w=_.call(t);if(_!==t.entries)for(var O=0;!(C=w.next()).done;)v=C.value,y=(""!==n?n+g:m)+o(v,O++),b=r+x,x+=a(v,y,b,i,c);else for("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?f(E,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):null,E=!0);!(C=w.next()).done;){var D=C.value;D&&(v=D[1],y=(""!==n?n+g:m)+s(D[0])+g+o(v,0),b=r+x,x+=a(v,y,b,i,c))}}else if("object"===h){"production"!==e.env.NODE_ENV?d(1!==t.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components."):d(1!==t.nodeType);var T=l.extract(t);for(var S in T)T.hasOwnProperty(S)&&(v=T[S],y=(""!==n?n+g:m)+s(S)+g+o(v,0),b=r+x,x+=a(v,y,b,i,c))}}return x}function c(t,e,n){return null==t?0:a(t,"",0,e,n)}var u=n(12),l=n(11),h=n(20),p=n(22),d=n(8),f=n(16),m=h.SEPARATOR,g=":",v={"=":"=0",".":"=1",":":"=2"},y=/[=.:]/g,E=!1;t.exports=c}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t){return d+t.toString(36)}function o(t,e){return t.charAt(e)===d||e===t.length}function i(t){return""===t||t.charAt(0)===d&&t.charAt(t.length-1)!==d}function s(t,e){return 0===e.indexOf(t)&&o(e,t.length)}function a(t){return t?t.substr(0,t.lastIndexOf(d)):""}function c(t,n){if("production"!==e.env.NODE_ENV?p(i(t)&&i(n),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",t,n):p(i(t)&&i(n)),"production"!==e.env.NODE_ENV?p(s(t,n),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",t,n):p(s(t,n)),t===n)return t;var r,a=t.length+f;for(r=a;r<n.length&&!o(n,r);r++);return n.substr(0,r)}function u(t,n){var r=Math.min(t.length,n.length);if(0===r)return"";for(var s=0,a=0;r>=a;a++)if(o(t,a)&&o(n,a))s=a;else if(t.charAt(a)!==n.charAt(a))break;var c=t.substr(0,s);return"production"!==e.env.NODE_ENV?p(i(c),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",t,n,c):p(i(c)),c}function l(t,n,r,o,i,u){t=t||"",n=n||"","production"!==e.env.NODE_ENV?p(t!==n,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",t):p(t!==n);var l=s(n,t);"production"!==e.env.NODE_ENV?p(l||s(t,n),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",t,n):p(l||s(t,n));for(var h=0,d=l?a:c,f=t;;f=d(f,n)){var g;if(i&&f===t||u&&f===n||(g=r(f,l,o)),g===!1||f===n)break;"production"!==e.env.NODE_ENV?p(h++<m,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",t,n):p(h++<m)}}var h=n(21),p=n(8),d=".",f=d.length,m=100,g={createReactRootID:function(){return r(h.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===d&&t.length>1){var e=t.indexOf(d,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,r,o){var i=u(t,e);i!==t&&l(t,i,n,r,!1,!0),i!==e&&l(i,e,n,o,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(l("",t,e,n,!0,!1),l(t,"",e,n,!1,!0))},traverseAncestors:function(t,e,n){l("",t,e,n,!0,!1)},_getFirstCommonAncestorID:u,_getNextDescendantID:c,isAncestorIDOf:s,SEPARATOR:d};t.exports=g}).call(e,n(4))},function(t,e){"use strict";var n={injectCreateReactRootIndex:function(t){r.createReactRootIndex=t}},r={createReactRootIndex:null,injection:n};t.exports=r},function(t,e){"use strict";function n(t){var e=t&&(r&&t[r]||t[o]);return"function"==typeof e?e:void 0}var r="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";t.exports=n},function(t,e,n){(function(e){"use strict";function r(t,e){this.props=t,this.context=e}var o=n(24),i=n(8),s=n(16);if(r.prototype.setState=function(t,n){"production"!==e.env.NODE_ENV?i("object"==typeof t||"function"==typeof t||null==t,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):i("object"==typeof t||"function"==typeof t||null==t),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(null!=t,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):null),o.enqueueSetState(this,t),n&&o.enqueueCallback(this,n)},r.prototype.forceUpdate=function(t){o.enqueueForceUpdate(this),t&&o.enqueueCallback(this,t)},"production"!==e.env.NODE_ENV){var a={getDOMNode:["getDOMNode","Use React.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call React.render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call React.render again at the top level."]},c=function(t,n){try{Object.defineProperty(r.prototype,t,{get:function(){return void("production"!==e.env.NODE_ENV?s(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",n[0],n[1]):null)}})}catch(o){}};for(var u in a)a.hasOwnProperty(u)&&c(u,a[u])}t.exports=r}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t){t!==i.currentlyMountingInstance&&u.enqueueUpdate(t)}function o(t,n){"production"!==e.env.NODE_ENV?h(null==s.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",n):h(null==s.current);var r=c.get(t);return r?r===i.currentlyUnmountingInstance?null:r:("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?p(!n,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.",n,n):null),null)}var i=n(25),s=n(18),a=n(12),c=n(26),u=n(27),l=n(14),h=n(8),p=n(16),d={enqueueCallback:function(t,n){"production"!==e.env.NODE_ENV?h("function"==typeof n,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):h("function"==typeof n);var s=o(t);return s&&s!==i.currentlyMountingInstance?(s._pendingCallbacks?s._pendingCallbacks.push(n):s._pendingCallbacks=[n],void r(s)):null},enqueueCallbackInternal:function(t,n){"production"!==e.env.NODE_ENV?h("function"==typeof n,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):h("function"==typeof n),t._pendingCallbacks?t._pendingCallbacks.push(n):t._pendingCallbacks=[n],r(t)},enqueueForceUpdate:function(t){var e=o(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,r(e))},enqueueReplaceState:function(t,e){var n=o(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(t,e){var n=o(t,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(e),r(n)}},enqueueSetProps:function(t,n){var i=o(t,"setProps");if(i){"production"!==e.env.NODE_ENV?h(i._isTopLevel,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):h(i._isTopLevel);var s=i._pendingElement||i._currentElement,c=l({},s.props,n);i._pendingElement=a.cloneAndReplaceProps(s,c),r(i)}},enqueueReplaceProps:function(t,n){var i=o(t,"replaceProps");if(i){"production"!==e.env.NODE_ENV?h(i._isTopLevel,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):h(i._isTopLevel);var s=i._pendingElement||i._currentElement;i._pendingElement=a.cloneAndReplaceProps(s,n),r(i)}},enqueueElementInternal:function(t,e){t._pendingElement=e,r(t)}};t.exports=d}).call(e,n(4))},function(t,e){"use strict";var n={currentlyMountingInstance:null,currentlyUnmountingInstance:null};t.exports=n},function(t,e){"use strict";var n={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=n},function(t,e,n){(function(e){"use strict";function r(){"production"!==e.env.NODE_ENV?v(T.ReactReconcileTransaction&&N,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):v(T.ReactReconcileTransaction&&N)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled()}function i(t,e,n,o,i){r(),N.batchedUpdates(t,e,n,o,i)}function s(t,e){return t._mountOrder-e._mountOrder}function a(t){var n=t.dirtyComponentsLength;"production"!==e.env.NODE_ENV?v(n===E.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",n,E.length):v(n===E.length),E.sort(s);for(var r=0;n>r;r++){var o=E[r],i=o._pendingCallbacks;if(o._pendingCallbacks=null,f.performUpdateIfNecessary(o,t.reconcileTransaction),i)for(var a=0;a<i.length;a++)t.callbackQueue.enqueue(i[a],o.getPublicInstance())}}function c(t){return r(),"production"!==e.env.NODE_ENV?y(null==p.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,N.isBatchingUpdates?void E.push(t):void N.batchedUpdates(c,t)}function u(t,n){"production"!==e.env.NODE_ENV?v(N.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):v(N.isBatchingUpdates),b.enqueue(t,n),x=!0}var l=n(28),h=n(10),p=n(18),d=n(29),f=n(30),m=n(37),g=n(14),v=n(8),y=n(16),E=[],b=l.getPooled(),x=!1,N=null,_={initialize:function(){this.dirtyComponentsLength=E.length},close:function(){this.dirtyComponentsLength!==E.length?(E.splice(0,this.dirtyComponentsLength),O()):E.length=0}},C={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},w=[_,C];g(o.prototype,m.Mixin,{getTransactionWrappers:function(){return w},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),h.addPoolingTo(o);var O=function(){for(;E.length||x;){if(E.length){var t=o.getPooled();t.perform(a,null,t),o.release(t)}if(x){x=!1;var e=b;b=l.getPooled(),e.notifyAll(),l.release(e)}}};O=d.measure("ReactUpdates","flushBatchedUpdates",O);var D={injectReconcileTransaction:function(t){"production"!==e.env.NODE_ENV?v(t,"ReactUpdates: must provide a reconcile transaction class"):v(t),T.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){"production"!==e.env.NODE_ENV?v(t,"ReactUpdates: must provide a batching strategy"):v(t),"production"!==e.env.NODE_ENV?v("function"==typeof t.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"):v("function"==typeof t.batchedUpdates),"production"!==e.env.NODE_ENV?v("boolean"==typeof t.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):v("boolean"==typeof t.isBatchingUpdates),N=t}},T={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:c,flushBatchedUpdates:O,injection:D,asap:u};t.exports=T}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=n(10),i=n(14),s=n(8);i(r.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,n=this._contexts;if(t){"production"!==e.env.NODE_ENV?s(t.length===n.length,"Mismatched list of contexts in callback queue"):s(t.length===n.length),this._callbacks=null,this._contexts=null;for(var r=0,o=t.length;o>r;r++)t[r].call(n[r]);t.length=0,n.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(r),t.exports=r}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function n(t,e,n){return n}var r={enableMeasure:!1,storedMeasure:n,measureMethods:function(t,n,o){if("production"!==e.env.NODE_ENV)for(var i in o)o.hasOwnProperty(i)&&(t[i]=r.measure(n,o[i],t[i]))},measure:function(t,n,o){if("production"!==e.env.NODE_ENV){var i=null,s=function(){return r.enableMeasure?(i||(i=r.storedMeasure(t,n,o)),i.apply(this,arguments)):o.apply(this,arguments)};return s.displayName=t+"_"+n,s}return o},injection:{injectMeasure:function(t){r.storedMeasure=t}}};t.exports=r}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=n(31),i=n(33),s={mountComponent:function(t,n,o,s){var a=t.mountComponent(n,o,s);return"production"!==e.env.NODE_ENV&&i.checkAndWarnForMutatedProps(t._currentElement),o.getReactMountReady().enqueue(r,t),a},unmountComponent:function(t){o.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,n,s,a){var c=t._currentElement;if(n!==c||null==n._owner){"production"!==e.env.NODE_ENV&&i.checkAndWarnForMutatedProps(n);var u=o.shouldUpdateRefs(c,n);u&&o.detachRefs(t,c),t.receiveComponent(n,s,a),u&&s.getReactMountReady().enqueue(r,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};t.exports=s}).call(e,n(4))},function(t,e,n){"use strict";function r(t,e,n){"function"==typeof t?t(e.getPublicInstance()):i.addComponentAsRefTo(e,t,n)}function o(t,e,n){"function"==typeof t?t(null):i.removeComponentAsRefFrom(e,t,n)}var i=n(32),s={};s.attachRefs=function(t,e){var n=e.ref;null!=n&&r(n,t,e._owner)},s.shouldUpdateRefs=function(t,e){return e._owner!==t._owner||e.ref!==t.ref},s.detachRefs=function(t,e){var n=e.ref;null!=n&&o(n,t,e._owner)},t.exports=s},function(t,e,n){(function(e){"use strict";var r=n(8),o={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,n,i){"production"!==e.env.NODE_ENV?r(o.isValidOwner(i),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):r(o.isValidOwner(i)),i.attachRef(n,t)},removeComponentAsRefFrom:function(t,n,i){"production"!==e.env.NODE_ENV?r(o.isValidOwner(i),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):r(o.isValidOwner(i)),
i.getPublicInstance().refs[n]===t.getPublicInstance()&&i.detachRef(n)}};t.exports=o}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(){if(E.current){var t=E.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(t){var e=t&&t.getPublicInstance();if(!e)return void 0;var n=e.constructor;return n?n.displayName||n.name||void 0:void 0}function i(){var t=E.current;return t&&o(t)||void 0}function s(t,e){t._store.validated||null!=t.key||(t._store.validated=!0,c('Each child in an array or iterator should have a unique "key" prop.',t,e))}function a(t,e,n){O.test(t)&&c("Child objects should have non-numeric keys so ordering is preserved.",e,n)}function c(t,n,r){var s=i(),a="string"==typeof r?r:r.displayName||r.name,c=s||a,u=C[t]||(C[t]={});if(!u.hasOwnProperty(c)){u[c]=!0;var l=s?" Check the render method of "+s+".":a?" Check the React.render call using <"+a+">.":"",h="";if(n&&n._owner&&n._owner!==E.current){var p=o(n._owner);h=" It was passed a child from "+p+"."}"production"!==e.env.NODE_ENV?_(!1,t+"%s%s See https://fb.me/react-warning-keys for more information.",l,h):null}}function u(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];m.isValidElement(r)&&s(r,e)}else if(m.isValidElement(t))t._store.validated=!0;else if(t){var o=x(t);if(o){if(o!==t.entries)for(var i,c=o.call(t);!(i=c.next()).done;)m.isValidElement(i.value)&&s(i.value,e)}else if("object"==typeof t){var u=g.extractIfFragment(t);for(var l in u)u.hasOwnProperty(l)&&a(l,u[l],e)}}}function l(t,n,o,i){for(var s in n)if(n.hasOwnProperty(s)){var a;try{"production"!==e.env.NODE_ENV?N("function"==typeof n[s],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t||"React class",y[i],s):N("function"==typeof n[s]),a=n[s](o,s,t,i)}catch(c){a=c}if(a instanceof Error&&!(a.message in w)){w[a.message]=!0;var u=r(this);"production"!==e.env.NODE_ENV?_(!1,"Failed propType: %s%s",a.message,u):null}}}function h(t,n){var r=n.type,o="string"==typeof r?r:r.displayName,i=n._owner?n._owner.getPublicInstance().constructor.displayName:null,s=t+"|"+o+"|"+i;if(!D.hasOwnProperty(s)){D[s]=!0;var a="";o&&(a=" <"+o+" />");var c="";i&&(c=" The element was created by "+i+"."),"production"!==e.env.NODE_ENV?_(!1,"Don't set .props.%s of the React component%s. Instead, specify the correct value when initially creating the element or use React.cloneElement to make a new element with updated props.%s",t,a,c):null}}function p(t,e){return t!==t?e!==e:0===t&&0===e?1/t===1/e:t===e}function d(t){if(t._store){var e=t._store.originalProps,n=t.props;for(var r in n)n.hasOwnProperty(r)&&(e.hasOwnProperty(r)&&p(e[r],n[r])||(h(r,t),e[r]=n[r]))}}function f(t){if(null!=t.type){var n=b.getComponentClassForElement(t),r=n.displayName||n.name;n.propTypes&&l(r,n.propTypes,t.props,v.prop),"function"==typeof n.getDefaultProps&&("production"!==e.env.NODE_ENV?_(n.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):null)}}var m=n(12),g=n(11),v=n(34),y=n(35),E=n(18),b=n(36),x=n(22),N=n(8),_=n(16),C={},w={},O=/^\d+$/,D={},T={checkAndWarnForMutatedProps:d,createElement:function(t,n,r){"production"!==e.env.NODE_ENV?_(null!=t,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components)."):null;var o=m.createElement.apply(this,arguments);if(null==o)return o;for(var i=2;i<arguments.length;i++)u(arguments[i],t);return f(o),o},createFactory:function(t){var n=T.createElement.bind(null,t);if(n.type=t,"production"!==e.env.NODE_ENV)try{Object.defineProperty(n,"type",{enumerable:!1,get:function(){return"production"!==e.env.NODE_ENV?_(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):null,Object.defineProperty(this,"type",{value:t}),t}})}catch(r){}return n},cloneElement:function(t,e,n){for(var r=m.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)u(arguments[o],r.type);return f(r),r}};t.exports=T}).call(e,n(4))},function(t,e,n){"use strict";var r=n(7),o=r({prop:null,context:null,childContext:null});t.exports=o},function(t,e,n){(function(e){"use strict";var n={};"production"!==e.env.NODE_ENV&&(n={prop:"prop",context:"context",childContext:"child context"}),t.exports=n}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t){if("function"==typeof t.type)return t.type;var e=t.type,n=h[e];return null==n&&(h[e]=n=u(e)),n}function o(t){return"production"!==e.env.NODE_ENV?c(l,"There is no registered component for the tag %s",t.type):c(l),new l(t.type,t.props)}function i(t){return new p(t)}function s(t){return t instanceof p}var a=n(14),c=n(8),u=null,l=null,h={},p=null,d={injectGenericComponentClass:function(t){l=t},injectTextComponentClass:function(t){p=t},injectComponentClasses:function(t){a(h,t)},injectAutoWrapper:function(t){u=t}},f={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:i,isTextComponent:s,injection:d};t.exports=f}).call(e,n(4))},function(t,e,n){(function(e){"use strict";var r=n(8),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,n,o,i,s,a,c,u){"production"!==e.env.NODE_ENV?r(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):r(!this.isInTransaction());var l,h;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),h=t.call(n,o,i,s,a,c,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return h},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r=e[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(t){"production"!==e.env.NODE_ENV?r(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open."):r(this.isInTransaction());for(var n=this.transactionWrappers,o=t;o<n.length;o++){var s,a=n[o],c=this.wrapperInitData[o];try{s=!0,c!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,c),s=!1}finally{if(s)try{this.closeAll(o+1)}catch(u){}}}this.wrapperInitData.length=0}},i={Mixin:o,OBSERVED_ERROR:{}};t.exports=i}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t,n,r){for(var o in n)n.hasOwnProperty(o)&&("production"!==e.env.NODE_ENV?w("function"==typeof n[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t.displayName||"ReactClass",E[r],o):null)}function o(t,n){var r=S.hasOwnProperty(n)?S[n]:null;M.hasOwnProperty(n)&&("production"!==e.env.NODE_ENV?N(r===D.OVERRIDE_BASE,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",n):N(r===D.OVERRIDE_BASE)),t.hasOwnProperty(n)&&("production"!==e.env.NODE_ENV?N(r===D.DEFINE_MANY||r===D.DEFINE_MANY_MERGED,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):N(r===D.DEFINE_MANY||r===D.DEFINE_MANY_MERGED))}function i(t,n){if(n){"production"!==e.env.NODE_ENV?N("function"!=typeof n,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):N("function"!=typeof n),"production"!==e.env.NODE_ENV?N(!f.isValidElement(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):N(!f.isValidElement(n));var r=t.prototype;n.hasOwnProperty(O)&&I.mixins(t,n.mixins);for(var i in n)if(n.hasOwnProperty(i)&&i!==O){var s=n[i];if(o(r,i),I.hasOwnProperty(i))I[i](t,s);else{var a=S.hasOwnProperty(i),l=r.hasOwnProperty(i),h=s&&s.__reactDontBind,p="function"==typeof s,d=p&&!a&&!l&&!h;if(d)r.__reactAutoBindMap||(r.__reactAutoBindMap={}),r.__reactAutoBindMap[i]=s,r[i]=s;else if(l){var m=S[i];"production"!==e.env.NODE_ENV?N(a&&(m===D.DEFINE_MANY_MERGED||m===D.DEFINE_MANY),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,i):N(a&&(m===D.DEFINE_MANY_MERGED||m===D.DEFINE_MANY)),m===D.DEFINE_MANY_MERGED?r[i]=c(r[i],s):m===D.DEFINE_MANY&&(r[i]=u(r[i],s))}else r[i]=s,"production"!==e.env.NODE_ENV&&"function"==typeof s&&n.displayName&&(r[i].displayName=n.displayName+"_"+i)}}}}function s(t,n){if(n)for(var r in n){var o=n[r];if(n.hasOwnProperty(r)){var i=r in I;"production"!==e.env.NODE_ENV?N(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r):N(!i);var s=r in t;"production"!==e.env.NODE_ENV?N(!s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r):N(!s),t[r]=o}}}function a(t,n){"production"!==e.env.NODE_ENV?N(t&&n&&"object"==typeof t&&"object"==typeof n,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):N(t&&n&&"object"==typeof t&&"object"==typeof n);for(var r in n)n.hasOwnProperty(r)&&("production"!==e.env.NODE_ENV?N(void 0===t[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r):N(void 0===t[r]),t[r]=n[r]);return t}function c(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return a(o,n),a(o,r),o}}function u(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function l(t,n){var r=n.bind(t);if("production"!==e.env.NODE_ENV){r.__reactBoundContext=t,r.__reactBoundMethod=n,r.__reactBoundArguments=null;var o=t.constructor.displayName,i=r.bind;r.bind=function(s){for(var a=[],c=1,u=arguments.length;u>c;c++)a.push(arguments[c]);if(s!==t&&null!==s)"production"!==e.env.NODE_ENV?w(!1,"bind(): React component methods may only be bound to the component instance. See %s",o):null;else if(!a.length)return"production"!==e.env.NODE_ENV?w(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",o):null,r;var l=i.apply(r,arguments);return l.__reactBoundContext=t,l.__reactBoundMethod=n,l.__reactBoundArguments=a,l}}return r}function h(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=l(t,m.guard(n,t.constructor.displayName+"."+e))}}var p=n(23),d=n(18),f=n(12),m=n(39),g=n(26),v=n(25),y=n(34),E=n(35),b=n(24),x=n(14),N=n(8),_=n(7),C=n(40),w=n(16),O=C({mixins:null}),D=_({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),T=[],S={mixins:D.DEFINE_MANY,statics:D.DEFINE_MANY,propTypes:D.DEFINE_MANY,contextTypes:D.DEFINE_MANY,childContextTypes:D.DEFINE_MANY,getDefaultProps:D.DEFINE_MANY_MERGED,getInitialState:D.DEFINE_MANY_MERGED,getChildContext:D.DEFINE_MANY_MERGED,render:D.DEFINE_ONCE,componentWillMount:D.DEFINE_MANY,componentDidMount:D.DEFINE_MANY,componentWillReceiveProps:D.DEFINE_MANY,shouldComponentUpdate:D.DEFINE_ONCE,componentWillUpdate:D.DEFINE_MANY,componentDidUpdate:D.DEFINE_MANY,componentWillUnmount:D.DEFINE_MANY,updateComponent:D.OVERRIDE_BASE},I={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)i(t,e[n])},childContextTypes:function(t,n){"production"!==e.env.NODE_ENV&&r(t,n,y.childContext),t.childContextTypes=x({},t.childContextTypes,n)},contextTypes:function(t,n){"production"!==e.env.NODE_ENV&&r(t,n,y.context),t.contextTypes=x({},t.contextTypes,n)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=c(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,n){"production"!==e.env.NODE_ENV&&r(t,n,y.prop),t.propTypes=x({},t.propTypes,n)},statics:function(t,e){s(t,e)}},P={enumerable:!1,get:function(){var t=this.displayName||this.name||"Component";return"production"!==e.env.NODE_ENV?w(!1,"%s.type is deprecated. Use %s directly to access the class.",t,t):null,Object.defineProperty(this,"type",{value:this}),this}},M={replaceState:function(t,e){b.enqueueReplaceState(this,t),e&&b.enqueueCallback(this,e)},isMounted:function(){if("production"!==e.env.NODE_ENV){var t=d.current;null!==t&&("production"!==e.env.NODE_ENV?w(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"):null,t._warnedAboutRefsInRender=!0)}var n=g.get(this);return n&&n!==v.currentlyMountingInstance},setProps:function(t,e){b.enqueueSetProps(this,t),e&&b.enqueueCallback(this,e)},replaceProps:function(t,e){b.enqueueReplaceProps(this,t),e&&b.enqueueCallback(this,e)}},A=function(){};x(A.prototype,p.prototype,M);var R={createClass:function(t){var n=function(t,r){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?w(this instanceof n,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):null),this.__reactAutoBindMap&&h(this),this.props=t,this.context=r,this.state=null;var o=this.getInitialState?this.getInitialState():null;"production"!==e.env.NODE_ENV&&"undefined"==typeof o&&this.getInitialState._isMockFunction&&(o=null),"production"!==e.env.NODE_ENV?N("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",n.displayName||"ReactCompositeComponent"):N("object"==typeof o&&!Array.isArray(o)),this.state=o};n.prototype=new A,n.prototype.constructor=n,T.forEach(i.bind(null,n)),i(n,t),n.getDefaultProps&&(n.defaultProps=n.getDefaultProps()),"production"!==e.env.NODE_ENV&&(n.getDefaultProps&&(n.getDefaultProps.isReactClassApproved={}),n.prototype.getInitialState&&(n.prototype.getInitialState.isReactClassApproved={})),"production"!==e.env.NODE_ENV?N(n.prototype.render,"createClass(...): Class specification must implement a `render` method."):N(n.prototype.render),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?w(!n.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",t.displayName||"A component"):null);for(var r in S)n.prototype[r]||(n.prototype[r]=null);if(n.type=n,"production"!==e.env.NODE_ENV)try{Object.defineProperty(n,"type",P)}catch(o){}return n},injection:{injectMixin:function(t){T.push(t)}}};t.exports=R}).call(e,n(4))},function(t,e){"use strict";var n={guard:function(t,e){return t}};t.exports=n},function(t,e){var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.exports=n},function(t,e,n){(function(e){"use strict";function r(t){return"production"!==e.env.NODE_ENV?i.createFactory(t):o.createFactory(t)}var o=n(12),i=n(33),s=n(42),a=s({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=a}).call(e,n(4))},function(t,e){"use strict";function n(t,e,n){if(!t)return null;var o={};for(var i in t)r.call(t,i)&&(o[i]=e.call(n,t[i],i,t));return o}var r=Object.prototype.hasOwnProperty;t.exports=n},function(t,e,n){"use strict";var r=n(44),o=n(48),i=n(88),s=n(14),a=n(47),c=function(t){};s(c.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){this._rootNodeID=t;var o=a(this._stringText);return e.renderToStaticMarkup?o:"<span "+r.createMarkupForID(t)+">"+o+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;n!==this._stringText&&(this._stringText=n,i.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=c},function(t,e,n){(function(e){"use strict";function r(t,e){return null==e||o.hasBooleanValue[t]&&!e||o.hasNumericValue[t]&&isNaN(e)||o.hasPositiveNumericValue[t]&&1>e||o.hasOverloadedBooleanValue[t]&&e===!1}var o=n(45),i=n(46),s=n(16);if("production"!==e.env.NODE_ENV)var a={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},c={},u=function(t){if(!(a.hasOwnProperty(t)&&a[t]||c.hasOwnProperty(t)&&c[t])){c[t]=!0;var n=t.toLowerCase(),r=o.isCustomAttribute(n)?n:o.getPossibleStandardName.hasOwnProperty(n)?o.getPossibleStandardName[n]:null;"production"!==e.env.NODE_ENV?s(null==r,"Unknown DOM property %s. Did you mean %s?",t,r):null}};var l={createMarkupForID:function(t){return o.ID_ATTRIBUTE_NAME+"="+i(t)},createMarkupForProperty:function(t,n){if(o.isStandardName.hasOwnProperty(t)&&o.isStandardName[t]){if(r(t,n))return"";var s=o.getAttributeName[t];return o.hasBooleanValue[t]||o.hasOverloadedBooleanValue[t]&&n===!0?s:s+"="+i(n)}return o.isCustomAttribute(t)?null==n?"":t+"="+i(n):("production"!==e.env.NODE_ENV&&u(t),null)},setValueForProperty:function(t,n,i){if(o.isStandardName.hasOwnProperty(n)&&o.isStandardName[n]){var s=o.getMutationMethod[n];if(s)s(t,i);else if(r(n,i))this.deleteValueForProperty(t,n);else if(o.mustUseAttribute[n])t.setAttribute(o.getAttributeName[n],""+i);else{var a=o.getPropertyName[n];o.hasSideEffects[n]&&""+t[a]==""+i||(t[a]=i)}}else o.isCustomAttribute(n)?null==i?t.removeAttribute(n):t.setAttribute(n,""+i):"production"!==e.env.NODE_ENV&&u(n)},deleteValueForProperty:function(t,n){if(o.isStandardName.hasOwnProperty(n)&&o.isStandardName[n]){var r=o.getMutationMethod[n];if(r)r(t,void 0);else if(o.mustUseAttribute[n])t.removeAttribute(o.getAttributeName[n]);else{var i=o.getPropertyName[n],s=o.getDefaultValueForProperty(t.nodeName,i);o.hasSideEffects[n]&&""+t[i]===s||(t[i]=s)}}else o.isCustomAttribute(n)?t.removeAttribute(n):"production"!==e.env.NODE_ENV&&u(n)}};t.exports=l}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t,e){return(t&e)===e}var o=n(8),i={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var n=t.Properties||{},s=t.DOMAttributeNames||{},c=t.DOMPropertyNames||{},u=t.DOMMutationMethods||{};t.isCustomAttribute&&a._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var l in n){"production"!==e.env.NODE_ENV?o(!a.isStandardName.hasOwnProperty(l),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",l):o(!a.isStandardName.hasOwnProperty(l)),a.isStandardName[l]=!0;var h=l.toLowerCase();if(a.getPossibleStandardName[h]=l,s.hasOwnProperty(l)){var p=s[l];a.getPossibleStandardName[p]=l,a.getAttributeName[l]=p}else a.getAttributeName[l]=h;a.getPropertyName[l]=c.hasOwnProperty(l)?c[l]:l,u.hasOwnProperty(l)?a.getMutationMethod[l]=u[l]:a.getMutationMethod[l]=null;var d=n[l];a.mustUseAttribute[l]=r(d,i.MUST_USE_ATTRIBUTE),a.mustUseProperty[l]=r(d,i.MUST_USE_PROPERTY),a.hasSideEffects[l]=r(d,i.HAS_SIDE_EFFECTS),a.hasBooleanValue[l]=r(d,i.HAS_BOOLEAN_VALUE),a.hasNumericValue[l]=r(d,i.HAS_NUMERIC_VALUE),a.hasPositiveNumericValue[l]=r(d,i.HAS_POSITIVE_NUMERIC_VALUE),a.hasOverloadedBooleanValue[l]=r(d,i.HAS_OVERLOADED_BOOLEAN_VALUE),"production"!==e.env.NODE_ENV?o(!a.mustUseAttribute[l]||!a.mustUseProperty[l],"DOMProperty: Cannot require using both attribute and property: %s",l):o(!a.mustUseAttribute[l]||!a.mustUseProperty[l]),"production"!==e.env.NODE_ENV?o(a.mustUseProperty[l]||!a.hasSideEffects[l],"DOMProperty: Properties that have side effects must use property: %s",l):o(a.mustUseProperty[l]||!a.hasSideEffects[l]),"production"!==e.env.NODE_ENV?o(!!a.hasBooleanValue[l]+!!a.hasNumericValue[l]+!!a.hasOverloadedBooleanValue[l]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",l):o(!!a.hasBooleanValue[l]+!!a.hasNumericValue[l]+!!a.hasOverloadedBooleanValue[l]<=1)}}},s={},a={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<a._isCustomAttributeFunctions.length;e++){var n=a._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,r=s[t];return r||(s[t]=r={}),e in r||(n=document.createElement(t),r[e]=n[e]),r[e]},injection:i};t.exports=a}).call(e,n(4))},function(t,e,n){"use strict";function r(t){return'"'+o(t)+'"'}var o=n(47);t.exports=r},function(t,e){"use strict";function n(t){return o[t]}function r(t){return(""+t).replace(i,n)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;t.exports=r},function(t,e,n){"use strict";var r=n(49),o=n(68),i={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){o.purgeID(t)}};t.exports=i},function(t,e,n){(function(e){"use strict";var r=n(50),o=n(59),i=n(44),s=n(68),a=n(29),c=n(8),u=n(67),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},h={updatePropertyByID:function(t,n,r){var o=s.getNode(t);"production"!==e.env.NODE_ENV?c(!l.hasOwnProperty(n),"updatePropertyByID(...): %s",l[n]):c(!l.hasOwnProperty(n)),null!=r?i.setValueForProperty(o,n,r):i.deleteValueForProperty(o,n)},deletePropertyByID:function(t,n,r){var o=s.getNode(t);"production"!==e.env.NODE_ENV?c(!l.hasOwnProperty(n),"updatePropertyByID(...): %s",l[n]):c(!l.hasOwnProperty(n)),i.deleteValueForProperty(o,n,r)},updateStylesByID:function(t,e){var n=s.getNode(t);r.setValueForStyles(n,e)},updateInnerHTMLByID:function(t,e){var n=s.getNode(t);u(n,e)},updateTextContentByID:function(t,e){var n=s.getNode(t);o.updateTextContent(n,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=s.getNode(t);o.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=s.getNode(t[n].parentID);o.processUpdates(t,e)}};a.measureMethods(h,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=h}).call(e,n(4))},function(t,e,n){(function(e){"use strict";var r=n(51),o=n(52),i=n(53),s=n(55),a=n(56),c=n(58),u=n(16),l=c(function(t){return a(t)}),h="cssFloat";if(o.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(h="styleFloat"),"production"!==e.env.NODE_ENV)var p=/^(?:webkit|moz|o)[A-Z]/,d=/;\s*$/,f={},m={},g=function(t){f.hasOwnProperty(t)&&f[t]||(f[t]=!0,"production"!==e.env.NODE_ENV?u(!1,"Unsupported style property %s. Did you mean %s?",t,i(t)):null)},v=function(t){f.hasOwnProperty(t)&&f[t]||(f[t]=!0,"production"!==e.env.NODE_ENV?u(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",t,t.charAt(0).toUpperCase()+t.slice(1)):null)},y=function(t,n){m.hasOwnProperty(n)&&m[n]||(m[n]=!0,"production"!==e.env.NODE_ENV?u(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',t,n.replace(d,"")):null)},E=function(t,e){t.indexOf("-")>-1?g(t):p.test(t)?v(t):d.test(e)&&y(t,e)};var b={createMarkupForStyles:function(t){var n="";for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];"production"!==e.env.NODE_ENV&&E(r,o),null!=o&&(n+=l(r)+":",n+=s(r,o)+";")}return n||null},setValueForStyles:function(t,n){var o=t.style;for(var i in n)if(n.hasOwnProperty(i)){"production"!==e.env.NODE_ENV&&E(i,n[i]);var a=s(i,n[i]);if("float"===i&&(i=h),a)o[i]=a;else{var c=r.shorthandPropertyExpansions[i];if(c)for(var u in c)o[u]="";else o[i]=""}}}};t.exports=b}).call(e,n(4))},function(t,e){"use strict";function n(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var r={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){o.forEach(function(e){r[n(e,t)]=r[t]})});var i={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},s={isUnitlessNumber:r,shorthandPropertyExpansions:i};t.exports=s},function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},function(t,e,n){"use strict";function r(t){return o(t.replace(i,"ms-"))}var o=n(54),i=/^-ms-/;t.exports=r},function(t,e){function n(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;t.exports=n},function(t,e,n){"use strict";function r(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var r=isNaN(e);return r||0===e||i.hasOwnProperty(t)&&i[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var o=n(51),i=o.isUnitlessNumber;t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).replace(i,"-ms-")}var o=n(57),i=/^ms-/;t.exports=r},function(t,e){function n(t){return t.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;t.exports=n},function(t,e){"use strict";function n(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=n},function(t,e,n){(function(e){"use strict";function r(t,e,n){t.insertBefore(e,t.childNodes[n]||null)}var o=n(60),i=n(65),s=n(66),a=n(8),c={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:s,processUpdates:function(t,n){for(var c,u=null,l=null,h=0;h<t.length;h++)if(c=t[h],c.type===i.MOVE_EXISTING||c.type===i.REMOVE_NODE){var p=c.fromIndex,d=c.parentNode.childNodes[p],f=c.parentID;"production"!==e.env.NODE_ENV?a(d,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",p,f):a(d),u=u||{},u[f]=u[f]||[],u[f][p]=d,l=l||[],l.push(d)}var m=o.dangerouslyRenderMarkup(n);if(l)for(var g=0;g<l.length;g++)l[g].parentNode.removeChild(l[g]);for(var v=0;v<t.length;v++)switch(c=t[v],c.type){case i.INSERT_MARKUP:r(c.parentNode,m[c.markupIndex],c.toIndex);break;case i.MOVE_EXISTING:r(c.parentNode,u[c.parentID][c.fromIndex],c.toIndex);break;case i.TEXT_CONTENT:s(c.parentNode,c.textContent);break;case i.REMOVE_NODE:}}};t.exports=c}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t){return t.substring(1,t.indexOf(" "))}var o=n(52),i=n(61),s=n(17),a=n(64),c=n(8),u=/^(<[^ \/>]+)/,l="data-danger-index",h={dangerouslyRenderMarkup:function(t){"production"!==e.env.NODE_ENV?c(o.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):c(o.canUseDOM);for(var n,h={},p=0;p<t.length;p++)"production"!==e.env.NODE_ENV?c(t[p],"dangerouslyRenderMarkup(...): Missing markup."):c(t[p]),n=r(t[p]),n=a(n)?n:"*",h[n]=h[n]||[],h[n][p]=t[p];var d=[],f=0;for(n in h)if(h.hasOwnProperty(n)){var m,g=h[n];for(m in g)if(g.hasOwnProperty(m)){var v=g[m];g[m]=v.replace(u,"$1 "+l+'="'+m+'" ')}for(var y=i(g.join(""),s),E=0;E<y.length;++E){var b=y[E];b.hasAttribute&&b.hasAttribute(l)?(m=+b.getAttribute(l),b.removeAttribute(l),"production"!==e.env.NODE_ENV?c(!d.hasOwnProperty(m),"Danger: Assigning to an already-occupied result index."):c(!d.hasOwnProperty(m)),d[m]=b,f+=1):"production"!==e.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",b)}}return"production"!==e.env.NODE_ENV?c(f===d.length,"Danger: Did not assign to every index of resultList."):c(f===d.length),"production"!==e.env.NODE_ENV?c(d.length===t.length,"Danger: Expected markup to render %s nodes, but rendered %s.",t.length,d.length):c(d.length===t.length),d},dangerouslyReplaceNodeWithMarkup:function(t,n){"production"!==e.env.NODE_ENV?c(o.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):c(o.canUseDOM),"production"!==e.env.NODE_ENV?c(n,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):c(n),"production"!==e.env.NODE_ENV?c("html"!==t.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See React.renderToString()."):c("html"!==t.tagName.toLowerCase());
var r=i(n,s)[0];t.parentNode.replaceChild(r,t)}};t.exports=h}).call(e,n(4))},function(t,e,n){(function(e){function r(t){var e=t.match(l);return e&&e[1].toLowerCase()}function o(t,n){var o=u;"production"!==e.env.NODE_ENV?c(!!u,"createNodesFromMarkup dummy not initialized"):c(!!u);var i=r(t),l=i&&a(i);if(l){o.innerHTML=l[1]+t+l[2];for(var h=l[0];h--;)o=o.lastChild}else o.innerHTML=t;var p=o.getElementsByTagName("script");p.length&&("production"!==e.env.NODE_ENV?c(n,"createNodesFromMarkup(...): Unexpected <script> element rendered."):c(n),s(p).forEach(n));for(var d=s(o.childNodes);o.lastChild;)o.removeChild(o.lastChild);return d}var i=n(52),s=n(62),a=n(64),c=n(8),u=i.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;t.exports=o}).call(e,n(4))},function(t,e,n){function r(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function o(t){return r(t)?Array.isArray(t)?t.slice():i(t):[t]}var i=n(63);t.exports=o},function(t,e,n){(function(e){function r(t){var n=t.length;if("production"!==e.env.NODE_ENV?o(!Array.isArray(t)&&("object"==typeof t||"function"==typeof t),"toArray: Array-like object expected"):o(!Array.isArray(t)&&("object"==typeof t||"function"==typeof t)),"production"!==e.env.NODE_ENV?o("number"==typeof n,"toArray: Object needs a length property"):o("number"==typeof n),"production"!==e.env.NODE_ENV?o(0===n||n-1 in t,"toArray: Object should have keys for indices"):o(0===n||n-1 in t),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(r){}for(var i=Array(n),s=0;n>s;s++)i[s]=t[s];return i}var o=n(8);t.exports=r}).call(e,n(4))},function(t,e,n){(function(e){function r(t){return"production"!==e.env.NODE_ENV?i(!!s,"Markup wrapping node not initialized"):i(!!s),p.hasOwnProperty(t)||(t="*"),a.hasOwnProperty(t)||("*"===t?s.innerHTML="<link />":s.innerHTML="<"+t+"></"+t+">",a[t]=!s.firstChild),a[t]?p[t]:null}var o=n(52),i=n(8),s=o.canUseDOM?document.createElement("div"):null,a={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},c=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,"<svg>","</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:c,option:c,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:l,th:l,circle:h,clipPath:h,defs:h,ellipse:h,g:h,line:h,linearGradient:h,path:h,polygon:h,polyline:h,radialGradient:h,rect:h,stop:h,text:h};t.exports=r}).call(e,n(4))},function(t,e,n){"use strict";var r=n(7),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=o},function(t,e,n){"use strict";var r=n(52),o=n(47),i=n(67),s=function(t,e){t.textContent=e};r.canUseDOM&&("textContent"in document.documentElement||(s=function(t,e){i(t,o(e))})),t.exports=s},function(t,e,n){"use strict";var r=n(52),o=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=function(t,e){t.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(s=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),r.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(s=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),o.test(e)||"<"===e[0]&&i.test(e)){t.innerHTML="\ufeff"+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}t.exports=s},function(t,e,n){(function(e){"use strict";function r(t,e){for(var n=Math.min(t.length,e.length),r=0;n>r;r++)if(t.charAt(r)!==e.charAt(r))return r;return t.length===e.length?-1:n}function o(t){var e=P(t);return e&&z.getID(e)}function i(t){var n=s(t);if(n)if(U.hasOwnProperty(n)){var r=U[n];r!==t&&("production"!==e.env.NODE_ENV?A(!l(r,n),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",j,n):A(!l(r,n)),U[n]=t)}else U[n]=t;return n}function s(t){return t&&t.getAttribute&&t.getAttribute(j)||""}function a(t,e){var n=s(t);n!==e&&delete U[n],t.setAttribute(j,e),U[e]=t}function c(t){return U.hasOwnProperty(t)&&l(U[t],t)||(U[t]=z.findReactNodeByID(t)),U[t]}function u(t){var e=_.get(t)._rootNodeID;return x.isNullComponentID(e)?null:(U.hasOwnProperty(e)&&l(U[e],e)||(U[e]=z.findReactNodeByID(e)),U[e])}function l(t,n){if(t){"production"!==e.env.NODE_ENV?A(s(t)===n,"ReactMount: Unexpected modification of `%s`",j):A(s(t)===n);var r=z.findReactContainerForID(n);if(r&&I(r,t))return!0}return!1}function h(t){delete U[t]}function p(t){var e=U[t];return e&&l(e,t)?void(K=e):!1}function d(t){K=null,N.traverseAncestors(t,p);var e=K;return K=null,e}function f(t,e,n,r,o){var i=O.mountComponent(t,e,r,S);t._isTopLevel=!0,z._mountImageIntoNode(i,n,o)}function m(t,e,n,r){var o=T.ReactReconcileTransaction.getPooled();o.perform(f,null,t,e,n,o,r),T.ReactReconcileTransaction.release(o)}var g=n(45),v=n(69),y=n(18),E=n(12),b=n(33),x=n(77),N=n(20),_=n(26),C=n(78),w=n(29),O=n(30),D=n(24),T=n(27),S=n(15),I=n(80),P=n(83),M=n(84),A=n(8),R=n(67),k=n(87),V=n(16),L=N.SEPARATOR,j=g.ID_ATTRIBUTE_NAME,U={},F=1,B=9,$={},H={};if("production"!==e.env.NODE_ENV)var q={};var W=[],K=null,z={_instancesByReactRootID:$,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,n,r,i){return"production"!==e.env.NODE_ENV&&b.checkAndWarnForMutatedProps(n),z.scrollMonitor(r,function(){D.enqueueElementInternal(t,n),i&&D.enqueueCallbackInternal(t,i)}),"production"!==e.env.NODE_ENV&&(q[o(r)]=P(r)),t},_registerComponent:function(t,n){"production"!==e.env.NODE_ENV?A(n&&(n.nodeType===F||n.nodeType===B),"_registerComponent(...): Target container is not a DOM element."):A(n&&(n.nodeType===F||n.nodeType===B)),v.ensureScrollValueMonitoring();var r=z.registerContainer(n);return $[r]=t,r},_renderNewRootComponent:function(t,n,r){"production"!==e.env.NODE_ENV?V(null==y.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null;var o=M(t,null),i=z._registerComponent(o,n);return T.batchedUpdates(m,o,i,n,r),"production"!==e.env.NODE_ENV&&(q[i]=P(n)),o},render:function(t,n,r){"production"!==e.env.NODE_ENV?A(E.isValidElement(t),"React.render(): Invalid component element.%s","string"==typeof t?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof t?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""):A(E.isValidElement(t));var i=$[o(n)];if(i){var s=i._currentElement;if(k(s,t))return z._updateRootComponent(i,t,n,r).getPublicInstance();z.unmountComponentAtNode(n)}var a=P(n),c=a&&z.isRenderedByReact(a);if("production"!==e.env.NODE_ENV&&(!c||a.nextSibling))for(var u=a;u;){if(z.isRenderedByReact(u)){"production"!==e.env.NODE_ENV?V(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):null;break}u=u.nextSibling}var l=c&&!i,h=z._renderNewRootComponent(t,n,l).getPublicInstance();return r&&r.call(h),h},constructAndRenderComponent:function(t,e,n){var r=E.createElement(t,e);return z.render(r,n)},constructAndRenderComponentByID:function(t,n,r){var o=document.getElementById(r);return"production"!==e.env.NODE_ENV?A(o,'Tried to get element with id of "%s" but it is not present on the page.',r):A(o),z.constructAndRenderComponent(t,n,o)},registerContainer:function(t){var e=o(t);return e&&(e=N.getReactRootIDFromNodeID(e)),e||(e=N.createReactRootID()),H[e]=t,e},unmountComponentAtNode:function(t){"production"!==e.env.NODE_ENV?V(null==y.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,"production"!==e.env.NODE_ENV?A(t&&(t.nodeType===F||t.nodeType===B),"unmountComponentAtNode(...): Target container is not a DOM element."):A(t&&(t.nodeType===F||t.nodeType===B));var n=o(t),r=$[n];return r?(z.unmountComponentFromNode(r,t),delete $[n],delete H[n],"production"!==e.env.NODE_ENV&&delete q[n],!0):!1},unmountComponentFromNode:function(t,e){for(O.unmountComponent(t),e.nodeType===B&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)},findReactContainerForID:function(t){var n=N.getReactRootIDFromNodeID(t),r=H[n];if("production"!==e.env.NODE_ENV){var o=q[n];if(o&&o.parentNode!==r){"production"!==e.env.NODE_ENV?A(s(o)===n,"ReactMount: Root element ID differed from reactRootID."):A(s(o)===n);var i=r.firstChild;i&&n===s(i)?q[n]=i:"production"!==e.env.NODE_ENV?V(!1,"ReactMount: Root element has been removed from its original container. New container:",o.parentNode):null}}return r},findReactNodeByID:function(t){var e=z.findReactContainerForID(t);return z.findComponentRoot(e,t)},isRenderedByReact:function(t){if(1!==t.nodeType)return!1;var e=z.getID(t);return e?e.charAt(0)===L:!1},getFirstReactDOM:function(t){for(var e=t;e&&e.parentNode!==e;){if(z.isRenderedByReact(e))return e;e=e.parentNode}return null},findComponentRoot:function(t,n){var r=W,o=0,i=d(n)||t;for(r[0]=i.firstChild,r.length=1;o<r.length;){for(var s,a=r[o++];a;){var c=z.getID(a);c?n===c?s=a:N.isAncestorIDOf(c,n)&&(r.length=o=0,r.push(a.firstChild)):r.push(a.firstChild),a=a.nextSibling}if(s)return r.length=0,s}r.length=0,"production"!==e.env.NODE_ENV?A(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",n,z.getID(t)):A(!1)},_mountImageIntoNode:function(t,n,o){if("production"!==e.env.NODE_ENV?A(n&&(n.nodeType===F||n.nodeType===B),"mountComponentIntoNode(...): Target container is not valid."):A(n&&(n.nodeType===F||n.nodeType===B)),o){var i=P(n);if(C.canReuseMarkup(t,i))return;var s=i.getAttribute(C.CHECKSUM_ATTR_NAME);i.removeAttribute(C.CHECKSUM_ATTR_NAME);var a=i.outerHTML;i.setAttribute(C.CHECKSUM_ATTR_NAME,s);var c=r(t,a),u=" (client) "+t.substring(c-20,c+20)+"\n (server) "+a.substring(c-20,c+20);"production"!==e.env.NODE_ENV?A(n.nodeType!==B,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",u):A(n.nodeType!==B),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?V(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",u):null)}"production"!==e.env.NODE_ENV?A(n.nodeType!==B,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See React.renderToString() for server rendering."):A(n.nodeType!==B),R(n,t)},getReactRootID:o,getID:i,setID:a,getNode:c,getNodeFromInstance:u,purgeID:h};w.measureMethods(z,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=z}).call(e,n(4))},function(t,e,n){"use strict";function r(t){return Object.prototype.hasOwnProperty.call(t,m)||(t[m]=d++,h[t[m]]={}),h[t[m]]}var o=n(6),i=n(70),s=n(71),a=n(74),c=n(75),u=n(14),l=n(76),h={},p=!1,d=0,f={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=u({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=t}},setEnabled:function(t){g.ReactEventListener&&g.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,i=r(n),a=s.registrationNameDependencies[t],c=o.topLevelTypes,u=0,h=a.length;h>u;u++){var p=a[u];i.hasOwnProperty(p)&&i[p]||(p===c.topWheel?l("wheel")?g.ReactEventListener.trapBubbledEvent(c.topWheel,"wheel",n):l("mousewheel")?g.ReactEventListener.trapBubbledEvent(c.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(c.topWheel,"DOMMouseScroll",n):p===c.topScroll?l("scroll",!0)?g.ReactEventListener.trapCapturedEvent(c.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(c.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):p===c.topFocus||p===c.topBlur?(l("focus",!0)?(g.ReactEventListener.trapCapturedEvent(c.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(c.topBlur,"blur",n)):l("focusin")&&(g.ReactEventListener.trapBubbledEvent(c.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(c.topBlur,"focusout",n)),i[c.topBlur]=!0,i[c.topFocus]=!0):f.hasOwnProperty(p)&&g.ReactEventListener.trapBubbledEvent(p,f[p],n),i[p]=!0)}},trapBubbledEvent:function(t,e,n){return g.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return g.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!p){var t=c.refreshScrollValues;g.ReactEventListener.monitorScrollValue(t),p=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});t.exports=g},function(t,e,n){(function(e){"use strict";function r(){var t=p&&p.traverseTwoPhase&&p.traverseEnterLeave;"production"!==e.env.NODE_ENV?c(t,"InstanceHandle not injected before use!"):c(t)}var o=n(71),i=n(5),s=n(72),a=n(73),c=n(8),u={},l=null,h=function(t){if(t){var e=i.executeDispatch,n=o.getPluginModuleForEvent(t);n&&n.executeDispatch&&(e=n.executeDispatch),i.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t)}},p=null,d={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(t){p=t,"production"!==e.env.NODE_ENV&&r()},getInstanceHandle:function(){return"production"!==e.env.NODE_ENV&&r(),p},injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:function(t,n,r){"production"!==e.env.NODE_ENV?c(!r||"function"==typeof r,"Expected %s listener to be a function, instead got type %s",n,typeof r):c(!r||"function"==typeof r);var o=u[n]||(u[n]={});o[t]=r},getListener:function(t,e){var n=u[e];return n&&n[t]},deleteListener:function(t,e){var n=u[e];n&&delete n[t]},deleteAllListeners:function(t){for(var e in u)delete u[e][t]},extractEvents:function(t,e,n,r){for(var i,a=o.plugins,c=0,u=a.length;u>c;c++){var l=a[c];if(l){var h=l.extractEvents(t,e,n,r);h&&(i=s(i,h))}}return i},enqueueEvents:function(t){t&&(l=s(l,t))},processEventQueue:function(){var t=l;l=null,a(t,h),"production"!==e.env.NODE_ENV?c(!l,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):c(!l)},__purge:function(){u={}},__getListenerBank:function(){return u}};t.exports=d}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(){if(a)for(var t in c){var n=c[t],r=a.indexOf(t);if("production"!==e.env.NODE_ENV?s(r>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",t):s(r>-1),!u.plugins[r]){"production"!==e.env.NODE_ENV?s(n.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",t):s(n.extractEvents),u.plugins[r]=n;var i=n.eventTypes;for(var l in i)"production"!==e.env.NODE_ENV?s(o(i[l],n,l),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",l,t):s(o(i[l],n,l))}}}function o(t,n,r){"production"!==e.env.NODE_ENV?s(!u.eventNameDispatchConfigs.hasOwnProperty(r),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",r):s(!u.eventNameDispatchConfigs.hasOwnProperty(r)),u.eventNameDispatchConfigs[r]=t;var o=t.phasedRegistrationNames;if(o){for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];i(c,n,r)}return!0}return t.registrationName?(i(t.registrationName,n,r),!0):!1}function i(t,n,r){"production"!==e.env.NODE_ENV?s(!u.registrationNameModules[t],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",t):s(!u.registrationNameModules[t]),u.registrationNameModules[t]=n,u.registrationNameDependencies[t]=n.eventTypes[r].dependencies}var s=n(8),a=null,c={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){"production"!==e.env.NODE_ENV?s(!a,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):s(!a),a=Array.prototype.slice.call(t),r()},injectEventPluginsByName:function(t){var n=!1;for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];c.hasOwnProperty(o)&&c[o]===i||("production"!==e.env.NODE_ENV?s(!c[o],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",o):s(!c[o]),c[o]=i,n=!0)}n&&r()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return u.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var r=u.registrationNameModules[e.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){a=null;for(var t in c)c.hasOwnProperty(t)&&delete c[t];u.plugins.length=0;var e=u.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var r=u.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=u}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t,n){if("production"!==e.env.NODE_ENV?o(null!=n,"accumulateInto(...): Accumulated items must not be null or undefined."):o(null!=n),null==t)return n;var r=Array.isArray(t),i=Array.isArray(n);return r&&i?(t.push.apply(t,n),t):r?(t.push(n),t):i?[t].concat(n):[t,n]}var o=n(8);t.exports=r}).call(e,n(4))},function(t,e){"use strict";var n=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};t.exports=n},function(t,e,n){"use strict";function r(t){o.enqueueEvents(t),o.processEventQueue()}var o=n(70),i={handleTopLevel:function(t,e,n,i){var s=o.extractEvents(t,e,n,i);r(s)}};t.exports=i},function(t,e){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){n.currentScrollLeft=t.x,n.currentScrollTop=t.y}};t.exports=n},function(t,e,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(t,e){if(!i.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r="function"==typeof s[n]}return!r&&o&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=n(52);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},function(t,e,n){(function(e){"use strict";function r(t){l[t]=!0}function o(t){delete l[t]}function i(t){return!!l[t]}var s,a=n(12),c=n(26),u=n(8),l={},h={injectEmptyComponent:function(t){s=a.createFactory(t)}},p=function(){};p.prototype.componentDidMount=function(){var t=c.get(this);t&&r(t._rootNodeID)},p.prototype.componentWillUnmount=function(){var t=c.get(this);t&&o(t._rootNodeID)},p.prototype.render=function(){return"production"!==e.env.NODE_ENV?u(s,"Trying to return null from a render, but no null placeholder component was injected."):u(s),s()};var d=a.createElement(p),f={emptyElement:d,injection:h,isNullComponentID:i};t.exports=f}).call(e,n(4))},function(t,e,n){"use strict";var r=n(79),o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=r(t);return t.replace(">"," "+o.CHECKSUM_ATTR_NAME+'="'+e+'">')},canReuseMarkup:function(t,e){var n=e.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(t);return i===n}};t.exports=o},function(t,e){"use strict";function n(t){for(var e=1,n=0,o=0;o<t.length;o++)e=(e+t.charCodeAt(o))%r,n=(n+e)%r;return e|n<<16}var r=65521;t.exports=n},function(t,e,n){function r(t,e){return t&&e?t===e?!0:o(t)?!1:o(e)?r(t,e.parentNode):t.contains?t.contains(e):t.compareDocumentPosition?!!(16&t.compareDocumentPosition(e)):!1:!1}var o=n(81);t.exports=r},function(t,e,n){function r(t){return o(t)&&3==t.nodeType}var o=n(82);t.exports=r},function(t,e){function n(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=n},function(t,e){"use strict";function n(t){return t?t.nodeType===r?t.documentElement:t.firstChild:null}var r=9;t.exports=n},function(t,e,n){(function(e){"use strict";function r(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function o(t,n){var o;if((null===t||t===!1)&&(t=s.emptyElement),"object"==typeof t){var i=t;"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?l(i&&("function"==typeof i.type||"string"==typeof i.type),"Only functions or strings can be mounted as React components."):null),o=n===i.type&&"string"==typeof i.type?a.createInternalComponent(i):r(i.type)?new i.type(i):new h}else"string"==typeof t||"number"==typeof t?o=a.createInstanceForText(t):"production"!==e.env.NODE_ENV?u(!1,"Encountered invalid React node of type %s",typeof t):u(!1);return"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?l("function"==typeof o.construct&&"function"==typeof o.mountComponent&&"function"==typeof o.receiveComponent&&"function"==typeof o.unmountComponent,"Only React Components can be mounted."):null),o.construct(t),o._mountIndex=0,o._mountImage=null,"production"!==e.env.NODE_ENV&&(o._isOwnerNecessary=!1,o._warnedAboutRefsInRender=!1),"production"!==e.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(o),o}var i=n(85),s=n(77),a=n(36),c=n(14),u=n(8),l=n(16),h=function(){};c(h.prototype,i.Mixin,{_instantiateReactComponent:o}),t.exports=o}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}var o=n(86),i=n(13),s=n(18),a=n(12),c=n(33),u=n(26),l=n(25),h=n(36),p=n(29),d=n(34),f=n(35),m=n(30),g=n(27),v=n(14),y=n(15),E=n(8),b=n(87),x=n(16),N=1,_={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(t,n,r){this._context=r,this._mountOrder=N++,this._rootNodeID=t;var o=this._processProps(this._currentElement.props),i=this._processContext(this._currentElement._context),s=h.getComponentClassForElement(this._currentElement),a=new s(o,i);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?x(null!=a.render,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render` in your component or you may have accidentally tried to render an element whose type is a function that isn't a React component.",s.displayName||s.name||"Component"):null),a.props=o,a.context=i,a.refs=y,this._instance=a,u.set(a,this),"production"!==e.env.NODE_ENV&&this._warnIfContextsDiffer(this._currentElement._context,r),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?x(!a.getInitialState||a.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?x(!a.getDefaultProps||a.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?x(!a.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?x(!a.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?x("function"!=typeof a.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):null);var c=a.state;void 0===c&&(a.state=c=null),"production"!==e.env.NODE_ENV?E("object"==typeof c&&!Array.isArray(c),"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):E("object"==typeof c&&!Array.isArray(c)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var p,d,f=l.currentlyMountingInstance;l.currentlyMountingInstance=this;try{a.componentWillMount&&(a.componentWillMount(),this._pendingStateQueue&&(a.state=this._processPendingState(a.props,a.context))),p=this._getValidatedChildContext(r),d=this._renderValidatedComponent(p)}finally{l.currentlyMountingInstance=f}this._renderedComponent=this._instantiateReactComponent(d,this._currentElement.type);var g=m.mountComponent(this._renderedComponent,t,n,this._mergeChildContext(r,p));return a.componentDidMount&&n.getReactMountReady().enqueue(a.componentDidMount,a),g},unmountComponent:function(){var t=this._instance;if(t.componentWillUnmount){var e=l.currentlyUnmountingInstance;l.currentlyUnmountingInstance=this;try{t.componentWillUnmount()}finally{l.currentlyUnmountingInstance=e}}m.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,u.remove(t)},_setPropsInternal:function(t,e){var n=this._pendingElement||this._currentElement;this._pendingElement=a.cloneAndReplaceProps(n,v({},n.props,t)),g.enqueueUpdate(this,e)},_maskContext:function(t){var e=null;if("string"==typeof this._currentElement.type)return y;var n=this._currentElement.type.contextTypes;if(!n)return y;e={};for(var r in n)e[r]=t[r];return e},_processContext:function(t){var n=this._maskContext(t);if("production"!==e.env.NODE_ENV){var r=h.getComponentClassForElement(this._currentElement);r.contextTypes&&this._checkPropTypes(r.contextTypes,n,d.context)}return n},_getValidatedChildContext:function(t){var n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"production"!==e.env.NODE_ENV?E("object"==typeof n.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):E("object"==typeof n.constructor.childContextTypes),"production"!==e.env.NODE_ENV&&this._checkPropTypes(n.constructor.childContextTypes,r,d.childContext);for(var o in r)"production"!==e.env.NODE_ENV?E(o in n.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",o):E(o in n.constructor.childContextTypes);return r}return null},_mergeChildContext:function(t,e){return e?v({},t,e):t},_processProps:function(t){if("production"!==e.env.NODE_ENV){var n=h.getComponentClassForElement(this._currentElement);n.propTypes&&this._checkPropTypes(n.propTypes,t,d.prop)}return t},_checkPropTypes:function(t,n,o){var i=this.getName();for(var s in t)if(t.hasOwnProperty(s)){var a;try{"production"!==e.env.NODE_ENV?E("function"==typeof t[s],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",i||"React class",f[o],s):E("function"==typeof t[s]),a=t[s](n,s,i,o)}catch(c){a=c}if(a instanceof Error){var u=r(this);o===d.prop?"production"!==e.env.NODE_ENV?x(!1,"Failed Composite propType: %s%s",a.message,u):null:"production"!==e.env.NODE_ENV?x(!1,"Failed Context Types: %s%s",a.message,u):null}}},receiveComponent:function(t,e,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(e,r,t,o,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&m.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&("production"!==e.env.NODE_ENV&&c.checkAndWarnForMutatedProps(this._currentElement),this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context))},_warnIfContextsDiffer:function(t,n){t=this._maskContext(t),n=this._maskContext(n);for(var r=Object.keys(n).sort(),o=this.getName()||"ReactCompositeComponent",i=0;i<r.length;i++){var s=r[i];"production"!==e.env.NODE_ENV?x(t[s]===n[s],"owner-based and parent-based contexts differ (values: `%s` vs `%s`) for key (%s) while mounting %s (see: http://fb.me/react-context-by-parent)",t[s],n[s],s,o):null}},updateComponent:function(t,n,r,o,i){var s=this._instance,a=s.context,c=s.props;n!==r&&(a=this._processContext(r._context),c=this._processProps(r.props),"production"!==e.env.NODE_ENV&&null!=i&&this._warnIfContextsDiffer(r._context,i),s.componentWillReceiveProps&&s.componentWillReceiveProps(c,a));var u=this._processPendingState(c,a),l=this._pendingForceUpdate||!s.shouldComponentUpdate||s.shouldComponentUpdate(c,u,a);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?x("undefined"!=typeof l,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):null),l?(this._pendingForceUpdate=!1,this._performComponentUpdate(r,c,u,a,t,i)):(this._currentElement=r,this._context=i,s.props=c,s.state=u,s.context=a)},_processPendingState:function(t,e){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=v({},o?r[0]:n.state),s=o?1:0;s<r.length;s++){var a=r[s];v(i,"function"==typeof a?a.call(n,i,t,e):a)}return i},_performComponentUpdate:function(t,e,n,r,o,i){var s=this._instance,a=s.props,c=s.state,u=s.context;s.componentWillUpdate&&s.componentWillUpdate(e,n,r),this._currentElement=t,this._context=i,s.props=e,s.state=n,s.context=r,this._updateRenderedComponent(o,i),s.componentDidUpdate&&o.getReactMountReady().enqueue(s.componentDidUpdate.bind(s,a,c,u),s)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,r=n._currentElement,o=this._getValidatedChildContext(),i=this._renderValidatedComponent(o);if(b(r,i))m.receiveComponent(n,i,t,this._mergeChildContext(e,o));else{var s=this._rootNodeID,a=n._rootNodeID;m.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i,this._currentElement.type);var c=m.mountComponent(this._renderedComponent,s,t,this._mergeChildContext(e,o));this._replaceNodeWithMarkupByID(a,c)}},_replaceNodeWithMarkupByID:function(t,e){o.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,n=t.render();return"production"!==e.env.NODE_ENV&&"undefined"==typeof n&&t.render._isMockFunction&&(n=null),n},_renderValidatedComponent:function(t){var n,r=i.current;i.current=this._mergeChildContext(this._currentElement._context,t),s.current=this;try{n=this._renderValidatedComponentWithoutOwnerOrContext()}finally{i.current=r,s.current=null}return"production"!==e.env.NODE_ENV?E(null===n||n===!1||a.isValidElement(n),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):E(null===n||n===!1||a.isValidElement(n)),n},attachRef:function(t,e){var n=this.getPublicInstance(),r=n.refs===y?n.refs={}:n.refs;r[t]=e.getPublicInstance()},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};p.measureMethods(_,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var C={Mixin:_};t.exports=C}).call(e,n(4))},function(t,e,n){(function(e){"use strict";var r=n(8),o=!1,i={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){"production"!==e.env.NODE_ENV?r(!o,"ReactCompositeComponent: injectEnvironment() can only be called once."):r(!o),i.unmountIDFromEnvironment=t.unmountIDFromEnvironment,i.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,i.processChildrenUpdates=t.processChildrenUpdates,o=!0}}};t.exports=i}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t,n){if(null!=t&&null!=n){var r=typeof t,i=typeof n;if("string"===r||"number"===r)return"string"===i||"number"===i;if("object"===i&&t.type===n.type&&t.key===n.key){var s=t._owner===n._owner,a=null,c=null,u=null;return"production"!==e.env.NODE_ENV&&(s||(null!=t._owner&&null!=t._owner.getPublicInstance()&&null!=t._owner.getPublicInstance().constructor&&(a=t._owner.getPublicInstance().constructor.displayName),null!=n._owner&&null!=n._owner.getPublicInstance()&&null!=n._owner.getPublicInstance().constructor&&(c=n._owner.getPublicInstance().constructor.displayName),null!=n.type&&null!=n.type.displayName&&(u=n.type.displayName),null!=n.type&&"string"==typeof n.type&&(u=n.type),("string"!=typeof n.type||"input"===n.type||"textarea"===n.type)&&(null!=t._owner&&t._owner._isOwnerNecessary===!1||null!=n._owner&&n._owner._isOwnerNecessary===!1)&&(null!=t._owner&&(t._owner._isOwnerNecessary=!0),null!=n._owner&&(n._owner._isOwnerNecessary=!0),"production"!==e.env.NODE_ENV?o(!1,"<%s /> is being rendered by both %s and %s using the same key (%s) in the same place. Currently, this means that they don't preserve state. This behavior should be very rare so we're considering deprecating it. Please contact the React team and explain your use case so that we can take that into consideration.",u||"Unknown Component",a||"[Unknown]",c||"[Unknown]",t.key):null))),s}}return!1}var o=n(16);t.exports=r}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t){t&&(null!=t.dangerouslySetInnerHTML&&("production"!==e.env.NODE_ENV?v(null==t.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):v(null==t.children),"production"!==e.env.NODE_ENV?v("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):v("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML)),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?b(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):null,"production"!==e.env.NODE_ENV?b(!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):null),"production"!==e.env.NODE_ENV?v(null==t.style||"object"==typeof t.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."):v(null==t.style||"object"==typeof t.style))}function o(t,n,r,o){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?b("onScroll"!==n||y("scroll",!0),"This browser doesn't support the `onScroll` event"):null);var i=p.findReactContainerForID(t);if(i){var s=i.nodeType===O?i.ownerDocument:i;N(n,s)}o.getPutListenerQueue().enqueuePutListener(t,n,r)}function i(t){P.call(I,t)||("production"!==e.env.NODE_ENV?v(S.test(t),"Invalid tag: %s",t):v(S.test(t)),I[t]=!0)}function s(t){i(t),this._tag=t,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var a=n(50),c=n(45),u=n(44),l=n(69),h=n(48),p=n(68),d=n(89),f=n(29),m=n(14),g=n(47),v=n(8),y=n(76),E=n(40),b=n(16),x=l.deleteListener,N=l.listenTo,_=l.registrationNameModules,C={string:!0,number:!0},w=E({style:null}),O=1,D=null,T={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},S=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,I={},P={}.hasOwnProperty;s.displayName="ReactDOMComponent",s.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,n){this._rootNodeID=t,r(this._currentElement.props);var o=T[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(e)+this._createContentMarkup(e,n)+o},_createOpenTagMarkupAndPutListeners:function(t){var e=this._currentElement.props,n="<"+this._tag;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(null!=i)if(_.hasOwnProperty(r))o(this._rootNodeID,r,i,t);else{r===w&&(i&&(i=this._previousStyleCopy=m({},e.style)),i=a.createMarkupForStyles(i));var s=u.createMarkupForProperty(r,i);s&&(n+=" "+s)}}if(t.renderToStaticMarkup)return n+">";var c=u.createMarkupForID(this._rootNodeID);return n+" "+c+">"},_createContentMarkup:function(t,e){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var r=this._currentElement.props,o=r.dangerouslySetInnerHTML;if(null!=o){if(null!=o.__html)return n+o.__html}else{var i=C[typeof r.children]?r.children:null,s=null!=i?null:r.children;if(null!=i)return n+g(i);if(null!=s){var a=this.mountChildren(s,t,e);return n+a.join("")}}return n},receiveComponent:function(t,e,n){var r=this._currentElement;this._currentElement=t,this.updateComponent(e,r,t,n)},updateComponent:function(t,e,n,o){r(this._currentElement.props),this._updateDOMProperties(e.props,t),this._updateDOMChildren(e.props,t,o)},_updateDOMProperties:function(t,e){var n,r,i,s=this._currentElement.props;for(n in t)if(!s.hasOwnProperty(n)&&t.hasOwnProperty(n))if(n===w){var a=this._previousStyleCopy;for(r in a)a.hasOwnProperty(r)&&(i=i||{},i[r]="");this._previousStyleCopy=null}else _.hasOwnProperty(n)?x(this._rootNodeID,n):(c.isStandardName[n]||c.isCustomAttribute(n))&&D.deletePropertyByID(this._rootNodeID,n);for(n in s){var u=s[n],l=n===w?this._previousStyleCopy:t[n];if(s.hasOwnProperty(n)&&u!==l)if(n===w)if(u?u=this._previousStyleCopy=m({},u):this._previousStyleCopy=null,l){for(r in l)!l.hasOwnProperty(r)||u&&u.hasOwnProperty(r)||(i=i||{},i[r]="");for(r in u)u.hasOwnProperty(r)&&l[r]!==u[r]&&(i=i||{},i[r]=u[r])}else i=u;else _.hasOwnProperty(n)?o(this._rootNodeID,n,u,e):(c.isStandardName[n]||c.isCustomAttribute(n))&&D.updatePropertyByID(this._rootNodeID,n,u)}i&&D.updateStylesByID(this._rootNodeID,i)},_updateDOMChildren:function(t,e,n){var r=this._currentElement.props,o=C[typeof t.children]?t.children:null,i=C[typeof r.children]?r.children:null,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,a=r.dangerouslySetInnerHTML&&r.dangerouslySetInnerHTML.__html,c=null!=o?null:t.children,u=null!=i?null:r.children,l=null!=o||null!=s,h=null!=i||null!=a;null!=c&&null==u?this.updateChildren(null,e,n):l&&!h&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=a?s!==a&&D.updateInnerHTMLByID(this._rootNodeID,a):null!=u&&this.updateChildren(u,e,n)},unmountComponent:function(){this.unmountChildren(),l.deleteAllListeners(this._rootNodeID),h.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},f.measureMethods(s,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),m(s.prototype,s.Mixin,d.Mixin),s.injection={injectIDOperations:function(t){s.BackendIDOperations=D=t}},t.exports=s}).call(e,n(4))},function(t,e,n){"use strict";function r(t,e,n){f.push({parentID:t,parentNode:null,type:l.INSERT_MARKUP,markupIndex:m.push(e)-1,textContent:null,fromIndex:null,toIndex:n})}function o(t,e,n){f.push({parentID:t,parentNode:null,type:l.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:e,toIndex:n})}function i(t,e){f.push({parentID:t,parentNode:null,type:l.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:e,toIndex:null})}function s(t,e){f.push({parentID:t,parentNode:null,type:l.TEXT_CONTENT,markupIndex:null,textContent:e,fromIndex:null,toIndex:null})}function a(){f.length&&(u.processChildrenUpdates(f,m),c())}function c(){f.length=0,m.length=0}var u=n(86),l=n(65),h=n(30),p=n(90),d=0,f=[],m=[],g={Mixin:{mountChildren:function(t,e,n){var r=p.instantiateChildren(t,e,n);this._renderedChildren=r;var o=[],i=0;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],c=this._rootNodeID+s,u=h.mountComponent(a,c,e,n);a._mountIndex=i,o.push(u),i++}return o},updateTextContent:function(t){d++;var e=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setTextContent(t),e=!1}finally{d--,d||(e?c():a())}},updateChildren:function(t,e,n){d++;var r=!0;try{this._updateChildren(t,e,n),r=!1}finally{d--,d||(r?c():a())}},_updateChildren:function(t,e,n){var r=this._renderedChildren,o=p.updateChildren(r,t,e,n);if(this._renderedChildren=o,o||r){var i,s=0,a=0;for(i in o)if(o.hasOwnProperty(i)){var c=r&&r[i],u=o[i];c===u?(this.moveChild(c,a,s),s=Math.max(c._mountIndex,s),c._mountIndex=a):(c&&(s=Math.max(c._mountIndex,s),this._unmountChildByName(c,i)),this._mountChildByNameAtIndex(u,i,a,e,n)),a++}for(i in r)!r.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||this._unmountChildByName(r[i],i)}},unmountChildren:function(){var t=this._renderedChildren;p.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&o(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){r(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){i(this._rootNodeID,t._mountIndex)},setTextContent:function(t){s(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,r,o){var i=this._rootNodeID+e,s=h.mountComponent(t,i,r,o);t._mountIndex=n,this.createChild(t,s)},_unmountChildByName:function(t,e){this.removeChild(t),t._mountIndex=null}}};t.exports=g},function(t,e,n){"use strict";var r=n(30),o=n(91),i=n(84),s=n(87),a={instantiateChildren:function(t,e,n){var r=o(t);for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],c=i(a,null);r[s]=c}return r},updateChildren:function(t,e,n,a){var c=o(e);if(!c&&!t)return null;var u;for(u in c)if(c.hasOwnProperty(u)){var l=t&&t[u],h=l&&l._currentElement,p=c[u];if(s(h,p))r.receiveComponent(l,p,n,a),c[u]=l;else{l&&r.unmountComponent(l,u);var d=i(p,null);c[u]=d}}for(u in t)!t.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||r.unmountComponent(t[u]);return c},unmountChildren:function(t){for(var e in t){var n=t[e];r.unmountComponent(n)}}};t.exports=a},function(t,e,n){(function(e){"use strict";function r(t,n,r){var o=t,i=!o.hasOwnProperty(r);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(i,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r):null),i&&null!=n&&(o[r]=n)}function o(t){if(null==t)return t;var e={};return i(t,r,e),e}var i=n(19),s=n(16);t.exports=o}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t){return f.createClass({tagName:t.toUpperCase(),render:function(){return new T(t,null,null,null,null,this.props)}})}function o(){if(I.EventEmitter.injectReactEventListener(S),I.EventPluginHub.injectEventPluginOrder(c),I.EventPluginHub.injectInstanceHandle(P),I.EventPluginHub.injectMount(M),I.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:V,EnterLeaveEventPlugin:u,ChangeEventPlugin:s,MobileSafariClickEventPlugin:p,SelectEventPlugin:R,BeforeInputEventPlugin:i}),I.NativeComponent.injectGenericComponentClass(v),I.NativeComponent.injectTextComponentClass(D),I.NativeComponent.injectAutoWrapper(r),I.Class.injectMixin(d),I.NativeComponent.injectComponentClasses({button:y,form:E,iframe:N,img:b,input:_,option:C,select:w,textarea:O,html:j("html"),head:j("head"),body:j("body")}),I.DOMProperty.injectDOMPropertyConfig(h),I.DOMProperty.injectDOMPropertyConfig(L),I.EmptyComponent.injectEmptyComponent("noscript"),I.Updates.injectReconcileTransaction(A),I.Updates.injectBatchingStrategy(g),I.RootIndex.injectCreateReactRootIndex(l.canUseDOM?a.createReactRootIndex:k.createReactRootIndex),I.Component.injectEnvironment(m),I.DOMComponent.injectIDOperations(x),"production"!==e.env.NODE_ENV){var t=l.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var o=n(151);o.start()}}}var i=n(93),s=n(101),a=n(103),c=n(104),u=n(105),l=n(52),h=n(109),p=n(110),d=n(111),f=n(38),m=n(48),g=n(113),v=n(88),y=n(114),E=n(117),b=n(119),x=n(49),N=n(120),_=n(121),C=n(124),w=n(125),O=n(126),D=n(43),T=n(12),S=n(127),I=n(130),P=n(20),M=n(68),A=n(131),R=n(137),k=n(139),V=n(140),L=n(149),j=n(150);t.exports={inject:o}}).call(e,n(4))},function(t,e,n){"use strict";function r(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function o(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function i(t){switch(t){case T.topCompositionStart:return S.compositionStart;case T.topCompositionEnd:return S.compositionEnd;case T.topCompositionUpdate:return S.compositionUpdate}}function s(t,e){return t===T.topKeyDown&&e.keyCode===x}function a(t,e){switch(t){case T.topKeyUp:return-1!==b.indexOf(e.keyCode);case T.topKeyDown:return e.keyCode!==x;case T.topKeyPress:case T.topMouseDown:case T.topBlur:return!0;default:return!1}}function c(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function u(t,e,n,r){var o,u;if(N?o=i(t):P?a(t,r)&&(o=S.compositionEnd):s(t,r)&&(o=S.compositionStart),!o)return null;w&&(P||o!==S.compositionStart?o===S.compositionEnd&&P&&(u=P.getData()):P=g.getPooled(e));var l=v.getPooled(o,n,r);if(u)l.data=u;else{var h=c(r);null!==h&&(l.data=h)}return f.accumulateTwoPhaseDispatches(l),l}function l(t,e){switch(t){case T.topCompositionEnd:return c(e);case T.topKeyPress:var n=e.which;return n!==O?null:(I=!0,D);case T.topTextInput:var r=e.data;return r===D&&I?null:r;default:return null}}function h(t,e){if(P){if(t===T.topCompositionEnd||a(t,e)){var n=P.getData();return g.release(P),P=null,n}return null}switch(t){case T.topPaste:return null;case T.topKeyPress:return e.which&&!o(e)?String.fromCharCode(e.which):null;case T.topCompositionEnd:return w?null:e.data;default:return null}}function p(t,e,n,r){var o;if(o=C?l(t,r):h(t,r),!o)return null;var i=y.getPooled(S.beforeInput,n,r);return i.data=o,f.accumulateTwoPhaseDispatches(i),i}var d=n(6),f=n(94),m=n(52),g=n(95),v=n(97),y=n(100),E=n(40),b=[9,13,27,32],x=229,N=m.canUseDOM&&"CompositionEvent"in window,_=null;m.canUseDOM&&"documentMode"in document&&(_=document.documentMode);var C=m.canUseDOM&&"TextEvent"in window&&!_&&!r(),w=m.canUseDOM&&(!N||_&&_>8&&11>=_),O=32,D=String.fromCharCode(O),T=d.topLevelTypes,S={beforeInput:{phasedRegistrationNames:{bubbled:E({onBeforeInput:null}),captured:E({onBeforeInputCapture:null})},dependencies:[T.topCompositionEnd,T.topKeyPress,T.topTextInput,T.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:E({onCompositionEnd:null}),captured:E({onCompositionEndCapture:null})},dependencies:[T.topBlur,T.topCompositionEnd,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:E({onCompositionStart:null}),captured:E({onCompositionStartCapture:null})},dependencies:[T.topBlur,T.topCompositionStart,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:E({onCompositionUpdate:null}),captured:E({onCompositionUpdateCapture:null})},dependencies:[T.topBlur,T.topCompositionUpdate,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]}},I=!1,P=null,M={eventTypes:S,extractEvents:function(t,e,n,r){return[u(t,e,n,r),p(t,e,n,r)]}};t.exports=M},function(t,e,n){(function(e){"use strict";function r(t,e,n){var r=e.dispatchConfig.phasedRegistrationNames[n];return g(t,r)}function o(t,n,o){if("production"!==e.env.NODE_ENV&&!t)throw new Error("Dispatching id must not be null");var i=n?m.bubbled:m.captured,s=r(t,o,i);s&&(o._dispatchListeners=d(o._dispatchListeners,s),o._dispatchIDs=d(o._dispatchIDs,t))}function i(t){t&&t.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,o,t)}function s(t,e,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=g(t,r);o&&(n._dispatchListeners=d(n._dispatchListeners,o),n._dispatchIDs=d(n._dispatchIDs,t))}}function a(t){t&&t.dispatchConfig.registrationName&&s(t.dispatchMarker,null,t)}function c(t){f(t,i)}function u(t,e,n,r){p.injection.getInstanceHandle().traverseEnterLeave(n,r,s,t,e)}function l(t){f(t,a)}var h=n(6),p=n(70),d=n(72),f=n(73),m=h.PropagationPhases,g=p.getListener,v={accumulateTwoPhaseDispatches:c,accumulateDirectDispatches:l,accumulateEnterLeaveDispatches:u};t.exports=v}).call(e,n(4))},function(t,e,n){"use strict";function r(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var o=n(10),i=n(14),s=n(96);i(r.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(t=0;r>t&&n[t]===o[t];t++);var s=r-t;for(e=1;s>=e&&n[r-e]===o[i-e];e++);var a=e>1?1-e:void 0;return this._fallbackText=o.slice(t,a),this._fallbackText}}),o.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=n(52),i=null;t.exports=r},function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n)}var o=n(98),i={data:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n;var r=this.constructor.Interface;for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];i?this[o]=i(n):this[o]=n[o]}var a=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;
a?this.isDefaultPrevented=s.thatReturnsTrue:this.isDefaultPrevented=s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse}var o=n(10),i=n(14),s=n(17),a=n(99),c={type:null,target:a,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=c,r.augmentClass=function(t,e){var n=this,r=Object.create(n.prototype);i(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=i({},n.Interface,e),t.augmentClass=n.augmentClass,o.addPoolingTo(t,o.threeArgumentPooler)},o.addPoolingTo(r,o.threeArgumentPooler),t.exports=r},function(t,e){"use strict";function n(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}t.exports=n},function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n)}var o=n(98),i={data:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t){return"SELECT"===t.nodeName||"INPUT"===t.nodeName&&"file"===t.type}function o(t){var e=_.getPooled(T.change,I,t);b.accumulateTwoPhaseDispatches(e),N.batchedUpdates(i,e)}function i(t){E.enqueueEvents(t),E.processEventQueue()}function s(t,e){S=t,I=e,S.attachEvent("onchange",o)}function a(){S&&(S.detachEvent("onchange",o),S=null,I=null)}function c(t,e,n){return t===D.topChange?n:void 0}function u(t,e,n){t===D.topFocus?(a(),s(e,n)):t===D.topBlur&&a()}function l(t,e){S=t,I=e,P=t.value,M=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(S,"value",k),S.attachEvent("onpropertychange",p)}function h(){S&&(delete S.value,S.detachEvent("onpropertychange",p),S=null,I=null,P=null,M=null)}function p(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==P&&(P=e,o(t))}}function d(t,e,n){return t===D.topInput?n:void 0}function f(t,e,n){t===D.topFocus?(h(),l(e,n)):t===D.topBlur&&h()}function m(t,e,n){return t!==D.topSelectionChange&&t!==D.topKeyUp&&t!==D.topKeyDown||!S||S.value===P?void 0:(P=S.value,I)}function g(t){return"INPUT"===t.nodeName&&("checkbox"===t.type||"radio"===t.type)}function v(t,e,n){return t===D.topClick?n:void 0}var y=n(6),E=n(70),b=n(94),x=n(52),N=n(27),_=n(98),C=n(76),w=n(102),O=n(40),D=y.topLevelTypes,T={change:{phasedRegistrationNames:{bubbled:O({onChange:null}),captured:O({onChangeCapture:null})},dependencies:[D.topBlur,D.topChange,D.topClick,D.topFocus,D.topInput,D.topKeyDown,D.topKeyUp,D.topSelectionChange]}},S=null,I=null,P=null,M=null,A=!1;x.canUseDOM&&(A=C("change")&&(!("documentMode"in document)||document.documentMode>8));var R=!1;x.canUseDOM&&(R=C("input")&&(!("documentMode"in document)||document.documentMode>9));var k={get:function(){return M.get.call(this)},set:function(t){P=""+t,M.set.call(this,t)}},V={eventTypes:T,extractEvents:function(t,e,n,o){var i,s;if(r(e)?A?i=c:s=u:w(e)?R?i=d:(i=m,s=f):g(e)&&(i=v),i){var a=i(t,e,n);if(a){var l=_.getPooled(T.change,a,o);return b.accumulateTwoPhaseDispatches(l),l}}s&&s(t,e,n)}};t.exports=V},function(t,e){"use strict";function n(t){return t&&("INPUT"===t.nodeName&&r[t.type]||"TEXTAREA"===t.nodeName)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},function(t,e){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};t.exports=r},function(t,e,n){"use strict";var r=n(40),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null}),r({AnalyticsEventPlugin:null}),r({MobileSafariClickEventPlugin:null})];t.exports=o},function(t,e,n){"use strict";var r=n(6),o=n(94),i=n(106),s=n(68),a=n(40),c=r.topLevelTypes,u=s.getFirstReactDOM,l={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[c.topMouseOut,c.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[c.topMouseOut,c.topMouseOver]}},h=[null,null],p={eventTypes:l,extractEvents:function(t,e,n,r){if(t===c.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(t!==c.topMouseOut&&t!==c.topMouseOver)return null;var a;if(e.window===e)a=e;else{var p=e.ownerDocument;a=p?p.defaultView||p.parentWindow:window}var d,f;if(t===c.topMouseOut?(d=e,f=u(r.relatedTarget||r.toElement)||a):(d=a,f=e),d===f)return null;var m=d?s.getID(d):"",g=f?s.getID(f):"",v=i.getPooled(l.mouseLeave,m,r);v.type="mouseleave",v.target=d,v.relatedTarget=f;var y=i.getPooled(l.mouseEnter,g,r);return y.type="mouseenter",y.target=f,y.relatedTarget=d,o.accumulateEnterLeaveDispatches(v,y,m,g),h[0]=v,h[1]=y,h}};t.exports=p},function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n)}var o=n(107),i=n(75),s=n(108),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+i.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+i.currentScrollTop}};o.augmentClass(r,a),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n)}var o=n(98),i=n(99),s={view:function(t){if(t.view)return t.view;var e=i(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};o.augmentClass(r,s),t.exports=r},function(t,e){"use strict";function n(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var r=o[t];return r?!!n[r]:!1}function r(t){return n}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=r},function(t,e,n){"use strict";var r,o=n(45),i=n(52),s=o.injection.MUST_USE_ATTRIBUTE,a=o.injection.MUST_USE_PROPERTY,c=o.injection.HAS_BOOLEAN_VALUE,u=o.injection.HAS_SIDE_EFFECTS,l=o.injection.HAS_NUMERIC_VALUE,h=o.injection.HAS_POSITIVE_NUMERIC_VALUE,p=o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(i.canUseDOM){var d=document.implementation;r=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:s|c,allowTransparency:s,alt:null,async:c,autoComplete:null,autoPlay:c,cellPadding:null,cellSpacing:null,charSet:s,checked:a|c,classID:s,className:r?s:a,cols:s|h,colSpan:null,content:null,contentEditable:null,contextMenu:s,controls:a|c,coords:null,crossOrigin:null,data:null,dateTime:s,defer:c,dir:null,disabled:s|c,download:p,draggable:null,encType:null,form:s,formAction:s,formEncType:s,formMethod:s,formNoValidate:c,formTarget:s,frameBorder:s,headers:null,height:s,hidden:s|c,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,label:null,lang:null,list:s,loop:a|c,low:null,manifest:s,marginHeight:null,marginWidth:null,max:null,maxLength:s,media:s,mediaGroup:null,method:null,min:null,multiple:a|c,muted:a|c,name:null,noValidate:c,open:c,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|c,rel:null,required:c,role:s,rows:s|h,rowSpan:null,sandbox:null,scope:null,scoped:c,scrolling:null,seamless:s|c,selected:a|c,shape:null,size:s|h,sizes:s,span:h,spellCheck:null,src:null,srcDoc:a,srcSet:s,start:l,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|u,width:s,wmode:s,autoCapitalize:null,autoCorrect:null,itemProp:s,itemScope:s|c,itemType:s,itemID:s,itemRef:s,property:null,unselectable:s},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},function(t,e,n){"use strict";var r=n(6),o=n(17),i=r.topLevelTypes,s={eventTypes:null,extractEvents:function(t,e,n,r){if(t===i.topTouchStart){var s=r.target;s&&!s.onclick&&(s.onclick=o)}}};t.exports=s},function(t,e,n){"use strict";var r=n(112),o={getDOMNode:function(){return r(this)}};t.exports=o},function(t,e,n){(function(e){"use strict";function r(t){if("production"!==e.env.NODE_ENV){var n=o.current;null!==n&&("production"!==e.env.NODE_ENV?u(n._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):null,n._warnedAboutRefsInRender=!0)}return null==t?null:c(t)?t:i.has(t)?s.getNodeFromInstance(t):("production"!==e.env.NODE_ENV?a(null==t.render||"function"!=typeof t.render,"Component (with keys: %s) contains `render` method but is not mounted in the DOM",Object.keys(t)):a(null==t.render||"function"!=typeof t.render),void("production"!==e.env.NODE_ENV?a(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(t)):a(!1)))}var o=n(18),i=n(26),s=n(68),a=n(8),c=n(82),u=n(16);t.exports=r}).call(e,n(4))},function(t,e,n){"use strict";function r(){this.reinitializeTransaction()}var o=n(27),i=n(37),s=n(14),a=n(17),c={initialize:a,close:function(){p.isBatchingUpdates=!1}},u={initialize:a,close:o.flushBatchedUpdates.bind(o)},l=[u,c];s(r.prototype,i.Mixin,{getTransactionWrappers:function(){return l}});var h=new r,p={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,r,o){var i=p.isBatchingUpdates;p.isBatchingUpdates=!0,i?t(e,n,r,o):h.perform(t,null,e,n,r,o)}};t.exports=p},function(t,e,n){"use strict";var r=n(115),o=n(111),i=n(38),s=n(12),a=n(7),c=s.createFactory("button"),u=a({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),l=i.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[r,o],render:function(){var t={};for(var e in this.props)!this.props.hasOwnProperty(e)||this.props.disabled&&u[e]||(t[e]=this.props[e]);return c(t,this.props.children)}});t.exports=l},function(t,e,n){"use strict";var r=n(116),o={componentDidMount:function(){this.props.autoFocus&&r(this.getDOMNode())}};t.exports=o},function(t,e){"use strict";function n(t){try{t.focus()}catch(e){}}t.exports=n},function(t,e,n){"use strict";var r=n(6),o=n(118),i=n(111),s=n(38),a=n(12),c=a.createFactory("form"),u=s.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[i,o],render:function(){return c(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(r.topLevelTypes.topSubmit,"submit")}});t.exports=u},function(t,e,n){(function(e){"use strict";function r(t){t.remove()}var o=n(69),i=n(72),s=n(73),a=n(8),c={trapBubbledEvent:function(t,n){"production"!==e.env.NODE_ENV?a(this.isMounted(),"Must be mounted to trap events"):a(this.isMounted());var r=this.getDOMNode();"production"!==e.env.NODE_ENV?a(r,"LocalEventTrapMixin.trapBubbledEvent(...): Requires node to be rendered."):a(r);var s=o.trapBubbledEvent(t,n,r);this._localEventListeners=i(this._localEventListeners,s)},componentWillUnmount:function(){this._localEventListeners&&s(this._localEventListeners,r)}};t.exports=c}).call(e,n(4))},function(t,e,n){"use strict";var r=n(6),o=n(118),i=n(111),s=n(38),a=n(12),c=a.createFactory("img"),u=s.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[i,o],render:function(){return c(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(r.topLevelTypes.topError,"error")}});t.exports=u},function(t,e,n){"use strict";var r=n(6),o=n(118),i=n(111),s=n(38),a=n(12),c=a.createFactory("iframe"),u=s.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[i,o],render:function(){return c(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load")}});t.exports=u},function(t,e,n){(function(e){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var o=n(115),i=n(44),s=n(122),a=n(111),c=n(38),u=n(12),l=n(68),h=n(27),p=n(14),d=n(8),f=u.createFactory("input"),m={},g=c.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[o,s.Mixin,a],getInitialState:function(){var t=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=t?t:null}},render:function(){var t=p({},this.props);t.defaultChecked=null,t.defaultValue=null;var e=s.getValue(this);t.value=null!=e?e:this.state.initialValue;var n=s.getChecked(this);return t.checked=null!=n?n:this.state.initialChecked,t.onChange=this._handleChange,f(t,this.props.children)},componentDidMount:function(){var t=l.getID(this.getDOMNode());m[t]=this},componentWillUnmount:function(){var t=this.getDOMNode(),e=l.getID(t);delete m[e]},componentDidUpdate:function(t,e,n){var r=this.getDOMNode();null!=this.props.checked&&i.setValueForProperty(r,"checked",this.props.checked||!1);var o=s.getValue(this);null!=o&&i.setValueForProperty(r,"value",""+o)},_handleChange:function(t){var n,o=s.getOnChange(this);o&&(n=o.call(this,t)),h.asap(r,this);var i=this.props.name;if("radio"===this.props.type&&null!=i){for(var a=this.getDOMNode(),c=a;c.parentNode;)c=c.parentNode;for(var u=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),p=0,f=u.length;f>p;p++){var g=u[p];if(g!==a&&g.form===a.form){var v=l.getID(g);"production"!==e.env.NODE_ENV?d(v,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):d(v);var y=m[v];"production"!==e.env.NODE_ENV?d(y,"ReactDOMInput: Unknown radio button ID %s.",v):d(y),h.asap(r,y)}}}return n}});t.exports=g}).call(e,n(4))},function(t,e,n){(function(e){"use strict";function r(t){"production"!==e.env.NODE_ENV?u(null==t.props.checkedLink||null==t.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):u(null==t.props.checkedLink||null==t.props.valueLink)}function o(t){r(t),"production"!==e.env.NODE_ENV?u(null==t.props.value&&null==t.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):u(null==t.props.value&&null==t.props.onChange)}function i(t){r(t),"production"!==e.env.NODE_ENV?u(null==t.props.checked&&null==t.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):u(null==t.props.checked&&null==t.props.onChange)}function s(t){this.props.valueLink.requestChange(t.target.value)}function a(t){this.props.checkedLink.requestChange(t.target.checked)}var c=n(123),u=n(8),l={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},h={Mixin:{propTypes:{value:function(t,e,n){return!t[e]||l[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:c.func}},getValue:function(t){return t.props.valueLink?(o(t),t.props.valueLink.value):t.props.value},getChecked:function(t){return t.props.checkedLink?(i(t),t.props.checkedLink.value):t.props.checked},getOnChange:function(t){return t.props.valueLink?(o(t),s):t.props.checkedLink?(i(t),a):t.props.onChange}};t.exports=h}).call(e,n(4))},function(t,e,n){"use strict";function r(t){function e(e,n,r,o,i){if(o=o||x,null==n[r]){var s=E[i];return e?new Error("Required "+s+" `"+r+"` was not specified in "+("`"+o+"`.")):null}return t(n,r,o,i)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function o(t){function e(e,n,r,o){var i=e[n],s=m(i);if(s!==t){var a=E[o],c=g(i);return new Error("Invalid "+a+" `"+n+"` of type `"+c+"` "+("supplied to `"+r+"`, expected `"+t+"`."))}return null}return r(e)}function i(){return r(b.thatReturns(null))}function s(t){function e(e,n,r,o){var i=e[n];if(!Array.isArray(i)){var s=E[o],a=m(i);return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<i.length;c++){var u=t(i,c,r,o);if(u instanceof Error)return u}return null}return r(e)}function a(){function t(t,e,n,r){if(!v.isValidElement(t[e])){var o=E[r];return new Error("Invalid "+o+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return r(t)}function c(t){function e(e,n,r,o){if(!(e[n]instanceof t)){var i=E[o],s=t.name||x;return new Error("Invalid "+i+" `"+n+"` supplied to "+("`"+r+"`, expected instance of `"+s+"`."))}return null}return r(e)}function u(t){function e(e,n,r,o){for(var i=e[n],s=0;s<t.length;s++)if(i===t[s])return null;var a=E[o],c=JSON.stringify(t);return new Error("Invalid "+a+" `"+n+"` of value `"+i+"` "+("supplied to `"+r+"`, expected one of "+c+"."))}return r(e)}function l(t){function e(e,n,r,o){var i=e[n],s=m(i);if("object"!==s){var a=E[o];return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var c in i)if(i.hasOwnProperty(c)){var u=t(i,c,r,o);if(u instanceof Error)return u}return null}return r(e)}function h(t){function e(e,n,r,o){for(var i=0;i<t.length;i++){var s=t[i];if(null==s(e,n,r,o))return null}var a=E[o];return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+r+"`."))}return r(e)}function p(){function t(t,e,n,r){if(!f(t[e])){var o=E[r];return new Error("Invalid "+o+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(t)}function d(t){function e(e,n,r,o){var i=e[n],s=m(i);if("object"!==s){var a=E[o];return new Error("Invalid "+a+" `"+n+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in t){var u=t[c];if(u){var l=u(i,c,r,o);if(l)return l}}return null}return r(e)}function f(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(f);if(null===t||v.isValidElement(t))return!0;t=y.extractIfFragment(t);for(var e in t)if(!f(t[e]))return!1;return!0;default:return!1}}function m(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function g(t){var e=m(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}var v=n(12),y=n(11),E=n(35),b=n(17),x="<<anonymous>>",N=a(),_=p(),C={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:i(),arrayOf:s,element:N,instanceOf:c,node:_,objectOf:l,oneOf:u,oneOfType:h,shape:d};t.exports=C},function(t,e,n){(function(e){"use strict";var r=n(111),o=n(38),i=n(12),s=n(16),a=i.createFactory("option"),c=o.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[r],componentWillMount:function(){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):null)},render:function(){return a(this.props,this.props.children)}});t.exports=c}).call(e,n(4))},function(t,e,n){"use strict";function r(){if(this._pendingUpdate){this._pendingUpdate=!1;var t=a.getValue(this);null!=t&&this.isMounted()&&i(this,t)}}function o(t,e,n){if(null==t[e])return null;if(t.multiple){if(!Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function i(t,e){var n,r,o,i=t.getDOMNode().options;if(t.props.multiple){for(n={},r=0,o=e.length;o>r;r++)n[""+e[r]]=!0;for(r=0,o=i.length;o>r;r++){var s=n.hasOwnProperty(i[r].value);i[r].selected!==s&&(i[r].selected=s)}}else{for(n=""+e,r=0,o=i.length;o>r;r++)if(i[r].value===n)return void(i[r].selected=!0);i.length&&(i[0].selected=!0)}}var s=n(115),a=n(122),c=n(111),u=n(38),l=n(12),h=n(27),p=n(14),d=l.createFactory("select"),f=u.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[s,a.Mixin,c],propTypes:{defaultValue:o,value:o},render:function(){var t=p({},this.props);return t.onChange=this._handleChange,t.value=null,d(t,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var t=a.getValue(this);null!=t?i(this,t):null!=this.props.defaultValue&&i(this,this.props.defaultValue)},componentDidUpdate:function(t){var e=a.getValue(this);null!=e?(this._pendingUpdate=!1,i(this,e)):!t.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?i(this,this.props.defaultValue):i(this,this.props.multiple?[]:""))},_handleChange:function(t){var e,n=a.getOnChange(this);return n&&(e=n.call(this,t)),this._pendingUpdate=!0,h.asap(r,this),e}});t.exports=f},function(t,e,n){(function(e){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var o=n(115),i=n(44),s=n(122),a=n(111),c=n(38),u=n(12),l=n(27),h=n(14),p=n(8),d=n(16),f=u.createFactory("textarea"),m=c.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[o,s.Mixin,a],getInitialState:function(){var t=this.props.defaultValue,n=this.props.children;null!=n&&("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?d(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):null),"production"!==e.env.NODE_ENV?p(null==t,"If you supply `defaultValue` on a <textarea>, do not pass children."):p(null==t),Array.isArray(n)&&("production"!==e.env.NODE_ENV?p(n.length<=1,"<textarea> can only have at most one child."):p(n.length<=1),n=n[0]),t=""+n),null==t&&(t="");var r=s.getValue(this);return{initialValue:""+(null!=r?r:t)}},render:function(){var t=h({},this.props);return"production"!==e.env.NODE_ENV?p(null==t.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):p(null==t.dangerouslySetInnerHTML),t.defaultValue=null,t.value=null,t.onChange=this._handleChange,f(t,this.state.initialValue)},componentDidUpdate:function(t,e,n){var r=s.getValue(this);if(null!=r){var o=this.getDOMNode();i.setValueForProperty(o,"value",""+r)}},_handleChange:function(t){var e,n=s.getOnChange(this);return n&&(e=n.call(this,t)),l.asap(r,this),e}});t.exports=m}).call(e,n(4))},function(t,e,n){"use strict";function r(t){var e=h.getID(t),n=l.getReactRootIDFromNodeID(e),r=h.findReactContainerForID(n),o=h.getFirstReactDOM(r);return o}function o(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function i(t){for(var e=h.getFirstReactDOM(f(t.nativeEvent))||window,n=e;n;)t.ancestors.push(n),n=r(n);for(var o=0,i=t.ancestors.length;i>o;o++){e=t.ancestors[o];var s=h.getID(e)||"";g._handleTopLevel(t.topLevelType,e,s,t.nativeEvent)}}function s(t){var e=m(window);t(e)}var a=n(128),c=n(52),u=n(10),l=n(20),h=n(68),p=n(27),d=n(14),f=n(99),m=n(129);d(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),u.addPoolingTo(o,u.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(t){g._handleTopLevel=t},setEnabled:function(t){g._enabled=!!t},isEnabled:function(){return g._enabled},trapBubbledEvent:function(t,e,n){var r=n;return r?a.listen(r,e,g.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var r=n;return r?a.capture(r,e,g.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=s.bind(null,t);a.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(g._enabled){var n=o.getPooled(t,e);try{p.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=g},function(t,e,n){(function(e){var r=n(17),o={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,n,o){return t.addEventListener?(t.addEventListener(n,o,!0),{remove:function(){t.removeEventListener(n,o,!0)}}):("production"!==e.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:r})},registerDefault:function(){}};t.exports=o}).call(e,n(4))},function(t,e){"use strict";function n(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=n},function(t,e,n){"use strict";var r=n(45),o=n(70),i=n(86),s=n(38),a=n(77),c=n(69),u=n(36),l=n(88),h=n(29),p=n(21),d=n(27),f={Component:i.injection,Class:s.injection,DOMComponent:l.injection,DOMProperty:r.injection,EmptyComponent:a.injection,EventPluginHub:o.injection,EventEmitter:c.injection,NativeComponent:u.injection,Perf:h.injection,RootIndex:p.injection,Updates:d.injection};t.exports=f},function(t,e,n){"use strict";function r(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.putListenerQueue=c.getPooled()}var o=n(28),i=n(10),s=n(69),a=n(132),c=n(136),u=n(37),l=n(14),h={initialize:a.getSelectionInformation,close:a.restoreSelection},p={initialize:function(){var t=s.isEnabled();return s.setEnabled(!1),t},close:function(t){s.setEnabled(t)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[f,h,p,d],g={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,c.release(this.putListenerQueue),this.putListenerQueue=null}};l(r.prototype,u.Mixin,g),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(t){return i(document.documentElement,t)}var o=n(133),i=n(80),s=n(116),a=n(135),c={hasSelectionCapabilities:function(t){return t&&("INPUT"===t.nodeName&&"text"===t.type||"TEXTAREA"===t.nodeName||"true"===t.contentEditable)},getSelectionInformation:function(){var t=a();return{focusedElem:t,selectionRange:c.hasSelectionCapabilities(t)?c.getSelection(t):null}},restoreSelection:function(t){var e=a(),n=t.focusedElem,o=t.selectionRange;e!==n&&r(n)&&(c.hasSelectionCapabilities(n)&&c.setSelection(n,o),s(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&"INPUT"===t.nodeName){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=o.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,r=e.end;if("undefined"==typeof r&&(r=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(r,t.value.length);else if(document.selection&&"INPUT"===t.nodeName){var i=t.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(t,e)}};t.exports=c},function(t,e,n){"use strict";function r(t,e,n,r){return t===n&&e===r}function o(t){var e=document.selection,n=e.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(t),o.setEndPoint("EndToStart",n);var i=o.text.length,s=i+r;return{start:i,end:s}}function i(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,o=e.anchorOffset,i=e.focusNode,s=e.focusOffset,a=e.getRangeAt(0),c=r(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),u=c?0:a.toString().length,l=a.cloneRange();l.selectNodeContents(t),l.setEnd(a.startContainer,a.startOffset);var h=r(l.startContainer,l.startOffset,l.endContainer,l.endOffset),p=h?0:l.toString().length,d=p+u,f=document.createRange();f.setStart(n,o),f.setEnd(i,s);var m=f.collapsed;return{start:m?d:p,end:m?p:d}}function s(t,e){var n,r,o=document.selection.createRange().duplicate();"undefined"==typeof e.end?(n=e.start,r=n):e.start>e.end?(n=e.end,r=e.start):(n=e.start,r=e.end),o.moveToElementText(t),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function a(t,e){if(window.getSelection){var n=window.getSelection(),r=t[l()].length,o=Math.min(e.start,r),i="undefined"==typeof e.end?o:Math.min(e.end,r);if(!n.extend&&o>i){var s=i;i=o,o=s}var a=u(t,o),c=u(t,i);if(a&&c){var h=document.createRange();h.setStart(a.node,a.offset),n.removeAllRanges(),o>i?(n.addRange(h),n.extend(c.node,c.offset)):(h.setEnd(c.node,c.offset),n.addRange(h))}}}var c=n(52),u=n(134),l=n(96),h=c.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:h?o:i,setOffsets:h?s:a};t.exports=p},function(t,e){"use strict";function n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function o(t,e){for(var o=n(t),i=0,s=0;o;){if(3===o.nodeType){if(s=i+o.textContent.length,e>=i&&s>=e)return{node:o,offset:e-i};i=s}o=n(r(o))}}t.exports=o},function(t,e){function n(){try{return document.activeElement||document.body}catch(t){return document.body}}t.exports=n},function(t,e,n){"use strict";function r(){this.listenersToPut=[]}var o=n(10),i=n(69),s=n(14);s(r.prototype,{enqueuePutListener:function(t,e,n){this.listenersToPut.push({rootNodeID:t,propKey:e,propValue:n})},putListeners:function(){for(var t=0;t<this.listenersToPut.length;t++){var e=this.listenersToPut[t];i.putListener(e.rootNodeID,e.propKey,e.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),o.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(t){if("selectionStart"in t&&a.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(t){if(y||null==m||m!==u())return null;var e=r(m);if(!v||!p(v,e)){v=e;var n=c.getPooled(f.select,g,t);return n.type="select",n.target=m,s.accumulateTwoPhaseDispatches(n),n}}var i=n(6),s=n(94),a=n(132),c=n(98),u=n(135),l=n(102),h=n(40),p=n(138),d=i.topLevelTypes,f={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},m=null,g=null,v=null,y=!1,E={eventTypes:f,extractEvents:function(t,e,n,r){switch(t){
case d.topFocus:(l(e)||"true"===e.contentEditable)&&(m=e,g=n,v=null);break;case d.topBlur:m=null,g=null,v=null;break;case d.topMouseDown:y=!0;break;case d.topContextMenu:case d.topMouseUp:return y=!1,o(r);case d.topSelectionChange:case d.topKeyDown:case d.topKeyUp:return o(r)}}};t.exports=E},function(t,e){"use strict";function n(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}t.exports=n},function(t,e){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=r},function(t,e,n){(function(e){"use strict";var r=n(6),o=n(5),i=n(94),s=n(141),a=n(98),c=n(142),u=n(143),l=n(106),h=n(146),p=n(147),d=n(107),f=n(148),m=n(144),g=n(8),v=n(40),y=n(16),E=r.topLevelTypes,b={blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:v({onMouseOut:!0}),captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},x={topBlur:b.blur,topClick:b.click,topContextMenu:b.contextMenu,topCopy:b.copy,topCut:b.cut,topDoubleClick:b.doubleClick,topDrag:b.drag,topDragEnd:b.dragEnd,topDragEnter:b.dragEnter,topDragExit:b.dragExit,topDragLeave:b.dragLeave,topDragOver:b.dragOver,topDragStart:b.dragStart,topDrop:b.drop,topError:b.error,topFocus:b.focus,topInput:b.input,topKeyDown:b.keyDown,topKeyPress:b.keyPress,topKeyUp:b.keyUp,topLoad:b.load,topMouseDown:b.mouseDown,topMouseMove:b.mouseMove,topMouseOut:b.mouseOut,topMouseOver:b.mouseOver,topMouseUp:b.mouseUp,topPaste:b.paste,topReset:b.reset,topScroll:b.scroll,topSubmit:b.submit,topTouchCancel:b.touchCancel,topTouchEnd:b.touchEnd,topTouchMove:b.touchMove,topTouchStart:b.touchStart,topWheel:b.wheel};for(var N in x)x[N].dependencies=[N];var _={eventTypes:b,executeDispatch:function(t,n,r){var i=o.executeDispatch(t,n,r);"production"!==e.env.NODE_ENV?y("boolean"!=typeof i,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."):null,i===!1&&(t.stopPropagation(),t.preventDefault())},extractEvents:function(t,n,r,o){var v=x[t];if(!v)return null;var y;switch(t){case E.topInput:case E.topLoad:case E.topError:case E.topReset:case E.topSubmit:y=a;break;case E.topKeyPress:if(0===m(o))return null;case E.topKeyDown:case E.topKeyUp:y=u;break;case E.topBlur:case E.topFocus:y=c;break;case E.topClick:if(2===o.button)return null;case E.topContextMenu:case E.topDoubleClick:case E.topMouseDown:case E.topMouseMove:case E.topMouseOut:case E.topMouseOver:case E.topMouseUp:y=l;break;case E.topDrag:case E.topDragEnd:case E.topDragEnter:case E.topDragExit:case E.topDragLeave:case E.topDragOver:case E.topDragStart:case E.topDrop:y=h;break;case E.topTouchCancel:case E.topTouchEnd:case E.topTouchMove:case E.topTouchStart:y=p;break;case E.topScroll:y=d;break;case E.topWheel:y=f;break;case E.topCopy:case E.topCut:case E.topPaste:y=s}"production"!==e.env.NODE_ENV?g(y,"SimpleEventPlugin: Unhandled event type, `%s`.",t):g(y);var b=y.getPooled(v,r,o);return i.accumulateTwoPhaseDispatches(b),b}};t.exports=_}).call(e,n(4))},function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n)}var o=n(98),i={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n)}var o=n(107),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n)}var o=n(107),i=n(144),s=n(145),a=n(108),c={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(t){return"keypress"===t.type?i(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?i(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};o.augmentClass(r,c),t.exports=r},function(t,e){"use strict";function n(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.exports=n},function(t,e,n){"use strict";function r(t){if(t.key){var e=i[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=o(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?s[t.keyCode]||"Unidentified":""}var o=n(144),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n)}var o=n(106),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n)}var o=n(107),i=n(108),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,s),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n)}var o=n(106),i={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";var r=n(45),o=r.injection.MUST_USE_ATTRIBUTE,i={Properties:{clipPath:o,cx:o,cy:o,d:o,dx:o,dy:o,fill:o,fillOpacity:o,fontFamily:o,fontSize:o,fx:o,fy:o,gradientTransform:o,gradientUnits:o,markerEnd:o,markerMid:o,markerStart:o,offset:o,opacity:o,patternContentUnits:o,patternUnits:o,points:o,preserveAspectRatio:o,r:o,rx:o,ry:o,spreadMethod:o,stopColor:o,stopOpacity:o,stroke:o,strokeDasharray:o,strokeLinecap:o,strokeOpacity:o,strokeWidth:o,textAnchor:o,transform:o,version:o,viewBox:o,x1:o,x2:o,x:o,y1:o,y2:o,y:o},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=i},function(t,e,n){(function(e){"use strict";function r(t){var n=i.createFactory(t),r=o.createClass({tagName:t.toUpperCase(),displayName:"ReactFullPageComponent"+t,componentWillUnmount:function(){"production"!==e.env.NODE_ENV?s(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName):s(!1)},render:function(){return n(this.props)}});return r}var o=n(38),i=n(12),s=n(8);t.exports=r}).call(e,n(4))},function(t,e,n){"use strict";function r(t){return Math.floor(100*t)/100}function o(t,e,n){t[e]=(t[e]||0)+n}var i=n(45),s=n(152),a=n(68),c=n(29),u=n(153),l={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){l._injected||c.injection.injectMeasure(l.measure),l._allMeasurements.length=0,c.enableMeasure=!0},stop:function(){c.enableMeasure=!1},getLastMeasurements:function(){return l._allMeasurements},printExclusive:function(t){t=t||l._allMeasurements;var e=s.getExclusiveSummary(t);console.table(e.map(function(t){return{"Component class name":t.componentName,"Total inclusive time (ms)":r(t.inclusive),"Exclusive mount time (ms)":r(t.exclusive),"Exclusive render time (ms)":r(t.render),"Mount time per instance (ms)":r(t.exclusive/t.count),"Render time per instance (ms)":r(t.render/t.count),Instances:t.count}}))},printInclusive:function(t){t=t||l._allMeasurements;var e=s.getInclusiveSummary(t);console.table(e.map(function(t){return{"Owner > component":t.componentName,"Inclusive time (ms)":r(t.time),Instances:t.count}})),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(t){var e=s.getInclusiveSummary(t,!0);return e.map(function(t){return{"Owner > component":t.componentName,"Wasted time (ms)":t.time,Instances:t.count}})},printWasted:function(t){t=t||l._allMeasurements,console.table(l.getMeasurementsSummaryMap(t)),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},printDOM:function(t){t=t||l._allMeasurements;var e=s.getDOMSummary(t);console.table(e.map(function(t){var e={};return e[i.ID_ATTRIBUTE_NAME]=t.id,e.type=t.type,e.args=JSON.stringify(t.args),e})),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},_recordWrite:function(t,e,n,r){var o=l._allMeasurements[l._allMeasurements.length-1].writes;o[t]=o[t]||[],o[t].push({type:e,time:n,args:r})},measure:function(t,e,n){return function(){for(var r=[],i=0,s=arguments.length;s>i;i++)r.push(arguments[i]);var c,h,p;if("_renderNewRootComponent"===e||"flushBatchedUpdates"===e)return l._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),p=u(),h=n.apply(this,r),l._allMeasurements[l._allMeasurements.length-1].totalTime=u()-p,h;if("_mountImageIntoNode"===e||"ReactDOMIDOperations"===t){if(p=u(),h=n.apply(this,r),c=u()-p,"_mountImageIntoNode"===e){var d=a.getID(r[1]);l._recordWrite(d,e,c,r[0])}else"dangerouslyProcessChildrenUpdates"===e?r[0].forEach(function(t){var e={};null!==t.fromIndex&&(e.fromIndex=t.fromIndex),null!==t.toIndex&&(e.toIndex=t.toIndex),null!==t.textContent&&(e.textContent=t.textContent),null!==t.markupIndex&&(e.markup=r[1][t.markupIndex]),l._recordWrite(t.parentID,t.type,c,e)}):l._recordWrite(r[0],e,c,Array.prototype.slice.call(r,1));return h}if("ReactCompositeComponent"!==t||"mountComponent"!==e&&"updateComponent"!==e&&"_renderValidatedComponent"!==e)return n.apply(this,r);if("string"==typeof this._currentElement.type)return n.apply(this,r);var f="mountComponent"===e?r[0]:this._rootNodeID,m="_renderValidatedComponent"===e,g="mountComponent"===e,v=l._mountStack,y=l._allMeasurements[l._allMeasurements.length-1];if(m?o(y.counts,f,1):g&&v.push(0),p=u(),h=n.apply(this,r),c=u()-p,m)o(y.render,f,c);else if(g){var E=v.pop();v[v.length-1]+=c,o(y.exclusive,f,c-E),o(y.inclusive,f,c)}else o(y.inclusive,f,c);return y.displayNames[f]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},h}}};t.exports=l},function(t,e,n){function r(t){for(var e=0,n=0;n<t.length;n++){var r=t[n];e+=r.totalTime}return e}function o(t){for(var e=[],n=0;n<t.length;n++){var r,o=t[n];for(r in o.writes)o.writes[r].forEach(function(t){e.push({id:r,type:l[t.type]||t.type,args:t.args})})}return e}function i(t){for(var e,n={},r=0;r<t.length;r++){var o=t[r],i=c({},o.exclusive,o.inclusive);for(var s in i)e=o.displayNames[s].current,n[e]=n[e]||{componentName:e,inclusive:0,exclusive:0,render:0,count:0},o.render[s]&&(n[e].render+=o.render[s]),o.exclusive[s]&&(n[e].exclusive+=o.exclusive[s]),o.inclusive[s]&&(n[e].inclusive+=o.inclusive[s]),o.counts[s]&&(n[e].count+=o.counts[s])}var a=[];for(e in n)n[e].exclusive>=u&&a.push(n[e]);return a.sort(function(t,e){return e.exclusive-t.exclusive}),a}function s(t,e){for(var n,r={},o=0;o<t.length;o++){var i,s=t[o],l=c({},s.exclusive,s.inclusive);e&&(i=a(s));for(var h in l)if(!e||i[h]){var p=s.displayNames[h];n=p.owner+" > "+p.current,r[n]=r[n]||{componentName:n,time:0,count:0},s.inclusive[h]&&(r[n].time+=s.inclusive[h]),s.counts[h]&&(r[n].count+=s.counts[h])}}var d=[];for(n in r)r[n].time>=u&&d.push(r[n]);return d.sort(function(t,e){return e.time-t.time}),d}function a(t){var e={},n=Object.keys(t.writes),r=c({},t.exclusive,t.inclusive);for(var o in r){for(var i=!1,s=0;s<n.length;s++)if(0===n[s].indexOf(o)){i=!0;break}!i&&t.counts[o]>0&&(e[o]=!0)}return e}var c=n(14),u=1.2,l={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},h={getExclusiveSummary:i,getInclusiveSummary:s,getDOMSummary:o,getTotalTime:r};t.exports=h},function(t,e,n){var r=n(154);r&&r.now||(r=Date);var o=r.now.bind(r);t.exports=o},function(t,e,n){"use strict";var r,o=n(52);o.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),t.exports=r||{}},function(t,e,n){(function(e){"use strict";function r(t){"production"!==e.env.NODE_ENV?h(i.isValidElement(t),"renderToString(): You must pass a valid ReactElement."):h(i.isValidElement(t));var n;try{var r=s.createReactRootID();return n=c.getPooled(!1),n.perform(function(){var e=l(t,null),o=e.mountComponent(r,n,u);return a.addChecksumToMarkup(o)},null)}finally{c.release(n)}}function o(t){"production"!==e.env.NODE_ENV?h(i.isValidElement(t),"renderToStaticMarkup(): You must pass a valid ReactElement."):h(i.isValidElement(t));var n;try{var r=s.createReactRootID();return n=c.getPooled(!0),n.perform(function(){var e=l(t,null);return e.mountComponent(r,n,u)},null)}finally{c.release(n)}}var i=n(12),s=n(20),a=n(78),c=n(156),u=n(15),l=n(84),h=n(8);t.exports={renderToString:r,renderToStaticMarkup:o}}).call(e,n(4))},function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=i.getPooled(null),this.putListenerQueue=s.getPooled()}var o=n(10),i=n(28),s=n(136),a=n(37),c=n(14),u=n(17),l={initialize:function(){this.reactMountReady.reset()},close:u},h={initialize:function(){this.putListenerQueue.reset()},close:u},p=[h,l],d={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,s.release(this.putListenerQueue),this.putListenerQueue=null}};c(r.prototype,a.Mixin,d),o.addPoolingTo(r),t.exports=r},function(t,e,n){(function(e){"use strict";function r(t){return"production"!==e.env.NODE_ENV?i(o.isValidElement(t),"onlyChild must be passed a children with exactly one child."):i(o.isValidElement(t)),t}var o=n(12),i=n(8);t.exports=r}).call(e,n(4))},function(t,e,n){var r=n(159);t.exports=r},function(t,e,n){"use strict";var r=n(160),o=n(281),i=n(283),s=n(289),a=n(384),c=n(386),u=n(387),l=n(392),h=o.$$,p=i.Clipboard,d=i.SurfaceManager,f=i.ContainerEditor,m={paragraph:n(393),heading:n(396),blockquote:n(397),codeblock:n(398),list:n(399),link:n(400)},g=i.Tools,v=[new l],y=o.extend({displayName:"Editor",didInitialize:function(){this.config||(this.config={});var t=this.config.article||c,e=this.config.components||m,n=this.config.tools||g;this.doc=new t,this.doc.loadHtml(this.props.content),this.surfaceManager=new d(this.doc),this.clipboard=new p(this.surfaceManager,this.doc.getClipboardImporter(),this.doc.getClipboardExporter()),this.editor=new f("body"),r.each(v,function(t){this.editor.extendBehavior(t)},this),this.componentRegistry=new s,r.each(e,function(t,e){this.componentRegistry.add(e,t)},this),this.toolRegistry=new s,r.each(n,function(t){this.toolRegistry.add(t["static"].name,new t)},this),this.childContext={componentRegistry:this.componentRegistry,toolRegistry:this.toolRegistry,surfaceManager:this.surfaceManager}},render:function(){var t=h("div").addClass("editor-component"),e=this.config.toolbar||u,n=h(e);return n.key("toolbar"),t.append(n),t.append(h(a).key("bodyContainer").attr({contentEditable:!0}).addProps({doc:this.doc,node:this.doc.get("body"),editor:this.editor})),t},didReceiveProps:function(){this.doc.toHtml()!==this.props.content&&this.doc.loadHtml(this.props.content)},didMount:function(){this.surfaceManager.on("selection:changed",this.onSelectionChanged,this),this.clipboard.attach(this.$el[0])},willUnmount:function(){this.dispose()},dispose:function(){var t=this.clipboard,e=this.surfaceManager;t&&t.detach(this.$el[0]),e&&e.dispose()},getContent:function(){return this.doc.toHtml()},getDocument:function(){return this.doc},onSelectionChanged:function(t,e){this.toolRegistry.each(function(n){n.update(e,t)},this)}});t.exports=y},function(t,e,n){"use strict";var r={};r.isEqual=n(161),r.isObject=n(173),r.isArray=n(176),r.isString=n(184),r.isNumber=n(185),r.isBoolean=n(186),r.isFunction=n(187),r.cloneDeep=n(189),r.clone=n(202),r.isEmpty=n(204),r.bind=n(205),r.delay=n(224),r.debounce=n(226),r.extend=n(227),r.omit=n(231),r.last=n(244),r.first=n(245),r.compact=n(246),r.uniq=n(247),r.intersection=n(256),r.union=n(257),r.without=n(258),r.each=n(259),r.filter=n(261),r.includes=n(264),r.find=n(267),r.map=n(270),r.pluck=n(272),r.indexBy=n(273),r.sortBy=n(275),r.capitalize=n(279),r.isArrayEqual=function(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},r.deleteFromArray=function(t,e){for(var n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),n--)},r.deepclone=function(t){return null===t||void 0===t?t:r.isFunction(t.clone)?t.clone():r.deepclone(t)},r.deepclone=r.cloneDeep,r.getRelativeOffset=function(t,e){var n=t.offset(),r=e.offset();return n.left-=r.left,n.top-=r.top,n},r.uuid=n(280),t.exports=r},function(t,e,n){function r(t,e,n,r){if(n="function"==typeof n&&i(n,r,3),!n&&s(t)&&s(e))return t===e;var a=n?n(t,e):void 0;return"undefined"==typeof a?o(t,e,n):!!a}var o=n(162),i=n(181),s=n(183);t.exports=r},function(t,e,n){function r(t,e,n,i,s,a){if(t===e)return 0!==t||1/t==1/e;var c=typeof t,u=typeof e;return"function"!=c&&"object"!=c&&"function"!=u&&"object"!=u||null==t||null==e?t!==t&&e!==e:o(t,e,r,n,i,s,a)}var o=n(163);t.exports=r},function(t,e,n){function r(t,e,n,r,p,m,g){var v=a(t),y=a(e),E=l,b=l;v||(E=f.call(t),E==u?E=h:E!=h&&(v=c(t))),y||(b=f.call(e),b==u?b=h:b!=h&&(y=c(e)));var x=E==h,N=b==h,_=E==b;if(_&&!v&&!x)return i(t,e,E);var C=x&&d.call(t,"__wrapped__"),w=N&&d.call(e,"__wrapped__");if(C||w)return n(C?t.value():t,w?e.value():e,r,p,m,g);if(!_)return!1;m||(m=[]),g||(g=[]);for(var O=m.length;O--;)if(m[O]==t)return g[O]==e;m.push(t),g.push(e);var D=(v?o:s)(t,e,n,r,p,m,g);return m.pop(),g.pop(),D}var o=n(164),i=n(165),s=n(166),a=n(176),c=n(180),u="[object Arguments]",l="[object Array]",h="[object Object]",p=Object.prototype,d=p.hasOwnProperty,f=p.toString;t.exports=r},function(t,e){function n(t,e,n,r,o,i,s){var a=-1,c=t.length,u=e.length,l=!0;if(c!=u&&!(o&&u>c))return!1;for(;l&&++a<c;){var h=t[a],p=e[a];if(l=void 0,r&&(l=o?r(p,h,a):r(h,p,a)),"undefined"==typeof l)if(o)for(var d=u;d--&&(p=e[d],!(l=h&&h===p||n(h,p,r,o,i,s))););else l=h&&h===p||n(h,p,r,o,i,s)}return!!l}t.exports=n},function(t,e){function n(t,e,n){switch(n){case r:case o:return+t==+e;case i:return t.name==e.name&&t.message==e.message;case s:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case a:case c:return t==e+""}return!1}var r="[object Boolean]",o="[object Date]",i="[object Error]",s="[object Number]",a="[object RegExp]",c="[object String]";t.exports=n},function(t,e,n){function r(t,e,n,r,i,a,c){var u=o(t),l=u.length,h=o(e),p=h.length;if(l!=p&&!i)return!1;for(var d,f=-1;++f<l;){var m=u[f],g=s.call(e,m);if(g){var v=t[m],y=e[m];g=void 0,r&&(g=i?r(y,v,m):r(v,y,m)),"undefined"==typeof g&&(g=v&&v===y||n(v,y,r,i,a,c))}if(!g)return!1;d||(d="constructor"==m)}if(!d){var E=t.constructor,b=e.constructor;if(E!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof E&&E instanceof E&&"function"==typeof b&&b instanceof b))return!1}return!0}var o=n(167),i=Object.prototype,s=i.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(168),o=n(169),i=n(173),s=n(174),a=o(a=Object.keys)&&a,c=a?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&r(n)?s(t):i(t)?a(t):[]}:s;t.exports=c},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&r>=t}var r=Math.pow(2,53)-1;t.exports=n},function(t,e,n){function r(t){return null==t?!1:l.call(t)==s?h.test(u.call(t)):i(t)&&a.test(t)||!1}var o=n(170),i=n(172),s="[object Function]",a=/^\[object .+?Constructor\]$/,c=Object.prototype,u=Function.prototype.toString,l=c.toString,h=RegExp("^"+o(l).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return t=o(t),t&&s.test(t)?t.replace(i,"\\$&"):t}var o=n(171),i=/[.*+?^${}()|[\]\/\\]/g,s=RegExp(i.source);t.exports=r},function(t,e){function n(t){return"string"==typeof t?t:null==t?"":t+""}t.exports=n},function(t,e){function n(t){return t&&"object"==typeof t||!1}t.exports=n},function(t,e){function n(t){var e=typeof t;return"function"==e||t&&"object"==e||!1}t.exports=n},function(t,e,n){function r(t){for(var e=c(t),n=e.length,r=n&&t.length,l=r&&a(r)&&(i(t)||u.nonEnumArgs&&o(t)),p=-1,d=[];++p<n;){var f=e[p];(l&&s(f,r)||h.call(t,f))&&d.push(f)}return d}var o=n(175),i=n(176),s=n(177),a=n(168),c=n(178),u=n(179),l=Object.prototype,h=l.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=i(t)?t.length:void 0;return o(e)&&c.call(t)==s||!1}var o=n(168),i=n(172),s="[object Arguments]",a=Object.prototype,c=a.toString;t.exports=r},function(t,e,n){var r=n(168),o=n(169),i=n(172),s="[object Array]",a=Object.prototype,c=a.toString,u=o(u=Array.isArray)&&u,l=u||function(t){return i(t)&&r(t.length)&&c.call(t)==s||!1};t.exports=l},function(t,e){function n(t,e){return t=+t,e=null==e?r:e,t>-1&&t%1==0&&e>t}var r=Math.pow(2,53)-1;t.exports=n},function(t,e,n){function r(t){if(null==t)return[];c(t)||(t=Object(t));var e=t.length;e=e&&a(e)&&(i(t)||u.nonEnumArgs&&o(t))&&e||0;for(var n=t.constructor,r=-1,l="function"==typeof n&&n.prototype===t,p=Array(e),d=e>0;++r<e;)p[r]=r+"";for(var f in t)d&&s(f,e)||"constructor"==f&&(l||!h.call(t,f))||p.push(f);return p}var o=n(175),i=n(176),s=n(177),a=n(168),c=n(173),u=n(179),l=Object.prototype,h=l.hasOwnProperty;t.exports=r},function(t,e,n){(function(e){var r=n(169),o=/\bthis\b/,i=Object.prototype,s=(s=e.window)&&s.document,a=i.propertyIsEnumerable,c={};!function(t){c.funcDecomp=!r(e.WinRTError)&&o.test(function(){return this}),c.funcNames="string"==typeof Function.name;try{c.dom=11===s.createDocumentFragment().nodeType}catch(n){c.dom=!1}try{c.nonEnumArgs=!a.call(arguments,1)}catch(n){c.nonEnumArgs=!0}}(0,0),t.exports=c}).call(e,function(){return this}())},function(t,e,n){function r(t){return i(t)&&o(t.length)&&S[P.call(t)]||!1}var o=n(168),i=n(172),s="[object Arguments]",a="[object Array]",c="[object Boolean]",u="[object Date]",l="[object Error]",h="[object Function]",p="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",E="[object ArrayBuffer]",b="[object Float32Array]",x="[object Float64Array]",N="[object Int8Array]",_="[object Int16Array]",C="[object Int32Array]",w="[object Uint8Array]",O="[object Uint8ClampedArray]",D="[object Uint16Array]",T="[object Uint32Array]",S={};S[b]=S[x]=S[N]=S[_]=S[C]=S[w]=S[O]=S[D]=S[T]=!0,S[s]=S[a]=S[E]=S[c]=S[u]=S[l]=S[h]=S[p]=S[d]=S[f]=S[m]=S[g]=S[v]=S[y]=!1;var I=Object.prototype,P=I.toString;t.exports=r},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return o;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,s){return t.call(e,n,r,o,i,s)}}return function(){return t.apply(e,arguments)}}var o=n(182);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){return t===t&&(0===t?1/t>0:!o(t))}var o=n(173);t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||o(t)&&a.call(t)==i||!1}var o=n(172),i="[object String]",s=Object.prototype,a=s.toString;t.exports=r},function(t,e,n){function r(t){return"number"==typeof t||o(t)&&a.call(t)==i||!1}var o=n(172),i="[object Number]",s=Object.prototype,a=s.toString;t.exports=r},function(t,e,n){function r(t){return t===!0||t===!1||o(t)&&a.call(t)==i||!1}var o=n(172),i="[object Boolean]",s=Object.prototype,a=s.toString;t.exports=r},function(t,e,n){(function(e){var r=n(188),o=n(169),i="[object Function]",s=Object.prototype,a=s.toString,c=o(c=e.Uint8Array)&&c,u=r(/x/)||c&&!r(c)?function(t){return a.call(t)==i}:r;t.exports=u}).call(e,function(){return this}())},function(t,e){function n(t){return"function"==typeof t||!1}t.exports=n},function(t,e,n){function r(t,e,n){return e="function"==typeof e&&i(e,n,1),o(t,!0,e)}var o=n(190),i=n(181);t.exports=r},function(t,e,n){function r(t,e,n,m,g,v,y){var b;if(n&&(b=g?n(t,m,g):n(t)),"undefined"!=typeof b)return b;if(!p(t))return t;var x=h(t);if(x){if(b=c(t),!e)return o(t,b)}else{var _=U.call(t),C=_==E;if(_!=N&&_!=f&&(!C||g))return L[_]?u(t,_,e):g?t:{};if(b=l(C?{}:t),!e)return s(t,b,d(t))}v||(v=[]),y||(y=[]);for(var w=v.length;w--;)if(v[w]==t)return y[w];return v.push(t),y.push(b),(x?i:a)(t,function(o,i){b[i]=r(o,e,n,i,t,v,y)}),b}var o=n(191),i=n(192),s=n(193),a=n(194),c=n(197),u=n(198),l=n(201),h=n(176),p=n(173),d=n(167),f="[object Arguments]",m="[object Array]",g="[object Boolean]",v="[object Date]",y="[object Error]",E="[object Function]",b="[object Map]",x="[object Number]",N="[object Object]",_="[object RegExp]",C="[object Set]",w="[object String]",O="[object WeakMap]",D="[object ArrayBuffer]",T="[object Float32Array]",S="[object Float64Array]",I="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",A="[object Uint8Array]",R="[object Uint8ClampedArray]",k="[object Uint16Array]",V="[object Uint32Array]",L={};L[f]=L[m]=L[D]=L[g]=L[v]=L[T]=L[S]=L[I]=L[P]=L[M]=L[x]=L[N]=L[_]=L[w]=L[A]=L[R]=L[k]=L[V]=!0,L[y]=L[E]=L[b]=L[C]=L[O]=!1;var j=Object.prototype,U=j.toString;t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e){function n(t,e,n){n||(n=e,e={});for(var r=-1,o=n.length;++r<o;){var i=n[r];e[i]=t[i]}return e}t.exports=n},function(t,e,n){function r(t,e){return o(t,e,i)}var o=n(195),i=n(167);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,i=o(t),s=n(t),a=s.length;++r<a;){var c=s[r];if(e(i[c],c,i)===!1)break}return t}var o=n(196);t.exports=r},function(t,e,n){function r(t){return o(t)?t:Object(t)}var o=n(173);t.exports=r},function(t,e){function n(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&o.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,o=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n){var r=t.constructor;switch(e){case l:return o(t);case i:case s:return new r(+t);case h:case p:case d:case f:case m:case g:case v:case y:case E:var x=t.buffer;return new r(n?o(x):x,t.byteOffset,t.length);case a:case u:return new r(t);case c:var N=new r(t.source,b.exec(t));N.lastIndex=t.lastIndex}return N}var o=n(199),i="[object Boolean]",s="[object Date]",a="[object Number]",c="[object RegExp]",u="[object String]",l="[object ArrayBuffer]",h="[object Float32Array]",p="[object Float64Array]",d="[object Int8Array]",f="[object Int16Array]",m="[object Int32Array]",g="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",E="[object Uint32Array]",b=/\w*$/;t.exports=r},function(t,e,n){(function(e){function r(t){return a.call(t,0)}var o=n(200),i=n(169),s=i(s=e.ArrayBuffer)&&s,a=i(a=s&&new s(0).slice)&&a,c=Math.floor,u=i(u=e.Uint8Array)&&u,l=function(){try{var t=i(t=e.Float64Array)&&t,n=new t(new s(10),0,1)&&t}catch(r){}return n}(),h=l?l.BYTES_PER_ELEMENT:0;a||(r=s&&u?function(t){var e=t.byteLength,n=l?c(e/h):0,r=n*h,o=new s(e);if(n){var i=new l(o,0,n);i.set(new l(t,0,n))}return e!=r&&(i=new u(o,r),i.set(new u(t,r))),o}:o(null)),t.exports=r}).call(e,function(){return this}())},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e){function n(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}t.exports=n},function(t,e,n){function r(t,e,n,r){return e&&"boolean"!=typeof e&&s(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),n="function"==typeof n&&i(n,r,1),o(t,e,n);
}var o=n(190),i=n(181),s=n(203);t.exports=r},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;if("number"==r)var a=n.length,c=i(a)&&o(e,a);else c="string"==r&&e in n;if(c){var u=n[e];return t===t?t===u:u!==u}return!1}var o=n(177),i=n(168),s=n(173);t.exports=r},function(t,e,n){function r(t){if(null==t)return!0;var e=t.length;return a(e)&&(i(t)||u(t)||o(t)||c(t)&&s(t.splice))?!e:!l(t).length}var o=n(175),i=n(176),s=n(187),a=n(168),c=n(172),u=n(184),l=n(167);t.exports=r},function(t,e,n){function r(t,e){var n=a;if(arguments.length>2){var u=o(arguments,2),l=s(u,r.placeholder);n|=c}return i(t,n,e,u,l)}var o=n(206),i=n(207),s=n(217),a=1,c=32;r.placeholder={},t.exports=r},function(t,e){function n(t,e,n){var r=-1,o=t.length;e=null==e?0:+e||0,0>e&&(e=-e>o?0:o+e),n="undefined"==typeof n||n>o?o:+n||0,0>n&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}t.exports=n},function(t,e,n){function r(t,e,n,r,v,y,E,b){var x=e&p;if(!x&&"function"!=typeof t)throw new TypeError(m);var N=r?r.length:0;if(N||(e&=~(d|f),r=v=null),N-=v?v.length:0,e&f){var _=r,C=v;r=v=null}var w=!x&&c(t),O=[t,e,n,r,v,_,C,y,E,b];if(w&&w!==!0&&(u(O,w),e=O[1],b=O[9]),O[9]=null==b?x?0:t.length:g(b-N,0)||0,e==h)var D=i(O[0],O[2]);else D=e!=d&&e!=(h|d)||O[4].length?s.apply(void 0,O):a.apply(void 0,O);var T=w?o:l;return T(D,O)}var o=n(208),i=n(210),s=n(213),a=n(218),c=n(219),u=n(221),l=n(222),h=1,p=2,d=32,f=64,m="Expected a function",g=Math.max;t.exports=r},function(t,e,n){var r=n(182),o=n(209),i=o?function(t,e){return o.set(t,e),t}:r;t.exports=i},function(t,e,n){(function(e){var r=n(169),o=r(o=e.WeakMap)&&o,i=o&&new o;t.exports=i}).call(e,function(){return this}())},function(t,e,n){function r(t,e){function n(){return(this instanceof n?r:t).apply(e,arguments)}var r=o(t);return n}var o=n(211);t.exports=r},function(t,e,n){function r(t){return function(){var e=o(t.prototype),n=t.apply(e,arguments);return i(n)?n:e}}var o=n(212),i=n(173);t.exports=r},function(t,e,n){(function(e){var r=n(173),o=function(){function t(){}return function(n){if(r(n)){t.prototype=n;var o=new t;t.prototype=null}return o||e.Object()}}();t.exports=o}).call(e,function(){return this}())},function(t,e,n){function r(t,e,n,E,b,x,N,_,C,w){function O(){for(var p=arguments.length,d=p,f=Array(p);d--;)f[d]=arguments[d];if(E&&(f=i(f,E,b)),x&&(f=s(f,x,N)),I||M){var v=O.placeholder,k=u(f,v);if(p-=k.length,w>p){var V=_?o(_):null,L=y(w-p,0),j=I?k:null,U=I?null:k,F=I?f:null,B=I?null:f;e|=I?m:g,e&=~(I?g:m),P||(e&=~(l|h));var $=r(t,e,n,F,j,B,U,V,C,L);return $.placeholder=v,$}}var H=T?n:this;return S&&(t=H[R]),_&&(f=c(f,_)),D&&C<f.length&&(f.length=C),(this instanceof O?A||a(t):t).apply(H,f)}var D=e&v,T=e&l,S=e&h,I=e&d,P=e&p,M=e&f,A=!S&&a(t),R=t;return O}var o=n(191),i=n(214),s=n(215),a=n(211),c=n(216),u=n(217),l=1,h=2,p=4,d=8,f=16,m=32,g=64,v=256,y=Math.max;t.exports=r},function(t,e){function n(t,e,n){for(var o=n.length,i=-1,s=r(t.length-o,0),a=-1,c=e.length,u=Array(s+c);++a<c;)u[a]=e[a];for(;++i<o;)u[n[i]]=t[i];for(;s--;)u[a++]=t[i++];return u}var r=Math.max;t.exports=n},function(t,e){function n(t,e,n){for(var o=-1,i=n.length,s=-1,a=r(t.length-i,0),c=-1,u=e.length,l=Array(a+u);++s<a;)l[s]=t[s];for(var h=s;++c<u;)l[h+c]=e[c];for(;++o<i;)l[h+n[o]]=t[s++];return l}var r=Math.max;t.exports=n},function(t,e,n){function r(t,e){for(var n=t.length,r=s(e.length,n),a=o(t);r--;){var c=e[r];t[r]=i(c,n)?a[c]:void 0}return t}var o=n(191),i=n(177),s=Math.min;t.exports=r},function(t,e){function n(t,e){for(var n=-1,o=t.length,i=-1,s=[];++n<o;)t[n]===e&&(t[n]=r,s[++i]=n);return s}var r="__lodash_placeholder__";t.exports=n},function(t,e,n){function r(t,e,n,r){function s(){for(var e=-1,o=arguments.length,i=-1,u=r.length,l=Array(o+u);++i<u;)l[i]=r[i];for(;o--;)l[i++]=arguments[++e];return(this instanceof s?c:t).apply(a?n:this,l)}var a=e&i,c=o(t);return s}var o=n(211),i=1;t.exports=r},function(t,e,n){var r=n(209),o=n(220),i=r?function(t){return r.get(t)}:o;t.exports=i},function(t,e){function n(){}t.exports=n},function(t,e,n){function r(t,e){var n=t[1],r=e[1],g=n|r,v=d|p,y=c|u,E=v|y|l|h,b=n&d&&!(r&d),x=n&p&&!(r&p),N=(x?t:e)[7],_=(b?t:e)[8],C=!(n>=p&&r>y||n>y&&r>=p),w=g>=v&&E>=g&&(p>n||(x||b)&&N.length<=_);if(!C&&!w)return t;r&c&&(t[2]=e[2],g|=n&c?0:l);var O=e[3];if(O){var D=t[3];t[3]=D?i(D,O,e[4]):o(O),t[4]=D?a(t[3],f):o(e[4])}return O=e[5],O&&(D=t[5],t[5]=D?s(D,O,e[6]):o(O),t[6]=D?a(t[5],f):o(e[6])),O=e[7],O&&(t[7]=o(O)),r&d&&(t[8]=null==t[8]?e[8]:m(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=g,t}var o=n(191),i=n(214),s=n(215),a=n(217),c=1,u=2,l=4,h=16,p=128,d=256,f="__lodash_placeholder__",m=Math.min;t.exports=r},function(t,e,n){var r=n(208),o=n(223),i=150,s=16,a=function(){var t=0,e=0;return function(n,a){var c=o(),u=s-(c-e);if(e=c,u>0){if(++t>=i)return n}else t=0;return r(n,a)}}();t.exports=a},function(t,e,n){var r=n(169),o=r(o=Date.now)&&o,i=o||function(){return(new Date).getTime()};t.exports=i},function(t,e,n){function r(t,e){return o(t,e,arguments,2)}var o=n(225);t.exports=r},function(t,e,n){function r(t,e,n,r){if("function"!=typeof t)throw new TypeError(i);return setTimeout(function(){t.apply(void 0,o(n,r))},e)}var o=n(206),i="Expected a function";t.exports=r},function(t,e,n){function r(t,e,n){function r(){g&&clearTimeout(g),p&&clearTimeout(p),p=g=v=void 0}function c(){var n=e-(i()-f);if(0>=n||n>e){p&&clearTimeout(p);var r=v;p=g=v=void 0,r&&(y=i(),d=t.apply(m,h),g||p||(h=m=null))}else g=setTimeout(c,n)}function u(){g&&clearTimeout(g),p=g=v=void 0,(b||E!==e)&&(y=i(),d=t.apply(m,h),g||p||(h=m=null))}function l(){if(h=arguments,f=i(),m=this,v=b&&(g||!x),E===!1)var n=x&&!g;else{p||x||(y=f);var r=E-(f-y),o=0>=r||r>E;o?(p&&(p=clearTimeout(p)),y=f,d=t.apply(m,h)):p||(p=setTimeout(u,r))}return o&&g?g=clearTimeout(g):g||e===E||(g=setTimeout(c,e)),n&&(o=!0,d=t.apply(m,h)),!o||g||p||(h=m=null),d}var h,p,d,f,m,g,v,y=0,E=!1,b=!0;if("function"!=typeof t)throw new TypeError(s);if(e=0>e?0:+e||0,n===!0){var x=!0;b=!1}else o(n)&&(x=n.leading,E="maxWait"in n&&a(+n.maxWait||0,e),b="trailing"in n?n.trailing:b);return l.cancel=r,l}var o=n(173),i=n(223),s="Expected a function",a=Math.max;t.exports=r},function(t,e,n){t.exports=n(228)},function(t,e,n){var r=n(229),o=n(230),i=o(r);t.exports=i},function(t,e,n){function r(t,e,n){var r=i(e);if(!n)return o(e,t,r);for(var s=-1,a=r.length;++s<a;){var c=r[s],u=t[c],l=n(u,e[c],c,t,e);(l===l?l===u:u!==u)&&("undefined"!=typeof u||c in t)||(t[c]=l)}return t}var o=n(193),i=n(167);t.exports=r},function(t,e,n){function r(t){return function(){var e=arguments.length,n=arguments[0];if(2>e||null==n)return n;if(e>3&&i(arguments[1],arguments[2],arguments[3])&&(e=2),e>3&&"function"==typeof arguments[e-2])var r=o(arguments[--e-1],arguments[e--],5);else e>2&&"function"==typeof arguments[e-1]&&(r=arguments[--e]);for(var s=0;++s<e;){var a=arguments[s];a&&t(n,a,r)}return n}}var o=n(181),i=n(203);t.exports=r},function(t,e,n){function r(t,e,n){if(null==t)return{};if("function"!=typeof e){var r=o(s(arguments,!1,!1,1),String);return u(t,i(c(t),r))}return e=a(e,n,3),l(t,function(t,n,r){return!e(t,n,r)})}var o=n(232),i=n(233),s=n(240),a=n(181),c=n(178),u=n(241),l=n(242);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},function(t,e,n){function r(t,e){var n=t?t.length:0,r=[];if(!n)return r;var a=-1,c=o,u=!0,l=u&&e.length>=200?s(e):null,h=e.length;l&&(c=i,u=!1,e=l);t:for(;++a<n;){var p=t[a];if(u&&p===p){for(var d=h;d--;)if(e[d]===p)continue t;r.push(p)}else c(e,p)<0&&r.push(p)}return r}var o=n(234),i=n(236),s=n(237);t.exports=r},function(t,e,n){function r(t,e,n){if(e!==e)return o(t,n);for(var r=(n||0)-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var o=n(235);t.exports=r},function(t,e){function n(t,e,n){for(var r=t.length,o=n?e||r:(e||0)-1;n?o--:++o<r;){var i=t[o];if(i!==i)return o}return-1}t.exports=n},function(t,e,n){function r(t,e){var n=t.data,r="string"==typeof e||o(e)?n.set.has(e):n.hash[e];return r?0:-1}var o=n(173);t.exports=r},function(t,e,n){(function(e){var r=n(238),o=n(200),i=n(169),s=i(s=e.Set)&&s,a=i(a=Object.create)&&a,c=a&&s?function(t){return new r(t)}:o(null);t.exports=c}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t){var e=t?t.length:0;for(this.data={hash:a(null),set:new s};e--;)this.push(t[e])}var o=n(239),i=n(169),s=i(s=e.Set)&&s,a=i(a=Object.create)&&a;r.prototype.push=o,t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=this.data;"string"==typeof t||o(t)?e.set.add(t):e.hash[t]=!0}var o=n(173);t.exports=r},function(t,e,n){function r(t,e,n,c){for(var u=(c||0)-1,l=t.length,h=-1,p=[];++u<l;){var d=t[u];if(a(d)&&s(d.length)&&(i(d)||o(d))){e&&(d=r(d,e,n));var f=-1,m=d.length;for(p.length+=m;++f<m;)p[++h]=d[f]}else n||(p[++h]=d)}return p}var o=n(175),i=n(176),s=n(168),a=n(172);t.exports=r},function(t,e,n){function r(t,e){t=o(t);for(var n=-1,r=e.length,i={};++n<r;){var s=e[n];s in t&&(i[s]=t[s])}return i}var o=n(196);t.exports=r},function(t,e,n){function r(t,e){var n={};return o(t,function(t,r,o){e(t,r,o)&&(n[r]=t)}),n}var o=n(243);t.exports=r},function(t,e,n){function r(t,e){return o(t,e,i)}var o=n(195),i=n(178);t.exports=r},function(t,e){function n(t){var e=t?t.length:0;return e?t[e-1]:void 0}t.exports=n},function(t,e){function n(t){return t?t[0]:void 0}t.exports=n},function(t,e){function n(t){for(var e=-1,n=t?t.length:0,r=-1,o=[];++e<n;){var i=t[e];i&&(o[++r]=i)}return o}t.exports=n},function(t,e,n){function r(t,e,n,r){var c=t?t.length:0;return c?(null!=e&&"boolean"!=typeof e&&(r=n,n=s(t,e,r)?null:e,e=!1),n=null==n?n:o(n,r,3),e?a(t,n):i(t,n)):[]}var o=n(248),i=n(254),s=n(203),a=n(255);t.exports=r},function(t,e,n){function r(t,e,n){var r=typeof t;return"function"==r?"undefined"!=typeof e&&u(t)?a(t,e,n):t:null==t?c:"object"==r?o(t):"undefined"==typeof e?s(t+""):i(t+"",e)}var o=n(249),i=n(251),s=n(252),a=n(181),c=n(182),u=n(253);t.exports=r},function(t,e,n){function r(t){var e=s(t),n=e.length;if(1==n){var r=e[0],a=t[r];if(i(a))return function(t){return null!=t&&t[r]===a&&c.call(t,r)}}for(var u=Array(n),l=Array(n);n--;)a=t[e[n]],u[n]=a,l[n]=i(a);return function(t){return o(t,e,u,l)}}var o=n(250),i=n(183),s=n(167),a=Object.prototype,c=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,r,i){var a=e.length;if(null==t)return!a;for(var c=-1,u=!i;++c<a;)if(u&&r[c]?n[c]!==t[e[c]]:!s.call(t,e[c]))return!1;for(c=-1;++c<a;){var l=e[c];if(u&&r[c])var h=s.call(t,l);else{var p=t[l],d=n[c];h=i?i(p,d,l):void 0,"undefined"==typeof h&&(h=o(d,p,i,!0))}if(!h)return!1}return!0}var o=n(162),i=Object.prototype,s=i.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){return i(e)?function(n){return null!=n&&n[t]===e}:function(n){return null!=n&&o(e,n[t],null,!0)}}var o=n(162),i=n(183);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){var e=!(s.funcNames?t.name:s.funcDecomp);if(!e){var n=u.call(t);s.funcNames||(e=!a.test(n)),e||(e=c.test(n)||i(t),o(t,e))}return e}var o=n(208),i=n(169),s=n(179),a=/^\s*function[ \n\r\t]+\w/,c=/\bthis\b/,u=Function.prototype.toString;t.exports=r},function(t,e,n){function r(t,e){var n=-1,r=o,a=t.length,c=!0,u=c&&a>=200,l=u?s():null,h=[];l?(r=i,c=!1):(u=!1,l=e?[]:h);t:for(;++n<a;){var p=t[n],d=e?e(p,n,t):p;if(c&&p===p){for(var f=l.length;f--;)if(l[f]===d)continue t;e&&l.push(d),h.push(p)}else r(l,d)<0&&((e||u)&&l.push(d),h.push(p))}return h}var o=n(234),i=n(236),s=n(237);t.exports=r},function(t,e){function n(t,e){for(var n,r=-1,o=t.length,i=-1,s=[];++r<o;){var a=t[r],c=e?e(a,r,t):a;r&&n===c||(n=c,s[++i]=a)}return s}t.exports=n},function(t,e,n){function r(){for(var t=[],e=-1,n=arguments.length,r=[],u=o,l=!0;++e<n;){var h=arguments[e];(c(h)||a(h))&&(t.push(h),r.push(l&&h.length>=120?s(e&&h):null))}n=t.length;var p=t[0],d=-1,f=p?p.length:0,m=[],g=r[0];t:for(;++d<f;)if(h=p[d],(g?i(g,h):u(m,h))<0){for(e=n;--e;){var v=r[e];if((v?i(v,h):u(t[e],h))<0)continue t}g&&g.push(h),m.push(h)}return m}var o=n(234),i=n(236),s=n(237),a=n(175),c=n(176);t.exports=r},function(t,e,n){function r(){return i(o(arguments,!1,!0))}var o=n(240),i=n(254);t.exports=r},function(t,e,n){function r(t){return o(t,i(arguments,1))}var o=n(233),i=n(206);t.exports=r},function(t,e,n){function r(t,e,n){return"function"==typeof e&&"undefined"==typeof n&&a(t)?o(t,e):i(t,s(e,n,3))}var o=n(192),i=n(260),s=n(181),a=n(176);t.exports=r},function(t,e,n){function r(t,e){var n=t?t.length:0;if(!i(n))return o(t,e);for(var r=-1,a=s(t);++r<n&&e(a[r],r,a)!==!1;);return t}var o=n(194),i=n(168),s=n(196);t.exports=r},function(t,e,n){function r(t,e,n){var r=a(t)?o:s;return e=i(e,n,3),r(t,e)}var o=n(262),i=n(248),s=n(263),a=n(176);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length,o=-1,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[++o]=s)}return i}t.exports=n},function(t,e,n){function r(t,e){var n=[];return o(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}var o=n(260);t.exports=r},function(t,e,n){function r(t,e,n){var r=t?t.length:0;return s(r)||(t=c(t),r=t.length),r?(n="number"==typeof n?0>n?u(r+n,0):n||0:0,"string"==typeof t||!i(t)&&a(t)?r>n&&t.indexOf(e,n)>-1:o(t,e,n)>-1):!1}var o=n(234),i=n(176),s=n(168),a=n(184),c=n(265),u=Math.max;t.exports=r},function(t,e,n){function r(t){return o(t,i(t))}var o=n(266),i=n(167);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t[e[n]];return o}t.exports=n},function(t,e,n){function r(t,e,n){if(c(t)){var r=a(t,e,n);return r>-1?t[r]:void 0}return e=o(e,n,3),s(t,e,i)}var o=n(248),i=n(260),s=n(268),a=n(269),c=n(176);t.exports=r},function(t,e){function n(t,e,n,r){var o;return n(t,function(t,n,i){return e(t,n,i)?(o=r?n:t,!1):void 0}),o}t.exports=n},function(t,e,n){function r(t,e,n){var r=-1,i=t?t.length:0;for(e=o(e,n,3);++r<i;)if(e(t[r],r,t))return r;return-1}var o=n(248);t.exports=r},function(t,e,n){function r(t,e,n){var r=a(t)?o:s;return e=i(e,n,3),r(t,e)}var o=n(232),i=n(248),s=n(271),a=n(176);t.exports=r},function(t,e,n){function r(t,e){var n=[];return o(t,function(t,r,o){n.push(e(t,r,o))}),n}var o=n(260);t.exports=r},function(t,e,n){function r(t,e){return i(t,o(e))}var o=n(252),i=n(270);t.exports=r},function(t,e,n){var r=n(274),o=r(function(t,e,n){t[n]=e});t.exports=o},function(t,e,n){function r(t,e){return function(n,r,a){var c=e?e():{};if(r=o(r,a,3),s(n))for(var u=-1,l=n.length;++u<l;){var h=n[u];t(c,h,r(h,u,n),n)}else i(n,function(e,n,o){t(c,e,r(e,n,o),o)});return c}}var o=n(248),i=n(260),s=n(176);t.exports=r},function(t,e,n){function r(t,e,n){var r=-1,l=t?t.length:0,h=u(l)?Array(l):[];return n&&c(t,e,n)&&(e=null),e=o(e,n,3),i(t,function(t,n,o){h[++r]={criteria:e(t,n,o),index:r,value:t}}),s(h,a)}var o=n(248),i=n(260),s=n(276),a=n(277),c=n(203),u=n(168);t.exports=r},function(t,e){function n(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}t.exports=n},function(t,e,n){function r(t,e){return o(t.criteria,e.criteria)||t.index-e.index}var o=n(278);t.exports=r},function(t,e){function n(t,e){if(t!==e){var n=t===t,r=e===e;if(t>e||!n||"undefined"==typeof t&&r)return 1;if(e>t||!r||"undefined"==typeof e&&n)return-1}return 0}t.exports=n},function(t,e,n){function r(t){return t=o(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}var o=n(171);t.exports=r},function(t,e){/*!
	Math.uuid.js (v1.4)
	http://www.broofa.com
	mailto:robert@broofa.com
	Copyright (c) 2010 Robert Kieffer
	Dual licensed under the MIT and GPL licenses.
	*/
t.exports=function n(t,e){t&&"_"!==t[t.length-1]&&(t=t.concat("_"));var r,o="0123456789abcdefghijklmnopqrstuvwxyz".split(""),n=[],i=16;if(e=e||32)for(r=0;e>r;r++)n[r]=o[0|Math.random()*i];else{var s;for(n[8]=n[13]=n[18]=n[23]="-",n[14]="4",r=0;36>r;r++)n[r]||(s=0|16*Math.random(),n[r]=o[19==r?3&s|8:s])}return(t?t:"")+n.join("")}},function(t,e,n){"use strict";function r(t,e){if(!t&&"root"!==t)throw new Error("Contract: every component needs to have a parent.");this.__id__=p++,e=e||{},this.refs={},this.parent=t,this.children=[],this.context=this._getContext(),this._key=e._key,this._htmlProps={classNames:e.classNames||"",attributes:e.attributes||{},style:e.style||{}},this._setProps(e.props),this.initialize&&(console.warn("Component.initialize() has been deprecated. Use Component.didInitialize() instead."),this.initialize()),this.didInitialize(),this._setState(this.getInitialState()),this.actionHandlers={},this._data={attributes:{},style:{},handlers:{},props:{},children:[]}}function o(){this.attributes={},this.style={},this.handlers={},this.props={},this.children=[]}function i(t){o.call(this),this.type="element",this.tagName=t}function s(t){o.call(this),this.type="component",this.ComponentClass=t}var a,c,u,l=n(282),h=n(160),p=0;r.Prototype=function(){this.getChildContext=function(){return this.childContext||{}},this.didInitialize=function(){},this.getInitialState=function(){return{}},this.getParent=function(){return this.parent},this.render=function(){return r.$$("div")},this.shouldRerender=function(t,e){return!h.isEqual(t,this.props)||!h.isEqual(e,this.state)},this.rerender=function(){this._render(this.render())},this.mount=function(t){return this._render(this.render()),t.append(this.$el),c(t[0])&&this.triggerDidMount(),this},this.triggerDidMount=function(){this.didMount(),h.each(this.children,function(t){t.triggerDidMount()})},this.didMount=function(){},this.unmount=function(){return this.triggerWillUnmount(),this.$el.remove(),this},this.isMounted=function(){return this.$el?c(this.$el[0]):!1},this.triggerWillUnmount=function(){h.each(this.children,function(t){t.triggerWillUnmount()}),this.willUnmount()},this.willUnmount=function(){},this.send=function(t){for(var e=this;e;){if(e.actionHandlers[t])return e.actionHandlers[t].apply(e,Array.prototype.slice.call(arguments,1));e=e.getParent()}throw new Error("No component handled action: "+t)},this.actions=function(t){h.each(t,function(t,e){var n=t.bind(this);this.actionHandlers[e]=n},this)},this.setState=function(t){var e=this.shouldRerender(this.getProps(),t);this.willUpdateState(t),this._setState(t),this.didUpdateState(),e&&this.rerender()},this.extendState=function(t){t=h.extend({},this.state,t),this.setState(t)},this.getState=function(){return this.state},this.willUpdateState=function(t){},this.didUpdateState=function(){},this.setProps=function(t){var e=this.shouldRerender(t,this.getState());this.willReceiveProps(t),this._setProps(t),this.didReceiveProps(),e&&this.rerender()},this.getProps=function(){return this.props},this.willReceiveProps=function(t){},this.didReceiveProps=function(){},this.addClass=function(t){return this._data.addClass(t),this.$el&&this.$el.addClass(t),this},this.removeClass=function(t){return this._data.removeClass(t),this.$el&&this.$el.removeClass(t),this},this.toggleClass=function(t){return this._data.toggleClass(t),this.$el&&this.$el.toggleClass(t),this},this.attr=function(){return this._data.attr.apply(this._data,arguments),this.$el&&this.$el.attr.apply(this.$el,arguments),this},this.removeAttr=function(){return this._data.removeAttr.apply(this._data,arguments),this.$el&&this.$el.removeAttr.apply(this.$el,arguments),this},this.css=function(t){return t&&(this._data.css(t),this.$el.css(t)),this},this.append=function(t){var e=this.isMounted(),n=this._compileComponent(t,{refs:this.refs});return this._data.append(t),e&&n.triggerDidMount(),this.$el.append(n.$el),this.children.push(n),this},this.insertAt=function(t,e){var n=this.isMounted(),r=this._compileComponent(e,{refs:this.refs});return this._data.insertAt(t,e),n&&r.triggerDidMount(),r.$el.insertBefore(this.children[t].$el),this.children.splice(t,0,r),this},this.removeAt=function(t){return this._data.removeAt(t),this.children[t].unmount(),this},this.empty=function(){this._data.children=[],this.$el.empty();for(var t=0;t<this.children.length;t++)this.children[t].unmount();return this};var t=function(t){for(var e={},n=0;n<t.length;n++){var r=t[n],o=r._key;o&&(e[o]=r)}return e};this._createElement=function(t,e){var n=$("<"+t.tagName+">");return n.addClass(this._htmlProps.classNames),n.addClass(t.classNames),n.attr(this._htmlProps.attributes),n.attr(t.attributes),n.css(this._htmlProps.style),t.style&&n.css(t.style),h.each(t.handlers,function(t,r){n.on(r,t.bind(e.owner))},this),n},this._updateElement=function(t,e,n){var r=this.$el,o=e.classNames,i=t.classNames;o!==i&&(r.removeClass(o),r.addClass(i));var s=e.attributes,a=t.attributes;if(!h.isEqual(s,a)){var c=Object.keys(s);r.removeAttr(c.join(" ")),r.attr(a)}return h.isEqual(e.style,t.style)||t.style&&r.css(t.style),h.isEqual(e.handlers,t.handlers)||(h.each(e.handlers,function(t,e){r.off(e)}),h.each(t.handlers,function(t,e){r.on(e,t.bind(n.owner))},this)),r},this._render=function(e,n){function o(t,e){t.triggerWillUnmount(),t.$el.replaceWith(e.$el[0])}function i(t,e){t instanceof r.Container?t._render(e):t.setProps(e.props)}if("element"!==e.type){if(e instanceof $)throw new Error("Your render() method accidently return a jQuery instance instead of a VirtualComponent created $$.");throw new Error("Component.render() must return one html element: e.g., $$('div')")}n||(n={owner:this,refs:{}});var s=this._data;if(this.$el?this._updateElement(e,s,n):this.$el=this._createElement(e,n),this._simple_)return void this._renderSimple(e,n);var a=this.$el[0],u=c(a),l=s.children,p=e.children;if(h.isEqual(l,p))return void(this._data=e);for(var d=t(s.children,"old"),f=t(e.children),m=0,g=0,v=0,y=this.children,E=[];g<l.length||v<p.length;){var b=a.childNodes[m],x=l[g],N=p[v],_=null,C=y[g];if(!x){for(var w=v;w<p.length;w++)_=this._compileComponent(p[w],n),u&&_.triggerDidMount(),this.$el.append(_.$el),E.push(_);break}if(!N){for(var O=g;O<l.length;O++)y[O].unmount();break}if(b!==C.$el[0])throw new Error("Assertion failed: DOM structure is not as expected.");var D=N._key,T=x._key;if(T&&D)if(T===D)_=C,i(_,N),m++,g++,v++;else if(!d[D]&&f[T])_=this._compileComponent(N,n),_.$el.insertBefore(b),u&&_.triggerDidMount(),m++,v++;else{if(d[D]||f[T]){if(d[D]&&!f[T]){C.unmount(),g++;continue}throw d[D]&&f[T]?new Error("Swapping positions of persisted components not supported!"):new Error("Assertion failed: should not reach this statement.")}_=this._compileComponent(N,n),o(C,_),u&&_.triggerDidMount(),m++,v++,g++}else if(D){if(d[D]){C.unmount(),g++;continue}_=this._compileComponent(N,n),o(C,_),u&&_.triggerDidMount(),m++,g++,v++}else T?(_=this._compileComponent(N,n),f[T]?_.$el.insertBefore(b):(o(C,_),g++),u&&_.triggerDidMount(),m++,v++):("text"===N.type&&"text"===x.type&&N.props.text===x.props.text?_=C:(_=this._compileComponent(N,n),o(C,_),u&&_.triggerDidMount()),m++,g++,v++);_._key&&(n.refs[_._key]=_),E.push(_)}Object.keys(n.refs).length>0?delete this._simple_:this._simple_=!0,this.children=E,this.refs=h.clone(n.refs),this._data=e},this._renderSimple=function(t,e){for(var n=0;n<this.children.length;n++)this.children[n].unmount();for(var r=c(this.$el[0]),o=[],i=0;i<t.children.length;i++){var s=this._compileComponent(t.children[i],e);r&&s.triggerDidMount(),this.$el.append(s.$el),o.push(s)}Object.keys(e.refs).length>0?delete this._simple_:this._simple_=!0,this.refs=e.refs,this.children=o,this._data=t},this._compileComponent=function(t,e){var n;switch(t.type){case"text":n=new r.Text(this,t.props.text),n._render();break;case"element":n=new r.HtmlElement(this,t.tagName,t),n._render(t,e);break;case"component":n=new t.ComponentClass(this,t),n._render(n.render());break;default:throw new Error("Illegal state.")}return t._key&&(e.refs[t._key]=n),n},this._getContext=function(){var t=this.getParent(),e=t.context||{};return t.getChildContext?h.extend(e,t.getChildContext()):e},this._setProps=function(t){this.props=t||{},Object.freeze(this.props)},this._setState=function(t){this.state=t||{},Object.freeze(this.state)}},l.initClass(r),r.Root=function(t){r.call(this,"root",t)},l.inherit(r.Root,r),r.Container=function(t,e){r.call(this,t,e)},r.Container.Prototype=function(){},l.inherit(r.Container,r),r.HtmlElement=function(t,e,n){this.tagName=e,r.Container.call(this,t,n)},l.inherit(r.HtmlElement,r.Container),r.Text=function(t,e){r.call(this,t),this.text=e},r.Text.Prototype=function(){this._render=function(){if(this.$el)this.$el[0].textContent=this.text;else{var t=document.createTextNode(this.text);this.$el=$(t)}}},l.inherit(r.Text,r),o.Prototype=function(){this.key=function(t){return this._key=t,this},this.append=function(){var t,e=this._getChildren();if(1===arguments.length){var n=arguments[0];if(!n)return this;h.isArray(n)?(t=n,r.$$.prepareChildren(t),Array.prototype.push.apply(e,t)):h.isString(n)?e.push(new u(n)):e.push(n)}else t=Array.prototype.slice.call(arguments,0),r.$$.prepareChildren(t),Array.prototype.push.apply(e,t);return this},this._getChildren=function(){return this.children},this.insertAt=function(t,e){return this.children.splice(t,0,e),this},this.removeAt=function(t){return this.children.splice(t,1),this},this.addClass=function(t){return this.classNames||(this.classNames=""),this.classNames+=" "+t,this},this.removeClass=function(t){var e=this.classNames.split(/\s+/);return e=h.without(e,t),this.classNames=e.join(" "),this},this.toggleClass=function(t){var e=this.classNames.split(/\s+/);return e.indexOf(t)>=0?e=h.without(e,t):e.push(t),this.classNames=e.join(" "),this},this.addProps=function(t){return h.extend(this.props,t),this},this.attr=function(t){return 2===arguments.length?this.attributes[arguments[0]]=arguments[1]:h.extend(this.attributes,t),this},this.removeAttr=function(t){return h.isString(t)?delete this.attributes[t]:this.attributes=h.omit(this.attributes,t),this},this.on=function(t,e){if(2!==arguments.length||!h.isString(t)||!h.isFunction(e))throw new Error("Illegal arguments for $$.on(event, handler).");return this.handlers[t]=e,this},this.css=function(t){return this.style||(this.style={}),h.extend(this.style,t),this}},l.initClass(o),l.inherit(i,o),s.Prototype=function(){this._getChildren=function(){return this.props.children||(this.props.children=[]),this.props.children}},l.inherit(s,o),u=function(t){o.call(this),this.type="text",this.props={text:t}},r.$$=function(){var t=null;if(h.isString(arguments[0])){if(1!==arguments.length)throw new Error("Illegal usage of Component.$$.");t=new i(arguments[0])}else{if(!(h.isFunction(arguments[0])&&arguments[0].prototype instanceof r))throw new Error("Illegal usage of Component.$$.");if(arguments.length<1||arguments.length>2)throw new Error("Illegal usage of Component.$$.");t=new s(arguments[0]),2===arguments.length&&t.addProps(arguments[1])}return t},r.$$.prepareChildren=function(t){for(var e=0;e<t.length;e++)h.isString(t[e])&&(t[e]=new u(t[e]))},a=function(t){return 9===t.nodeType},c=function(t){for(;t;){if(a(t))return!0;t=t.parentNode}return!1},r.mount=function(t,e){var n,o={context:null,refs:{}};switch(t.type){case"text":n=new r.Text("root",t.props.text),n._render();break;case"element":n=new r.HtmlElement("root",t.tagName,t),n._render(t,o);break;case"component":n=new t.ComponentClass("root",t),n._render(n.render());break;default:throw new Error("Illegal state.")}return e.append(n.$el),c(e[0])&&n.triggerDidMount(),n},r.VirtualTextNode=u,t.exports=r},function(t,e,n){"use strict";var r=n(160),o={},i=function(t,e){var n=function(){this.__className__=e.displayName||e.name,t.apply(this,arguments),this.init&&this.init.apply(this,arguments)};e.displayName?n.displayName=e.displayName:e.name&&(n.displayName=e.name),o.inherit(n,t);for(var r in e)if(e.hasOwnProperty(r)){if("name"===r)continue;n.prototype[r]=e[r]}return n["static"].name=e.name,n};o.initClass=function(t){!t.Prototype||t.prototype instanceof t.Prototype||(t.prototype=new t.Prototype,t.prototype.constructor=t),t["static"]=t["static"]||{},t.extend=t.extend||r.bind(i,null,t)},o.inherit=function(t,e){if(t.prototype instanceof e)throw new Error("Target already inherits from origin");var n=t.prototype.constructor,s=t.Prototype;t["super"]=e,s?(s.prototype=e.prototype,t.prototype=new s,t.prototype.constructor=t):t.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t.prototype["super"]=e.prototype,o.initClass(e),t["static"]=Object.create(e["static"]),t.extend=r.bind(i,null,t)},o.mixin=function(t,e){var n,r=e.prototype;e.Prototype&&(r=new e.Prototype);for(n in r)"constructor"!==n&&r.hasOwnProperty(n)&&(t.prototype[n]=r[n]);if(o.initClass(t),e["static"])for(n in e["static"])e["static"].hasOwnProperty(n)&&(t["static"][n]=e["static"][n]);else o.initClass(e)},t.exports=o},function(t,e,n){var r=n(284);r.SurfaceManager=n(359),r.SurfaceSelection=n(292),r.FormEditor=n(360),r.ContainerEditor=n(361),r.Clipboard=n(363),r.NodeView=n(364),r.AnnotationView=n(365),r.TextProperty=n(366),r.Tool=n(367),r.AnnotationTool=n(368),r.SwitchTypeTool=n(369),r.ToolRegistry=n(370),r.Panel=n(371),r.Tools=n(372),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,i){if(s.EventEmitter.call(this),!e)throw new Error("Illegal argument: document is required. was "+e);i=i||{},this.__id__=l++,this.name=i.name||this.__id__,this.doc=e,this.surfaceManager=t,this.selection=c.nullSelection,this.element=null,this.$element=null,this.editor=n,this.surfaceSelection=null,this.logger=i.logger||window.console,this.$=$,this.$window=this.$(window),this.$document=this.$(window.document),this.dragging=!1,this._onMouseUp=o.bind(this.onMouseUp,this),this._onMouseDown=o.bind(this.onMouseDown,this),this._onMouseMove=o.bind(this.onMouseMove,this),this._onKeyDown=o.bind(this.onKeyDown,this),this._onTextInput=o.bind(this.onTextInput,this),this._onTextInputShim=o.bind(this.onTextInputShim,this),this._onCompositionStart=o.bind(this.onCompositionStart,this),this._onDomMutations=o.bind(this.onDomMutations,this),this.domObserver=new window.MutationObserver(this._onDomMutations),this.domObserverConfig={subtree:!0,characterData:!0},this.skipNextObservation=!1,this.enabled=!0,this.frozen=!1,this.$caret=$("<span>").addClass("surface-caret"),this.isIE=r.detectIE(),this.isFF=window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,this.undoEnabled=!0,null!=i.undoEnabled&&(this.undoEnabled=i.undoEnabled),null!=i.contentEditable?this.enableContentEditable=i.contentEditable:this.enableContentEditable=!0,this.surfaceManager.registerSurface(this)}var o=n(160),i=n(282),s=n(285),a=n(292),c=n(293),u=c.Selection,l=0;r.Prototype=function(){this.getName=function(){return this.name},this.getElement=function(){return this.element},this.getContainerName=function(){return this.editor.isContainerEditor()?this.editor.getContainerId():void 0},this.getContainer=function(){return this.editor.isContainerEditor()?this.doc.get(this.editor.getContainerId()):void 0},this.getEditor=function(){return this.editor},this.getDocument=function(){return this.doc},this.dispose=function(){this.setSelection(null),this.detach(),this.surfaceManager.unregisterSurface(this)},this.attach=function(t){if(!t)throw new Error("Illegal argument: Surface element is required. was "+t);var e=this.getDocument();this.element=t,this.$element=$(t),this.surfaceSelection=new a(t,e,this.getContainer()),this.$element.addClass("surface"),this.attachKeyboard(),this.$element.on("mousedown",this._onMouseDown),this.$element.on("dragstart",this.onDragStart),this.domObserver.observe(t,this.domObserverConfig),this.attached=!0},this.attachKeyboard=function(){this.$element.on("keydown",this._onKeyDown),this.element.addEventListener&&this.element.addEventListener("compositionstart",this._onCompositionStart,!1),window.TextEvent&&!this.isIE?this.element.addEventListener("textInput",this._onTextInput,!1):this.$element.on("keypress",this._onTextInputShim)},this.detach=function(){var t=this.getDocument();this.domObserver.disconnect(),t.disconnect(this),this.$element.off("mousedown",this._onMouseDown),this.$element.off("dragstart",this.onDragStart),this.detachKeyboard(),this.$element.removeClass("surface"),this.element=null,this.$element=null,this.surfaceSelection=null,this.attached=!1},this.detachKeyboard=function(){this.$element.off("keydown",this._onKeyDown),this.element.addEventListener&&this.element.removeEventListener("compositionstart",this._onCompositionStart,!1),window.TextEvent&&!this.isIE?this.element.removeEventListener("textInput",this._onTextInput,!1):this.$element.off("keypress",this._onTextInputShim)},this.isAttached=function(){return this.attached},this.enable=function(){this.enableContentEditable&&this.$element.prop("contentEditable","true"),this.enabled=!0},this.isEnabled=function(){return this.enabled},this.disable=function(){this.enableContentEditable&&this.$element.removeAttr("contentEditable"),this.enabled=!1},this.freeze=function(){console.log("Freezing surface..."),this.enableContentEditable&&this.$element.removeAttr("contentEditable"),this.$element.addClass("frozen"),this.domObserver.disconnect(),this.frozen=!0},this.unfreeze=function(){this.frozen&&(console.log("Unfreezing surface..."),this.enableContentEditable&&this.$element.prop("contentEditable","true"),this.$element.removeClass("frozen"),this.domObserver.observe(this.element,this.domObserverConfig),this.frozen=!1)},this.onKeyDown=function(t){if(!this.frozen&&229!==t.which){switch(t.keyCode){case r.Keys.LEFT:case r.Keys.RIGHT:return this.handleLeftOrRightArrowKey(t);case r.Keys.UP:case r.Keys.DOWN:return this.handleUpOrDownArrowKey(t);case r.Keys.ENTER:return this.handleEnterKey(t);case r.Keys.SPACE:return this.handleSpaceKey(t);case r.Keys.BACKSPACE:case r.Keys.DELETE:return this.handleDeleteKey(t)}var e=!1;if((t.ctrlKey||t.metaKey)&&65===t.keyCode){var n=this.editor.selectAll(this.getDocument(),this.getSelection());this.setSelection(n),this.surfaceSelection.setSelection(n),this.emit("selection:changed",n,this),e=!0}else this.undoEnabled&&90===t.keyCode&&(t.metaKey||t.ctrlKey)&&(t.shiftKey?this.redo():this.undo(),e=!0);e&&(t.preventDefault(),t.stopPropagation())}},this.undo=function(){var t=this.getDocument();t.done.length>0&&t.undo()},this.redo=function(){var t=this.getDocument();t.undone.length>0&&t.redo()},this.transaction=function(t,e){var n={surfaceId:this.getName(),selection:this.getSelection()};if(!o.isFunction(arguments[0])&&arguments.length>=2){var r=arguments[0];n=o.extend(n,r),t=arguments[1],e=arguments[2]}var i;this.getDocument().transaction(n,function(r){var o=t.call(e,r,{selection:n.selection});return i=o||{},i.selection||(i.selection=n.selection),i.surfaceId=n.surfaceId,i}),this.setSelection(i.selection)},this.onTextInput=function(t){this.frozen||t.data&&(t.preventDefault(),t.stopPropagation(),this.skipNextObservation=!0,this.transaction(function(e,n){return this.surfaceSelection.clear(),this.editor.insertText(e,{selection:n.selection,text:t.data})},this),this.rerenderDomSelection())},this.onCompositionStart=function(){this.skipNextObservation=!0},this.onTextInputShim=function(t){if(!this.frozen&&!(0===t.which||0===t.charCode||t.keyCode===r.Keys.TAB||t.keyCode===r.Keys.ESCAPE||t.metaKey||!!t.ctrlKey^!!t.altKey)){var e=String.fromCharCode(t.which);return this.skipNextObservation=!0,t.shiftKey||(e=e.toLowerCase()),e.length>0?(this.transaction(function(t,n){return this.surfaceSelection.clear(),this.editor.insertText(t,{selection:n.selection,text:e})},this),this.rerenderDomSelection(),t.preventDefault(),void t.stopPropagation()):(t.preventDefault(),void t.stopPropagation())}},this.handleLeftOrRightArrowKey=function(t){var e=this;window.setTimeout(function(){var n={direction:t.keyCode===r.Keys.LEFT?"left":"right"};e._updateModelSelection(n)})},this.handleUpOrDownArrowKey=function(t){var e=this;window.setTimeout(function(){var n={direction:t.keyCode===r.Keys.UP?"left":"right"};e._updateModelSelection(n)})},this.handleSpaceKey=function(t){t.preventDefault(),t.stopPropagation(),this.transaction(function(t,e){return this.surfaceSelection.clear(),this.editor.insertText(t,{selection:e.selection,text:" "})},this),this.rerenderDomSelection()},this.handleEnterKey=function(t){t.preventDefault(),t.shiftKey?this.transaction(function(t,e){return this.editor.softBreak(t,e)},this):this.transaction(function(t,e){return this.editor["break"](t,e)},this),this.rerenderDomSelection()},this.handleDeleteKey=function(t){t.preventDefault();var e=t.keyCode===r.Keys.BACKSPACE?"left":"right";this.transaction(function(t,n){return this.editor["delete"](t,{selection:n.selection,direction:e})},this),this.rerenderDomSelection()},this.onMouseDown=function(t){this.frozen&&this.unfreeze(),1===t.which&&(this.dragging=!0,this.$document.one("mouseup",this._onMouseUp))},this.onMouseUp=function(){this.dragging=!1,this.setFocused(!0);var t=this;setTimeout(function(){if(t.surfaceSelection){var e=t.surfaceSelection.getSelection();t.setSelection(e)}})},this.setFocused=function(t){this.isFocused=t,this.isFocused&&this.surfaceManager.didFocus(this)},this.onMouseMove=function(){this.dragging},this.onDomMutations=function(){return this.skipNextObservation?void(this.skipNextObservation=!1):void console.info("We want to enable a DOM MutationObserver which catches all changes made by native interfaces (such as spell corrections, etc). Lookout for this message and try to set Surface.skipNextObservation=true when you know that you will mutate the DOM.")},this.onDragStart=function(t){t.preventDefault(),t.stopPropagation()},this.getSelection=function(){return this.selection},this.setSelection=function(t){t?!o.isObject(t)||t instanceof u||(t=this.getDocument().createSelection(t)):t=u.nullSelection,this._setModelSelection(t)&&this.rerenderDomSelection()},this.rerenderDomSelection=function(){if(this.surfaceSelection){var t=this.surfaceSelection,e=this.getSelection();t.setSelection(e)}},this.getDomNodeForId=function(t){return this.element.querySelector("*[data-id="+t+"]")},this._updateModelSelection=function(t){this._setModelSelection(this.surfaceSelection.getSelection(t))},this._setModelSelection=function(t){return t=t||s.Document.nullSelection,this.selection=t,this.emit("selection:changed",t,this),!0},this.getLogger=function(){return this.logger},this.placeCaretElement=function(){var t=this.getSelection();if(t.isNull())throw new Error("Selection is null.");var e=this.$caret;e.empty().remove();var n=this.surfaceSelection._findDomPosition(t.start.path,t.start.offset);if(n.node.nodeType===window.Node.TEXT_NODE){var r=n.node;if(r.length===n.offset)e.insertAfter(r);else{var o=window.getSelection(),i=window.document.createRange(),s=r.textContent,a=window.document.createDocumentFragment(),c=window.document.createTextNode(s.substring(0,n.offset));a.appendChild(c),a.appendChild(e[0]),a.appendChild(document.createTextNode(s.substring(n.offset))),$(r).replaceWith(a),i.setStart(c,n.offset),o.removeAllRanges(),o.addRange(i)}}else n.node.appendChild(e[0]);return e},this.removeCaretElement=function(){this.$caret.remove()},this.updateCaretElement=function(){this.$caret.remove(),this.placeCaretElement()},this.getAnnotationsForProperty=function(t){var e=this.getDocument(),n=e.getIndex("annotations").get(t),r=this.getContainerName();if(r){var o=e.getIndex("container-annotation-anchors").get(t,r);n=n.concat(o);var i=e.containerAnnotationIndex.getFragments(t,r);n=n.concat(i)}return n}},i.inherit(r,s.EventEmitter),r.Keys={UNDEFINED:0,BACKSPACE:8,DELETE:46,LEFT:37,RIGHT:39,UP:38,DOWN:40,ENTER:13,END:35,HOME:36,TAB:9,PAGEUP:33,PAGEDOWN:34,ESCAPE:27,SHIFT:16,SPACE:32},r.detectIE=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("Trident/");if(n>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var o=t.indexOf("Edge/");return o>0?parseInt(t.substring(o+5,t.indexOf(".",o)),10):!1},t.exports=r},function(t,e,n){"use strict";var r=n(160),o={};r.extend(o,n(160)),r.extend(o,n(282)),o.OO=n(282),o.PathAdapter=n(286),o.EventEmitter=n(287),o.Error=n(288),o.Registry=n(289),o.Factory=n(290),r.extend(o,n(291)),t.exports=o},function(t,e,n){"use strict";function r(t){t&&(this.root=t)}var o=n(160),i=n(282);r.Prototype=function(){this.childrenScope=!1,this.getRoot=function(){return this.root||this},this._resolve=function(t,e){for(var n=t.length-1,r=this.getRoot(),o=0;n>o;o++){var i=t[o];if(void 0===r[i]){if(!e)return void 0;r[i]={},this.childrenScope&&(r[i].children={})}r=r[i],this.childrenScope&&(r=r.children)}return r},this.get=function(t){if(o.isString(t))return this[t];if(t&&0!==t.length){var e=t[t.length-1],n=this._resolve(t);return n?n[e]:void 0}return this.getRoot()},this.set=function(t,e){if(o.isString(t))this[t]=e;else{var n=t[t.length-1];this._resolve(t,!0)[n]=e}},this["delete"]=function(t,e){if(o.isString(t))delete this[t];else{var n=t[t.length-1],r=this._resolve(t);if(e&&!r||!r[n])throw new Error("Invalid path.");delete r[n]}},this.clear=function(){var t=this.getRoot();for(var e in t)t.hasOwnProperty(e)&&delete t[e]},this._traverse=function(t,e,n,r){for(var o in t)if(t.hasOwnProperty(o)&&"__values__"!==o){var i=e.concat([o]);n.call(r,i,t[o]),this._traverse(t[o],i,n,r)}},this.traverse=function(t,e){this._traverse(this.getRoot(),[],t,e)}},i.initClass(r),r.Arrays=function(){r.apply(this,arguments)},r.Arrays.Prototype=function(){this.get=function(t){if(o.isString(t))return this[t];if(t&&0!==t.length){var e=t[t.length-1],n=this._resolve(t);return n&&n[e]?n[e].__values__:void 0}return this.getRoot()},this.add=function(t,e){var n=t[t.length-1],r=this._resolve(t,!0);r[n]||(r[n]={__values__:[]});var o=r[n].__values__;o.push(e)},this.remove=function(t,e){var n=this.get(t);n?o.deleteFromArray(n,e):console.warn("Warning: trying to remove a value for an unknown path.",t,e)},this.removeAll=function(t){var e=this.get(t);e.splice(0,e.length)},this.set=function(){throw new Error("This method is not available for PathAdapter.Arrays")},this._traverse=function(t,e,n,r){for(var o in t)if(t.hasOwnProperty(o))if("__values__"===o)n.call(r,e,t.__values__);else{var i=e.concat([o]);this._traverse(t[o],i,n,r)}}},i.inherit(r.Arrays,r),t.exports=r},function(t,e,n){"use strict";function r(){this.__events__={}}var o=n(282);r.Prototype=function(){function t(t,e){if("string"==typeof t){if(void 0===e||null===e)throw new Error('Method name "'+t+'" has no context.');if(!(t in e))throw new Error('Method not found: "'+t+'"');if("function"!=typeof e[t])throw new Error('Property "'+t+'" is not a function')}else if("function"!=typeof t)throw new Error("Invalid callback. Function or method name expected.")}function e(t,e){return e.priority-t.priority}this._on=function(e,n,r,o){var i;return t(n,r),i=this.__events__.hasOwnProperty(e)?this.__events__[e]:this.__events__[e]=[],i.push({method:n,context:r||null,priority:o}),this},this._off=function(e,n,r){var o,i;if(1===arguments.length)return delete this.__events__[e],this;if(t(n,r),!(e in this.__events__&&this.__events__[e].length))return this;for(arguments.length<3&&(r=null),i=this.__events__[e],o=i.length;o--;)i[o].method===n&&i[o].context===r&&i.splice(o,1);return 0===i.length&&delete this.__events__[e],this},this._connect=function(t,n,r){var o=0;3===arguments.length&&(o=r.priority||o);for(var i in n){var s=n[i];this._on(i,s,t,o)}return this.__events__[i].sort(e),this},this._disconnect=function(t){var e,n,r;for(n in this.__events__)for(r=this.__events__[n],e=r.length;e--;)r[e]&&r[e].context===t&&this._off(n,r[e].method,t);return this},this.emit=function(t){if(t in this.__events__){for(var e=this.__events__[t].slice(),n=Array.prototype.slice.call(arguments,1),r=0,o=e.length;o>r;r++){var i=e[r];i.method.apply(i.context,n)}return!0}return!1},this.connect=function(t,e,n){return this._connect.apply(this,arguments)},this.disconnect=function(t){return this._disconnect(t)},this.on=function(t,n,r,o){var i=0;4===arguments.length&&(i=o.priority||i),this._on(t,n,r,i),this.__events__[t].sort(e)},this.off=function(t,e,n){return this._off.apply(this,arguments)}},o.initClass(r),t.exports=r},function(t,e,n){"use strict";function r(){Error.apply(this,arguments)}var o=n(282);o.inherit(r,Error),t.exports=r},function(t,e,n){"use strict";function r(){this.entries={},this.names=[]}var o=n(282);r.Prototype=function(){this.contains=function(t){return!!this.entries[t]},this.add=function(t,e){this.contains(t)&&this.remove(t),this.entries[t]=e,this.names.push(t)},this.remove=function(t){var e=this.names.indexOf(t);e>=0&&this.names.splice(e,1),delete this.entries[t]},this.clear=function(){this.names=[],this.entries=[]},this.get=function(t){var e=this.entries[t];return e||console.error("No entry with name",t),e},this.each=function(t,e){for(var n=0;n<this.names.length;n++){var r=this.names[n],o=t.call(e,this.entries[r],r);if(o===!1)break}}},o.initClass(r),t.exports=r},function(t,e,n){"use strict";function r(){r["super"].call(this)}var o=n(282),i=n(289);r.Prototype=function(){this.create=function(t){var e=this.get(t);if(!e)throw new Error("No class registered by that name: "+t);var n=Array.prototype.slice.call(arguments,1),r=Object.create(e.prototype);return e.apply(r,n),r}},o.inherit(r,i),t.exports=r},function(t,e){"use strict";var n=Date.now();t.exports={tic:function(){n=Date.now()},toc:function(){return Date.now()-n}}},function(t,e,n){function r(t,e,n){this.element=t,this.doc=e,this.container=n,this.state=new r.State}var o=n(282),i=n(293),s=n(160),a=i.Range,c=i.Coordinate;r.Prototype=function(){function t(t,e){var n=t.compareDocumentPosition(e);return n&window.document.DOCUMENT_POSITION_FOLLOWING?-1:n&window.document.DOCUMENT_POSITION_PRECEDING?1:0}this._pullState=function(e,n,o,i,s,a){if(a=a||{},!o||!e)return void(this.state=null);var c,u;s?(c=this.getModelCoordinate(e,n,a),u=c):(c=this.getModelCoordinate(e,n,a),u=this.getModelCoordinate(o,i,a));var l=!1;if(!s&&o&&e){var h=t(u.el,c.el);l=0>h||0===h&&u.offset<c.offset}if(l){var p=u;u=c,c=p}this.state=new r.State(s,l,c,u)},this.getModelCoordinate=function(t,e,n){for(var o=t,i=null;o;){if(o.dataset&&o.dataset.path){i=o;break}if($(o).is(".content-node")&&0===e){var s=$(o).find("[data-path]");if(s.length)return new r.Coordinate(s[0],0)}o=o.parentNode}if(!i)return this.searchForCoordinate(t,e,n);var a=this._computeCharPosition(i,t,e);return new r.Coordinate(i,a)},this._computeCharPosition=function(t,e,n){function r(t){if(e===t)return i+=n,!0;if(t.nodeType===window.Node.TEXT_NODE)i+=t.textContent.length;else if(t.nodeType===window.Node.ELEMENT_NODE){if($(t).data("external"))return i+=1,!1;for(var o=t.firstChild;o;o=o.nextSibling)if(r(o))return!0}return!1}function o(t){var e=t.nodeType;if(e===window.Node.TEXT_NODE)return t.textContent.length;if(e===window.Node.ELEMENT_NODE){if($(t).data("external"))return 1;for(var n=0,r=t.firstChild;r;r=r.nextSibling)n+=o(r);return n}return 0}var i=0,s=!1;if(e===t){for(var a=t.firstChild,c=0;n>c&&a;c++)i+=o(a),a=a.nextSibling;s=!0}else s=r(t);return s?i:(console.error("Could not find char position."),0)},this.searchForCoordinate=function(e,n,o){var i,s,a,c,u,l=this.element.querySelectorAll("*[data-path]");for(s=0,a=l.length-1,c=t(l[s],e),u=t(l[a],e);;){var h=a-s+1;if(0>u){i=a;break}if(c>0){i=s;break}if(2>=h){i=a;break}var p=s+Math.floor(h/2),d=t(l[p],e);0>d?(s=p,c=d):(a=p,u=d)}var f;return"left"===o.direction?(i=Math.max(0,i-1),f=l[i].textContent.length):f=0>u?l[i].textContent.length:0,new r.Coordinate(l[i],f)},this._getSelection=function(t,e,n,r,o){if(this._pullState(t,e,n,r,o),!this.state)return i.nullSelection;var u,l,h,p,d,f,m,g,v=this.doc,y=this.state.start,E=this.state.end,b=new a(new c(y.path,y.offset),new c(E.path,E.offset));return s.isEqual(y.path,E.path)?v.createSelection({type:"property",path:y.path,startOffset:y.offset,endOffset:E.offset,reverse:this.state.reverse
}):(u=v.get(y.path[0]),l=v.get(E.path[0]),h=u.getRoot(),p=l.getRoot(),"table"===h.type&&h.id===p.id?(h.getMatrix(),d=u.rowIdx,f=u.colIdx,m=l.rowIdx,g=l.colIdx,v.createSelection({type:"table",tableId:h.id,startRow:d,startCol:f,endRow:m,endCol:g})):v.createSelection({type:"container",containerId:this.container.id,startPath:b.start.path,startOffset:b.start.offset,endPath:b.end.path,endOffset:b.end.offset,reverse:this.state.reverse}))},this.getSelection=function(){var t=window.getSelection(),e=this._getSelection(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset,t.collapsed);return e};var e=function(t,n){if(t.nodeType===document.TEXT_NODE){var r=t.textContent.length;return n>r?{node:null,offset:n-r}:{node:t,offset:n,boundary:r===n}}if(t.nodeType===document.ELEMENT_NODE){if($(t).data("external"))return{node:null,offset:n-1};if(!t.firstChild&&0===n)return{node:t,offset:0};for(var o=t.firstChild;o;o=o.nextSibling){var i=e(o,n);if(i.node)return i;n=i.offset}}return{node:null,offset:n}};this._getDomPosition=function(t,n){var r='*[data-path="'+t.join(".")+'"]',o=this.element.querySelector(r);if(!o)return console.warn("Could not find DOM element for path",t),null;var i=e(o,n);return i.node?i:null},this.setSelection=function(t){var e=window.getSelection();if(t.isNull()||t.isTableSelection())return this.clear();var n=t.getRange(),o=this._getDomPosition(n.start.path,n.start.offset);if(!o)return this.clear();var i;return(i=n.isCollapsed()?o:this._getDomPosition(n.end.path,n.end.offset))?(e.removeAllRanges(),n=window.document.createRange(),t.isReverse()?(n.setStart(i.node,i.offset),e.addRange(n),e.extend(o.node,o.offset)):(n.setStart(o.node,o.offset),n.setEnd(i.node,i.offset),e.addRange(n)),void(this.state=new r.State(t.isCollapsed(),t.isReverse(),n.start,n.end))):this.clear()},this.clear=function(){var t=window.getSelection();t.removeAllRanges(),this.state=null}},o.initClass(r),r.State=function(t,e,n,r){this.collapsed=t,this.reverse=e,this.start=n,this.end=r,Object.freeze(this)},r.Coordinate=function(t,e){this.el=t,this.offset=e,this.path=t.dataset.path.split(".")},t.exports=r},function(t,e,n){"use strict";var r=n(294);r.Schema=n(331),r.Node=n(317),r.Annotation=n(316),r.Container=n(332),r.ContainerAnnotation=n(319),r.TextNode=n(333),r.Coordinate=n(311),r.Range=n(312),r.Selection=n(309),r.nullSelection=r.Selection.nullSelection,r.PropertySelection=n(310),r.ContainerSelection=n(313),r.TableSelection=n(314),r.Annotator=n(330),r.AnnotationUpdates=n(327),r.HtmlImporter=n(325),r.HtmlExporter=n(329),r.ClipboardImporter=n(324),r.ClipboardExporter=n(328),r.Include=n(334),r.Paragraph=n(335),r.Codeblock=n(336),r.Blockquote=n(337),r.Heading=n(338),r.Emphasis=n(339),r.Strong=n(340),r.Link=n(341),r.Table=n(342),r.TableSection=n(344),r.TableRow=n(345),r.TableCell=n(346),r.List=n(347),r.ListItem=n(348),r.Transformations=n(349),t.exports=r},function(t,e,n){"use strict";function r(t){a.call(this,t),this.__id__=g++,this.nodeIndex=this.addIndex("type",s.Index.create({property:"type"})),this.annotationIndex=this.addIndex("annotations",new c),this.anchorIndex=this.addIndex("container-annotation-anchors",new u),this.containerAnnotationIndex=new l(this),this.done=[],this.undone=[],this.eventProxies={path:new d(this)},this.initialize(),this.stage=new h(this),this.isTransacting=!1,this.FORCE_TRANSACTIONS=!1,this.connect(this,{"document:changed":this.updateEventProxies})}var o=n(160),i=n(285),s=n(295),a=n(308),c=n(315),u=n(318),l=n(320),h=n(321),p=n(322),d=n(323),f=n(324),m=n(328),g=0;r.Prototype=function(){this.isTransaction=function(){return!1},this.newInstance=function(){var t=this.constructor;return new t(this.schema)},this.fromSnapshot=function(t){var e=this.newInstance();return e.loadSeed(t),e},this.documentDidLoad=function(){this.stage.reset(),this.containerAnnotationIndex.reset(),this.done=[],this.FORCE_TRANSACTIONS=!0},this.clear=function(){var t=this;this.transaction(function(e){o.each(t.data.nodes,function(t){e["delete"](t)})}),this.documentDidLoad()},this.getEventProxy=function(t){return this.eventProxies[t]},this.transaction=function(t,e,n){if(1===arguments.length&&(n=arguments[0],e={},t={}),2===arguments.length?(n=arguments[1],e={}):e=e||{},!o.isFunction(n))throw new Error("Document.transaction() requires a transformation function.");var r=this.startTransaction(o.clone(t));try{var i=n(r),s={};for(var a in t)i[a]?s[a]=i[a]:s[a]=t[a];this.isTransacting&&r.save(s,e)}finally{r.finish()}},this.startTransaction=function(t){if(this.isTransacting)throw new Error("Nested transactions are not supported.");return this.isTransacting=!0,this.stage.before=t||{},this.emit("transaction:started",this.stage),this.stage},this.create=function(t){if(this.FORCE_TRANSACTIONS)throw new Error("Use a transaction!");return this.isTransacting?this.stage.create(t):(this.stage&&this.stage.create(t),this._create(t)),this.data.get(t.id)},this["delete"]=function(t){if(this.FORCE_TRANSACTIONS)throw new Error("Use a transaction!");this.isTransacting?this.stage["delete"](t):(this.stage&&this.stage["delete"](t),this._delete(t))},this.set=function(t,e){if(this.FORCE_TRANSACTIONS)throw new Error("Use a transaction!");this.isTransacting?this.stage.set(t,e):(this.stage&&this.stage.set(t,e),this._set(t,e))},this.update=function(t,e){if(this.FORCE_TRANSACTIONS)throw new Error("Use a transaction!");this.isTransacting?this.stage.update(t,e):(this._update(t,e),this.stage&&this.stage.update(t,e))},this.undo=function(){var t=this.done.pop();if(t){var e=t.invert();this._apply(e),this.undone.push(e),this._notifyChangeListeners(e,{replay:!0})}else console.error("No change can be undone.")},this.redo=function(){var t=this.undone.pop();if(t){var e=t.invert();this._apply(e),this.done.push(e),this._notifyChangeListeners(e,{replay:!0})}else console.error("No change can be redone.")},this.getAnnotationsForSelection=function(t,e){e=e||{};var n,r,i,s;return t.isPropertySelection()?(r=t.getPath(),i=t.getStartOffset(),s=t.getEndOffset(),n=this.annotationIndex.get(r,i,s),e.type&&(n=o.filter(n,c.filterByType(e.type))),n):[]},this.getContainerAnnotationsForSelection=function(t,e,n){if(!e)return[];var r;return r=n.type?this.getIndex("type").get(n.type):this.getIndex("container-annotation-anchors").byId,r=o.filter(r,function(e){var n=e.getSelection();return t.overlaps(n)})},this.getDocumentMeta=function(){return this.get("document")},this.getClipboardImporter=function(){return new f({schema:this.getSchema()})},this.getClipboardExporter=function(){return new m},this._setAutoAttach=function(t){r["super"].prototype._setAutoAttach.call(this,t),this.stage._setAutoAttach(t)},this._saveTransaction=function(t,e,n){if(!this.isTransacting)throw new Error("Not in a transaction.");this.isTransacting=!1;var r=this.stage.getOperations();if(r.length>0){var o=new p(r,t,e);this._apply(o,"skipStage"),this.done.push(o),this.undone=[],this._notifyChangeListeners(o,n)}},this._cancelTransaction=function(){if(!this.isTransacting)throw new Error("Not in a transaction.");this.isTransacting=!1},this._apply=function(t,e){if(this.isTransacting)throw new Error("Can not replay a document change during transaction.");"skipStage"!==e&&this.stage.apply(t),o.each(t.ops,function(t){this.data.apply(t),this._updateContainers(t),this.emit("operation:applied",t)},this)},this._notifyChangeListeners=function(t,e){e=e||{},this.containerAnnotationIndex.onDocumentChange(t),this.emit("document:changed",t,e,this)},this.updateEventProxies=function(t,e){o.each(this.eventProxies,function(n){n.onDocumentChanged(t,e,this)},this)}},i.inherit(r,a),Object.defineProperty(r.prototype,"id",{get:function(){return this.getDocumentMeta().guid},set:function(){throw new Error("Id is an immutable property.")}}),t.exports=r},function(t,e,n){"use strict";var r=n(296);r.Incremental=n(297),r.Node=n(304),r.Schema=n(305),r.Index=n(307),t.exports=r},function(t,e,n){"use strict";function r(t,e){a.call(this),this.schema=t,this.nodes=new s,this.indexes={},e=e||{},this.didCreateNode=e.didCreateNode||function(){},this.didDeleteNode=e.didDeleteNode||function(){}}var o=n(160),i=n(285),s=i.PathAdapter,a=i.EventEmitter;r.Prototype=function(){this.get=function(t){if(!t)throw new Error("Path or id required");return this.nodes.get(t)},this.getNodes=function(){return this.nodes},this.create=function(t){var e=this.schema.getNodeFactory().create(t.type,t);if(!e)throw new Error("Illegal argument: could not create node for data:",t);if(this.contains(e.id))throw new Error("Node already exists: "+e.id);if(!e.id||!e.type)throw new Error("Node id and type are mandatory.");return this.nodes[e.id]=e,o.each(this.indexes,function(t){t.select(e)&&t.create(e)}),this.didCreateNode(e),e},this["delete"]=function(t){var e=this.nodes[t];return delete this.nodes[t],this.didDeleteNode(e),o.each(this.indexes,function(t){t.select(e)&&t["delete"](e)}),e},this.set=function(t,e){var n=this.get(t[0]),r=this.nodes.get(t);return this.nodes.set(t,e),o.each(this.indexes,function(o){o.select(n)&&o.update(n,t,e,r)}),r},this.update=function(t,e){var n,r=this.nodes.get(t);if(e.isOperation)n=e.apply(r);else{var i,s,a,c;if(o.isString(r))if(e["delete"])i=e["delete"].start,s=e["delete"].end,n=r.split("").splice(i,s-i).join("");else{if(!e.insert)throw new Error("Diff is not supported:",JSON.stringify(e));a=e.insert.offset,c=e.insert.value,n=[r.substring(0,a),c,r.substring(a)].join("")}else{if(!o.isArray(r))throw new Error("Diff is not supported:",JSON.stringify(e));if(n=r.slice(0),e["delete"])a=e["delete"].offset,n.splice(a,1);else{if(!e.insert)throw new Error("Diff is not supported:",JSON.stringify(e));a=e.insert.offset,c=e.insert.value,n.splice(a,0,c)}}}this.nodes.set(t,n);var u=this.get(t[0]);return o.each(this.indexes,function(e){e.select(u)&&e.update(u,t,r,n)}),r},this.toJSON=function(){return{schema:[this.schema.id,this.schema.version],nodes:o.deepclone(this.nodes)}},this.contains=function(t){return!!this.nodes[t]},this.reset=function(){this.nodes=new s},this.addIndex=function(t,e){return this.indexes[t]&&console.error("Index with name %s already exists.",t),e.reset(this),this.indexes[t]=e,e},this.getIndex=function(t){return this.indexes[t]}},i.inherit(r,a),t.exports=r},function(t,e,n){"use strict";var r=n(282),o=n(160),i=n(296),s=n(298),a=s.ObjectOperation,c=s.ArrayOperation,u=s.TextOperation,l=function(t,e){l["super"].call(this,t,e)};l.Prototype=function(){this.create=function(t){var e=a.Create([t.id],t);return this.apply(e),e},this["delete"]=function(t){var e=null,n=this.get(t);if(n){var r=n.toJSON();e=a.Delete([t],r),this.apply(e)}return e},this.update=function(t,e){var n=this._getDiffOp(t,e),r=a.Update(t,n);return this.apply(r),r},this.set=function(t,e){var n=this.get(t),r=a.Set(t,n,e);return this.apply(r),r},this.apply=function(t){if(t.type!==a.NOP){if(t.type===a.CREATE)this["super"].create.call(this,o.deepclone(t.val));else if(t.type===a.DELETE)this["super"]["delete"].call(this,t.val.id);else if(t.type===a.UPDATE){var e=this.get(t.path),n=t.diff;if("array"===t.propertyType)n instanceof c||(n=c.fromJSON(n)),n.apply(e);else{if("string"!==t.propertyType)throw new Error("Unsupported type for operational update.");n instanceof u||(n=u.fromJSON(n));var r=n.apply(e);this["super"].set.call(this,t.path,r)}}else{if(t.type!==a.SET)throw new Error("Illegal state.");this["super"].set.call(this,t.path,t.val)}this.emit("operation:applied",t,this)}},this._getDiffOp=function(t,e){var n=null;if(e.isOperation)n=e;else{var r,i,s,a,l=this.get(t);if(null===l||void 0===l)throw new Error("Property has not been initialized: "+JSON.stringify(t));o.isString(l)?e["delete"]?(r=e["delete"].start,i=e["delete"].end,n=u.Delete(r,l.substring(r,i))):e.insert&&(s=e.insert.offset,a=e.insert.value,n=u.Insert(s,a)):o.isArray(l)&&(e["delete"]?(s=e["delete"].offset,n=c.Delete(s,l[s])):e.insert&&(s=e.insert.offset,a=e.insert.value,n=c.Insert(s,a)))}if(!n)throw new Error("Unsupported diff: "+JSON.stringify(e));return n}},r.inherit(l,i),t.exports=l},function(t,e,n){"use strict";t.exports={Operation:n(299),TextOperation:n(300),ArrayOperation:n(302),ObjectOperation:n(303)}},function(t,e,n){"use strict";function r(){}var o=n(285);r.Prototype=function(){this.isOperation=!0},o.initClass(r),t.exports=r},function(t,e,n){"use strict";function r(t){if(l.call(this),!t||void 0===t.type||void 0===t.pos||void 0===t.str)throw new Error("Illegal argument: insufficient data.");if(this.type=t.type,this.pos=t.pos,this.str=t.str,!this.isInsert()&&!this.isDelete())throw new Error("Illegal type.");if(!c.isString(this.str))throw new Error("Illegal argument: expecting string.");if(!c.isNumber(this.pos)||this.pos<0)throw new Error("Illegal argument: expecting positive number as pos.")}function o(t,e){t.pos===e.pos?e.pos+=t.str.length:t.pos<e.pos?e.pos+=t.str.length:t.pos+=e.str.length}function i(t,e,n){if(t.pos>e.pos)return i(e,t,!n);if(t.pos===e.pos&&t.str.length>e.str.length)return i(e,t,!n);if(e.pos<t.pos+t.str.length){var r=e.pos-t.pos,o=t.str.length-r,s=r+e.str.length;t.str=t.str.slice(0,r)+t.str.slice(s),e.str=e.str.slice(o),e.pos-=r}else e.pos-=t.str.length}function s(t,e){if(t.type===d)return s(e,t);if(t.pos<=e.pos)e.pos+=t.str.length;else if(t.pos>=e.pos+e.str.length)t.pos-=e.str.length;else{var n=t.pos-e.pos;e.str=e.str.slice(0,n)+t.str+e.str.slice(n),t.str=""}}var a,c=n(160),u=n(282),l=n(299),h=n(301),p="+",d="-";r.fromJSON=function(t){return new r(t)},r.Prototype=function(){this.apply=function(t){if(this.isEmpty())return t;if(this.type===p){if(t.length<this.pos)throw new Error("Provided string is too short.");return t.splice?t.splice(this.pos,0,this.str):t.slice(0,this.pos).concat(this.str).concat(t.slice(this.pos))}if(t.length<this.pos+this.str.length)throw new Error("Provided string is too short.");return t.splice?t.splice(this.pos,this.str.length):t.slice(0,this.pos).concat(t.slice(this.pos+this.str.length))},this.clone=function(){return new r(this)},this.isNOP=function(){return"NOP"===this.type||0===this.str.length},this.isInsert=function(){return this.type===p},this.isDelete=function(){return this.type===d},this.getLength=function(){return this.str.length},this.invert=function(){var t={type:this.isInsert()?"-":"+",pos:this.pos,str:this.str};return new r(t)},this.hasConflict=function(t){return a(this,t)},this.isEmpty=function(){return 0===this.str.length},this.toJSON=function(){return{type:this.type,pos:this.pos,str:this.str}},this.toString=function(){return["(",this.isInsert()?"+":"-",",",this.pos,",'",this.str,"')"].join("")}},u.inherit(r,l),a=function(t,e){if(t.type===p&&e.type===p)return t.pos===e.pos;if(t.type===d&&e.type===d)return!(t.pos>=e.pos+e.str.length||e.pos>=t.pos+t.str.length);var n,r;return t.type===d?(n=t,r=e):(n=e,r=t),r.pos>=n.pos&&r.pos<n.pos+n.str.length};var f=function(t,e,n){if(n=n||{},n["no-conflict"]&&a(t,e))throw new h(t,e);return n.inplace||(t=t.clone(),e=e.clone()),t.type===p&&e.type===p?o(t,e):t.type===d&&e.type===d?i(t,e,!0):s(t,e),[t,e]};r.transform=function(){return f.apply(null,arguments)},r.Insert=function(t,e){return new r({type:p,pos:t,str:e})},r.Delete=function(t,e){return new r({type:d,pos:t,str:e})},r.INSERT=p,r.DELETE=d,t.exports=r},function(t,e){"use strict";function n(t,e){Error.call(this,"Conflict: "+JSON.stringify(t)+" vs "+JSON.stringify(e)),this.a=t,this.b=e}n.prototype=Error.prototype,t.exports=n},function(t,e,n){"use strict";function r(t,e){t.pos===e.pos?e.pos+=1:t.pos<e.pos?e.pos+=1:t.pos+=1}function o(t,e){return t.pos===e.pos?(e.type=l,void(t.type=l)):void(t.pos<e.pos?e.pos-=1:t.pos-=1)}function i(t,e){if(t.type===h){var n=t;t=e,e=n}t.pos<=e.pos?e.pos+=1:t.pos-=1}var s=n(160),a=n(282),c=n(299),u=n(301),l="NOP",h="delete",p="insert",d=function(t){if(c.call(this),!t||null==t.type)throw new Error("Illegal argument: insufficient data.");if(this.type=t.type,this.type!==l){if(this.type!==p&&this.type!==h)throw new Error("Illegal type.");if(this.pos=t.pos,this.val=t.val,!s.isNumber(this.pos)||this.pos<0)throw new Error("Illegal argument: expecting positive number as pos.")}};d.fromJSON=function(t){return new d(t)},d.Prototype=function(){this.apply=function(t){if(this.type===l)return t;if(this.type===p){if(t.length<this.pos)throw new Error("Provided array is too small.");return t.splice(this.pos,0,this.val),t}if(t.length<this.pos)throw new Error("Provided array is too small.");if(!s.isEqual(t[this.pos],this.val))throw Error("Unexpected value at position "+this.pos+". Expected "+this.val+", found "+t[this.pos]);return t.splice(this.pos,1),t},this.clone=function(){var t={type:this.type,pos:this.pos,val:s.deepclone(this.val)};return new d(t)},this.invert=function(){var t=this.toJSON();return this.type===l?t.type=l:this.type===p?t.type=h:t.type=p,new d(t)},this.hasConflict=function(t){return d.hasConflict(this,t)},this.toJSON=function(){var t={type:this.type};return this.type===l?t:(t.pos=this.pos,t.val=s.deepclone(this.val),t)},this.isInsert=function(){return this.type===p},this.isDelete=function(){return this.type===h},this.getOffset=function(){return this.pos},this.getValue=function(){return this.val},this.isNOP=function(){return this.type===l},this.toString=function(){return["(",this.isInsert()?"+":"-",",",this.getOffset(),",'",this.getValue(),"')"].join("")}},a.inherit(d,c);var f=function(t,e){return t.type===l||e.type===l?!1:t.type===p&&e.type===p?t.pos===e.pos:!1},m=function(t,e,n){if(n=n||{},n["no-conflict"]&&f(t,e))throw new u(t,e);return n.inplace||(t=t.clone(),e=e.clone()),t.type===l||e.type===l||(t.type===p&&e.type===p?r(t,e):t.type===h&&e.type===h?o(t,e):i(t,e)),[t,e]};d.transform=m,d.hasConflict=f,d.Insert=function(t,e){return new d({type:p,pos:t,val:e})},d.Delete=function(t,e){return new d({type:h,pos:t,val:e})},d.NOP=l,d.DELETE=h,d.INSERT=p,t.exports=d},function(t,e,n){"use strict";var r=n(160),o=n(282),i=n(285),s=i.PathAdapter,a=n(299),c=n(300),u=n(302),l=n(301),h="NOP",p="create",d="delete",f="update",m="set",g=function(t){if(a.call(this),!t)throw new Error("Data of ObjectOperation is missing.");if(!t.type)throw new Error("Invalid data: type is mandatory.");if(this.type=t.type,t.type!==h){if(this.path=t.path,!t.path)throw new Error("Invalid data: path is mandatory.");if(this.type===p||this.type===d){if(!t.val)throw new Error("Invalid data: value is missing.");this.val=t.val}else if(this.type===f){if(!t.diff)throw new Error("Invalid data: diff is mandatory for update operation.");if(this.diff=t.diff,t.diff instanceof c)this.propertyType="string";else{if(!(t.diff instanceof u))throw new Error("Invalid data: diff must be a TextOperation or an ArrayOperation.");this.propertyType="array"}}else{if(this.type!==m)throw new Error("Invalid type: "+t.type);this.val=t.val,this.original=t.original}}};g.fromJSON=function(t){if(t=r.deepclone(t),"update"===t.type)switch(t.propertyType){case"string":t.diff=c.fromJSON(t.diff);break;case"array":t.diff=u.fromJSON(t.diff);break;default:throw new Error("Unsupported update diff:"+JSON.stringify(t.diff))}var e=new g(t);return e},g.Prototype=function(){this.apply=function(t){if(this.type===h)return t;var e;if(e=t instanceof s?t:new s(t),this.type===p)return e.set(this.path,r.deepclone(this.val)),t;if(this.type===d)e["delete"](this.path,"strict");else if(this.type===f){var n,o=this.diff,i=e.get(this.path);n=o instanceof u?o.apply(i):o.apply(i),e.set(this.path,n)}else e.set(this.path,r.deepclone(this.val));return t},this.clone=function(){var t={type:this.type,path:this.path};return this.val&&(t.val=r.deepclone(this.val)),this.diff&&(t.diff=this.diff.clone()),new g(t)},this.isNOP=function(){return this.type===h?!0:this.type===f?this.diff.isNOP():void 0},this.isCreate=function(){return this.type===p},this.isDelete=function(){return this.type===d},this.isUpdate=function(){return this.type===f},this.isSet=function(){return this.type===m},this.invert=function(){if(this.type===h)return new g({type:h});var t=new g(this);if(this.type===p)t.type=d;else if(this.type===d)t.type=p;else if(this.type===f){var e;e=this.diff instanceof c?c.fromJSON(this.diff.toJSON()).invert():u.fromJSON(this.diff.toJSON()).invert(),t.diff=e}else t.val=this.original,t.original=this.val;return t},this.hasConflict=function(t){return g.hasConflict(this,t)},this.toJSON=function(){if(this.type===h)return{type:h};var t={type:this.type,path:this.path};return this.type===p||this.type===d?t.val=this.val:this.type===f?(this.diff instanceof u?t.propertyType="array":t.propertyType="string",t.diff=this.diff.toJSON()):(t.val=this.val,t.original=this.original),t},this.getType=function(){return this.type},this.getPath=function(){return this.path},this.getValue=function(){return this.val},this.toString=function(){switch(this.type){case p:return["(+,",JSON.stringify(this.path),JSON.stringify(this.val),")"].join("");case d:return["(-,",JSON.stringify(this.path),JSON.stringify(this.val),")"].join("");case f:return["(>>,",JSON.stringify(this.path),this.propertyType,this.diff.toString(),")"].join("");case m:return["(=,",JSON.stringify(this.path),this.val,this.original,")"].join("")}}},o.inherit(g,a);var v=function(t,e){return t.type===h||e.type===h?!1:r.isEqual(t.path,e.path)},y=function(t,e){t.type=h,e.type=h},E=function(){throw new Error("Can not transform two concurring creates of the same property")},b=function(){throw new Error("Illegal state: can not create and delete a value at the same time.")},x=function(t,e,n){if(t.type!==d)return x(e,t,!0);var r;r="string"===e.propertyType?c.fromJSON(e.diff):u.fromJSON(e.diff),n?(t.val=r.apply(t.val),e.type=h):(t.type=h,e.type=p,e.val=r.apply(t.val))},N=function(){throw new Error("Can not transform a concurring create and update of the same property")},_=function(t,e){var n,r,o;"string"===e.propertyType?(n=c.fromJSON(t.diff),r=c.fromJSON(e.diff),o=c.transform(n,r,{inplace:!0})):(n=u.fromJSON(t.diff),r=u.fromJSON(e.diff),o=u.transform(n,r,{inplace:!0})),t.diff=o[0],e.diff=o[1]},C=function(){throw new Error("Illegal state: can not create and set a value at the same time.")},w=function(t,e,n){return t.type!==d?w(e,t,!0):void(n?(t.val=e.val,e.type=h):(t.type=h,e.type=p,e.original=void 0))},O=function(){throw new Error("Unresolvable conflict: update + set.")},D=function(t,e){t.type=h,e.original=t.val},T=0,S=1,I=2,P=4,M=8,A={};A[h]=T,A[p]=S,A[d]=I,A[f]=P,A[m]=M;var R=[];R[I|I]=y,R[I|S]=b,R[I|P]=x,R[S|S]=E,R[S|P]=N,R[P|P]=_,R[S|M]=C,R[I|M]=w,R[P|M]=O,R[M|M]=D;var k=function(t,e,n){if(n=n||{},n["no-conflict"]&&v(t,e))throw new l(t,e);if(n.inplace||(t=t.clone(),e=e.clone()),t.isNOP()||e.isNOP())return[t,e];var o=r.isEqual(t.path,e.path);return o&&R[A[t.type]|A[e.type]](t,e),[t,e]};g.transform=k,g.hasConflict=v,g.Create=function(t,e){var n;return n=r.isString(t)?[t]:t,new g({type:p,path:n,val:e})},g.Delete=function(t,e){var n;return n=r.isString(t)?[t]:t,new g({type:d,path:n,val:e})},g.Update=function(t,e){var n;if(e instanceof c)n="string";else{if(!(e instanceof u))throw new Error("Unsupported type for operational changes");n="array"}return new g({type:f,path:t,diff:e})},g.Set=function(t,e,n){return new g({type:m,path:t,val:r.deepclone(n),original:r.deepclone(e)})},g.NOP=h,g.CREATE=p,g.DELETE=d,g.UPDATE=f,g.SET=m,t.exports=g},function(t,e,n){"use strict";function r(t){a.call(this),this.properties=i.extend({},this.getDefaultProperties(),t),this.properties.type=this.constructor["static"].name,this.properties.id=this.properties.id||s(this.properties.type)}var o=n(282),i=n(160),s=n(280),a=n(287);r.Prototype=function(){this.toJSON=function(){return this.properties},this.getDefaultProperties=function(){},this.isInstanceOf=function(t){return r.isInstanceOf(this.constructor,t)},this.getTypeNames=function(){for(var t=[],e=this.constructor["static"];e&&"node"!==e.name;)t.push(e.name),e=Object.getPrototypeOf(e);return t},this.getPropertyType=function(t){var e=this.constructor["static"].schema;return e[t]}},o.inherit(r,a),r["static"].name="node",r["static"].schema={type:"string",id:"string"},r["static"].readOnlyProperties=["type","id"],r.isInstanceOf=function(t,e){for(var n=t["static"];n&&"node"!==n.name;){if(n&&n.name===e)return!0;n=Object.getPrototypeOf(n)}return!1},r["static"].isInstanceOf=r.isInstanceOf;var c,u=function(t,e,n){var r,o;r=function(){return this.properties[e]},o=n?function(){throw new Error("Property "+e+" is readonly!")}:function(t){return this.properties[e]=t,this};var i={get:r,set:o};Object.defineProperty(t,e,i)},l=function(t){var e=t.prototype;if(t["static"].schema)for(var n=Object.keys(t["static"].schema),r=0;r<n.length;r++){var o=n[r];if(!e.hasOwnProperty(o)){var i=t["static"].readOnlyProperties&&t["static"].readOnlyProperties.indexOf(o)>0;u(e,o,i)}}},h=function(t){var e=t["static"].schema,n=Object.getPrototypeOf(t["static"]),r=n.schema;r&&(t["static"].schema=i.extend(Object.create(r),e))},p=function(t){t.extend=i.bind(c,null,t),l(t),h(t),t.type=t["static"].name};c=function(t,e){var n=function(){t.apply(this,arguments),this.init&&this.init.apply(this,arguments)};o.inherit(n,t);for(var r in e)if(e.hasOwnProperty(r)){if("name"===r||"properties"===r)continue;n.prototype[r]=e[r]}return n["static"].name=e.name,n["static"].schema=e.properties,p(n),n},p(r),r.initNodeClass=p,t.exports=r},function(t,e,n){"use strict";function r(t,e){this.name=t,this.version=e,this.nodeFactory=new a,this.tocTypes=[],this.addNodes(this.getBuiltIns())}var o=n(160),i=n(282),s=n(304),a=n(306);r.Prototype=function(){function t(t){var e={};return t["static"].hasOwnProperty("schema")&&(e.properties=o.clone(t["static"].schema)),e}this.addNodes=function(t){if(t)for(var e=0;e<t.length;e++){var n=t[e];this.nodeFactory.register(n),n["static"].tocType&&this.tocTypes.push(n["static"].name)}},this.getNodeClass=function(t){return this.nodeFactory.get(t)},this.getNodeFactory=function(){return this.nodeFactory},this.toJSON=function(){var e={id:this.name,version:this.version,types:{}};return this.nodeFactory.each(function(n,r){e.types[r]=t(n)}),e},this.createNode=function(t,e){var n=this.nodeFactory.create(t,e);return n},this.getBuiltIns=function(){return[s]},this.isInstanceOf=function(t,e){var n=this.getNodeClass(t);return n?s["static"].isInstanceOf(n,e):!1},this.each=function(){this.nodeFactory.each.apply(this.nodeFactory,arguments)},this.getTocTypes=function(){return this.tocTypes},this.getDefaultTextType=function(){throw new Error("Schmema.prototype.getDefaultTextType() must be overridden.")}},i.initClass(r),t.exports=r},function(t,e,n){"use strict";function r(){s.call(this)}var o=n(285),i=n(304),s=o.Factory;r.Prototype=function(){this.register=function(t){var e=t["static"]&&t["static"].name;if("string"!=typeof e||""===e)throw new Error("Node names must be strings and must not be empty");if(!(t.prototype instanceof i))throw new Error("Nodes must be subclasses of Substance.Data.Node");if(this.contains(e))throw new Error("Node class is already registered: "+e);this.add(e,t)}},o.inherit(r,s),t.exports=r},function(t,e,n){"use strict";var r=n(285),o=r.PathAdapter,i=function(){this.index=new o};i.Prototype=function(){this.reset=function(t){this.index.clear(),this._initialize(t)},this._initialize=function(t){r.each(t.getNodes(),function(t){this.select(t)&&this.create(t)},this)},this.property="id",this.select=function(t){return this.type?t.isInstanceOf(this.type):!0},this.get=function(t){return t?this.index.get(t)||{}:this.getAll()},this.getAll=function(){var t={};return r.each(this.index,function(e){r.extend(t,e)}),t},this.create=function(t){var e=t[this.property];r.isArray(e)||(e=[e]),r.each(e,function(e){this.index.set([e,t.id],t)},this)},this["delete"]=function(t){var e=t[this.property];r.isArray(e)||(e=[e]),r.each(e,function(e){this.index["delete"]([e,t.id])},this)},this.update=function(t,e,n,o){if(this.select(t)&&e[1]===this.property){var i=o;r.isArray(i)||(i=[i]),r.each(i,function(e){this.index["delete"]([e,t.id])},this),i=n,r.isArray(i)||(i=[i]),r.each(i,function(e){this.index.set([e,t.id],t)},this)}},this.clone=function(){var t=this.constructor,e=new t;return e}},r.initClass(i),i.create=function(t){var e=r.extend(new i,t);return e.clone=function(){return i.create(t)},e},t.exports=i},function(t,e,n){"use strict";function r(t){i.EventEmitter.call(this),this.schema=t,this.AUTO_ATTACH=!0,this.FOR_CLIPBOARD=!1,this.data=new s.Incremental(t,{didCreateNode:o.bind(this._didCreateNode,this),didDeleteNode:o.bind(this._didDeleteNode,this)})}var o=n(160),i=n(285),s=n(295),a=n(309),c=n(310),u=n(313),l=n(314);r.Prototype=function(){this.isTransaction=function(){return!1},this.isClipboard=function(){return this.FOR_CLIPBOARD},this.newInstance=function(){throw new Error("Must be implemented in subclass.")},this.initialize=function(){},this.addIndex=function(t,e){return this.data.addIndex(t,e)},this.getIndex=function(t){return this.data.getIndex(t)},this._setAutoAttach=function(t){this.AUTO_ATTACH=t},this._setForClipboard=function(t){this.FOR_CLIPBOARD=t},this._resetContainers=function(){var t=this.getIndex("type").get("container");i.each(t,function(t){t.reset()})},this._create=function(t){var e=this.data.create(t);return this._updateContainers(e),e},this._delete=function(t){var e=this.data["delete"](t);return this._updateContainers(e),e},this._update=function(t,e){var n=this.data.update(t,e);return this._updateContainers(n),n},this._set=function(t,e){var n=this.data.set(t,e);return this._updateContainers(n),n},this.documentDidLoad=function(){},this.getSchema=function(){return this.schema},this.get=function(t){return this.data.get(t)},this.getNodes=function(){return this.data.getNodes()},this.addIndex=function(t,e){return this.data.addIndex(t,e)},this.getIndex=function(t){return this.data.getIndex(t)},this.loadSeed=function(t){o.each(this.data.nodes,function(t){this["delete"](t.id)},this),this._setAutoAttach(!1),o.each(t.nodes,function(t){this.create(t)},this),this._setAutoAttach(!0),o.each(this.data.nodes,function(t){t.attach(this)},this),this.documentDidLoad()},this.getTextForSelection=function(t){var e,n=[];if(!t||t.isNull())return"";if(t.isPropertySelection())e=this.get(t.start.path),n.push(e.substring(t.start.offset,t.end.offset));else if(t.isContainerSelection())for(var r=this.get(t.containerId),o=r.getComponentsForRange(t.range),i=0;i<o.length;i++){var s=o[i];e=this.get(s.path),1===o.length?n.push(e.substring(t.start.offset,t.end.offset)):0===i?n.push(e.substring(t.start.offset)):i===o.length-1?n.push(e.substring(0,t.end.offset)):n.push(e)}return n.join("")},this.toJSON=function(){var t={};return o.each(this.getNodes(),function(e){t[e.id]=e.toJSON()}),{schema:[this.schema.name,this.schema.version],nodes:t}},this.create=function(t){throw new Error("Method is abstract.")},this["delete"]=function(t){throw new Error("Method is abstract.")},this.set=function(t,e){throw new Error("Method is abstract.")},this.update=function(t,e){throw new Error("Method is abstract.")},this.setText=function(t,e,n){var r,o=this.getIndex("annotations").get(t);for(r=0;r<o.length;r++)this["delete"](o[r].id);for(this.set(t,e),r=0;r<n.length;r++)this.create(n[r])},this.createSelection=function(t){if(!t)return a.nullSelection;switch(t.type){case"property":return new c(t).attach(this);case"container":return new u(t).attach(this);case"table":return new l(t).attach(this);default:throw new Error("Unsupported selection type",t.type)}},this._didCreateNode=function(t){this.AUTO_ATTACH&&t.attach(this)},this._didDeleteNode=function(t){t.detach(this)},this._updateContainers=function(t){var e=this.getIndex("type").get("container");o.each(e,function(e){e.update(t)})}},i.inherit(r,i.EventEmitter),t.exports=r},function(t,e,n){"use strict";function r(){}var o=n(285);r.Prototype=function(){this.getRanges=function(){return[]},this.isNull=function(){return!1},this.isMultiSeletion=function(){return!1},this.isPropertySelection=function(){return!1},this.isContainerSelection=function(){return!1},this.isTableSelection=function(){return!1},this.isCollapsed=function(){return!0},this.isReverse=function(){return!1},this.equals=function(t){return this===t?!0:t?this.isNull()!==t.isNull()?!1:!0:!1},this.toString=function(){return"null"}},o.initClass(r);var i=function(){};
i.Prototype=function(){this.isNull=function(){return!0}},o.inherit(i,r),r.nullSelection=Object.freeze(new i),t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.path,n=t.startOffset,r=t.endOffset||t.startOffset;if(!e||!o.isNumber(n))throw new Error("Invalid arguments: `path` and `startOffset` are mandatory");this.range=new c(new a(e,n),new a(e,r)),this.reverse=t.reverse,this._internal={},Object.freeze(this)}var o=n(160),i=n(282),s=n(309),a=n(311),c=n(312);r.Prototype=function(){o.extend(this,s.prototype),this.toJSON=function(){return{type:"property",path:this.path,startOffset:this.startOffset,endOffset:this.endOffset,reverse:this.reverse}},this.attach=function(t){return this._internal.doc=t,this},this.isNull=function(){return!1},this.getRanges=function(){return[this.range]},this.getRange=function(){return this.range},this.isCollapsed=function(){return this.range.isCollapsed()},this.isReverse=function(){return this.reverse},this.isPropertySelection=function(){return!0},this.isMultiSeletion=function(){return!1},this.equals=function(t){return s.prototype.equals.call(this,t)&&!t.isTableSelection()&&this.range.equals(t.range)},this.collapse=function(t){var e;return e="left"===t?this.range.start:this.range.end,this.createWithNewRange(e.offset,e.offset)},this.getPath=function(){return this.range.start.path},this.getStartOffset=function(){return this.range.start.offset},this.getEndOffset=function(){return this.range.end.offset},this.toString=function(){return["PropertySelection(",JSON.stringify(this.range.start.path),", ",this.range.start.offset," -> ",this.range.end.offset,this.reverse?", reverse":"",this.range.start.after?", after":"",")"].join("")},this.isInsideOf=function(t,e){return t.isNull()?!1:t.isContainerSelection()?t.contains(this):e?o.isEqual(this.path,t.path)&&this.start.offset>t.start.offset&&this.end.offset<t.end.offset:o.isEqual(this.path,t.path)&&this.start.offset>=t.start.offset&&this.end.offset<=t.end.offset},this.contains=function(t,e){return t.isNull()?!1:t.isContainerSelection()?t.isInsideOf(this):e?o.isEqual(this.path,t.path)&&this.start.offset<t.start.offset&&this.end.offset>t.end.offset:o.isEqual(this.path,t.path)&&this.start.offset<=t.start.offset&&this.end.offset>=t.end.offset},this.overlaps=function(t,e){return t.isNull()?!1:t.isContainerSelection()?t.overlaps(this):o.isEqual(this.getPath(),t.getPath())?e?!(this.startOffset>=t.endOffset||this.endOffset<=t.startOffset):!(this.startOffset>t.endOffset||this.endOffset<t.startOffset):!1},this.isRightAlignedWith=function(t){return t.isNull()?!1:t.isContainerSelection()?t.isRightAlignedWith(this):o.isEqual(this.getPath(),t.getPath())&&this.getEndOffset()===t.getEndOffset()},this.isLeftAlignedWith=function(t){return t.isNull()?!1:t.isContainerSelection()?t.isLeftAlignedWith(this):o.isEqual(this.getPath(),t.getPath())&&this.getStartOffset()===t.getStartOffset()},this.expand=function(t){if(t.isNull())return this;if(t.isContainerSelection())return t.expand(this);if(!o.isEqual(this.path,t.path))throw new Error("Can not expand PropertySelection to a different property.");var e=Math.min(this.startOffset,t.startOffset),n=Math.max(this.endOffset,t.endOffset);return this.createWithNewRange(e,n)},this.createWithNewRange=function(t,e){return new r({path:this.path,startOffset:t,endOffset:e})},this.truncate=function(t){if(t.isNull())return this;if(!o.isEqual(this.start.path,t.start.path)||!o.isEqual(this.end.path,t.end.path))throw new Error("Can not expand PropertySelection to a different property.");var e,n;return this.startOffset===t.startOffset?(e=t.endOffset,n=this.endOffset):this.endOffset===t.endOffset&&(e=this.startOffset,n=t.startOffset),this.createWithNewRange(e,n)},this._coordinates=function(){return this}},i.inherit(r,s),Object.defineProperties(r.prototype,{start:{get:function(){return this.range.start},set:function(){throw new Error("immutable.")}},end:{get:function(){return this.range.end},set:function(){throw new Error("immutable.")}},path:{get:function(){return this.range.start.path},set:function(){throw new Error("immutable.")}},startOffset:{get:function(){return this.range.start.offset},set:function(){throw new Error("immutable.")}},endOffset:{get:function(){return this.range.end.offset},set:function(){throw new Error("immutable.")}},collapsed:{get:function(){return this.isCollapsed()},set:function(){throw new Error("immutable.")}}}),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){if(this.path=t,this.offset=e,this.after=n,!i.isArray(t))throw new Error("Invalid arguments: path should be an array.");if(!i.isNumber(e)||0>e)throw new Error("Invalid arguments: offset must be a positive number.");Object.isFrozen(t)||Object.freeze(t),Object.freeze(this)}var o=n(282),i=n(160);r.Prototype=function(){this.equals=function(t){return t===this||i.isArrayEqual(t.path,this.path)&&t.offset===this.offset},this.withCharPos=function(t){return new r(this.path,t)},this.getNodeId=function(){return this.path[0]},this.getPath=function(){return this.path},this.getOffset=function(){return this.offset}},o.initClass(r),t.exports=r},function(t,e,n){"use strict";var r=n(285),o=function(t,e){this.start=t,this.end=e,Object.freeze(this)};o.Prototype=function(){this.isCollapsed=function(){return this.start.equals(this.end)},this.equals=function(t){return this===t?!0:this.start.equals(t.start)&&this.end.equals(t.end)}},r.initClass(o),t.exports=o},function(t,e,n){"use strict";function r(t){var e=t.containerId,n=t.startPath,r=t.endPath||t.startPath,o=t.startOffset,s=t.endOffset||t.startOffset;if(!e||!n||!i.isNumber(o))throw new Error("Invalid arguments: `containerId`, `startPath` and `startOffset` are mandatory");this.containerId=e,this.range=new c(new u(n,o),new u(r,s)),this.reverse=t.reverse,this._internal={},Object.freeze(this)}var o=n(282),i=n(160),s=n(310),a=n(309),c=n(312),u=n(311);r.Prototype=function(){this.toJSON=function(){return{type:"container",containerId:this.containerId,startPath:this.startPath,startOffset:this.startOffset,endPath:this.endPath,endOffset:this.endOffset,reverse:this.reverse}},this.attach=function(t){return this._internal.doc=t,this},this.isPropertySelection=function(){return!1},this.isContainerSelection=function(){return!0},this.toString=function(){return"ContainerSelection("+JSON.stringify(this.range.start.path)+":"+this.range.start.offset+" -> "+JSON.stringify(this.range.end.path)+":"+this.range.end.offset+(this.reverse?", reverse":"")+")"},this.getDocument=function(){var t=this._internal.doc;if(!t)throw new Error("Selection is not attached to a document.");return t},this.getContainer=function(){return this.getDocument().get(this.containerId)},this.expand=function(t){var e=this._coordinates(this),r=this._coordinates(t),o=e.start,i=r.start,s=e.end,a=r.end,c={start:{pos:o.pos,offset:o.offset},end:{pos:s.pos,offset:s.offset}};return o.pos>i.pos?(c.start.pos=i.pos,c.start.offset=i.offset):o.pos===i.pos&&(c.start.offset=Math.min(o.offset,i.offset)),s.pos<a.pos?(c.end.pos=a.pos,c.end.offset=a.offset):s.pos===a.pos&&(c.end.offset=Math.max(s.offset,a.offset)),n(this,c)},this.truncate=function(r){var o=this._coordinates(this),i=this._coordinates(r),s={};if(t(i.start,o.start,"strict"))s.start=o.start,s.end=i.end;else if(t(o.end,i.end,"strict"))s.start=i.start,s.end=o.end;else if(e(o.start,i.start)){if(e(o.end,i.end))return a.nullSelection;s.start=i.end,s.end=o.end}else e(o.end,i.end)&&(s.start=o.start,s.end=i.start);return n(this,s)},this.isInsideOf=function(e,n){if(e.isNull())return!1;var r=this._coordinates(this),o=this._coordinates(e);return t(o.start,r.start,n)&&t(r.end,o.end,n)},this.contains=function(e){var n=this._coordinates(this),r=this._coordinates(e);return t(n.start,r.start)&&t(r.end,n.end)},this.includesWithOneBoundary=function(n){var r=this._coordinates(this),o=this._coordinates(n);return e(r.start,o.start)&&t(o.end,r.end)||e(r.end,o.end)&&t(r.start,o.start)},this.overlaps=function(e){var n=this._coordinates(this),r=this._coordinates(e);return!(t(n.end,r.start)||t(r.end,n.start))},this.isLeftAlignedWith=function(t){var n=this._coordinates(this),r=this._coordinates(t);return e(n.start,r.start)},this.isRightAlignedWith=function(t){var n=this._coordinates(this),r=this._coordinates(t);return e(n.end,r.end)},this.splitIntoPropertySelections=function(){for(var t=[],e=this.getContainer(),n=e.getComponentsForRange(this.range),r=e.getDocument(),o=0;o<n.length;o++){var i,s,a=n[o];i=0===o?this.startOffset:0,s=o===n.length-1?this.endOffset:r.get(a.path).length,t.push(r.createSelection({type:"property",path:a.path,startOffset:i,endOffset:s}))}return t},this._coordinates=function(t){if(t._internal.containerRange)return t._internal.containerRange;var e,n=this.getContainer(),o=t.getRange(),i=n.getComponent(o.start.path).getIndex();e=t.isCollapsed()?i:n.getComponent(o.end.path).getIndex();var s={start:{pos:i,offset:o.start.offset},end:{pos:e,offset:o.end.offset}};return t instanceof r&&(t._internal.containerRange=s),s};var t=function(t,e,n){return n?t.pos>=e.pos?!1:t.pos==e.pos&&t.offset>=e.offset?!1:!0:t.pos>e.pos?!1:t.pos==e.pos&&t.offset>e.offset?!1:!0},e=function(t,e){return t.pos===e.pos&&t.offset===e.offset},n=function(t,e){var n=t.getContainer();return e.start.path=n.getComponentAt(e.start.pos).path,e.end.path=n.getComponentAt(e.end.pos).path,new r({containerId:t.containerId,startPath:e.start.path,startOffset:e.start.offset,endPath:e.end.path,endOffset:e.end.offset})}},o.inherit(r,s),Object.defineProperties(r.prototype,{path:{get:function(){throw new Error("ContainerSelection has no path property. Use startPath and endPath instead")},set:function(){throw new Error("immutable.")}},startPath:{get:function(){return this.range.start.path},set:function(){throw new Error("immutable.")}},endPath:{get:function(){return this.range.end.path},set:function(){throw new Error("immutable.")}}}),t.exports=r},function(t,e,n){"use strict";function r(t){if(this.tableId=t.tableId,t.rectangle?this.rectangle=t.rectangle:this.rectangle=new r.Rectangle(t.startRow,t.startCol,t.endRow,t.endCol),!this.tableId)throw new Error("Invalid arguments. `tableId` is mandatory.");this._internal={},Object.freeze(this)}var o=n(285),i=(n(160),n(309));r.Prototype=function(){this.isPropertySelection=function(){return!1},this.isTableSelection=function(){return!0},this.isSingleCell=function(){return this.rectangle.isSingleCell()},this.getTableId=function(){return this.tableId},this.getRectangle=function(){return this.rectangle},this.equals=function(t){return i.prototype.equals.call(this,t)&&!t.isTableSelection()&&this.startRow===t.startRow&&this.endRow===t.endRow&&this.startCol===t.startCol&&this.ednCol===t.endCol},this.toString=function(){var t=this.rectangle;return"T[("+t.start.row+","+t.start.col+"), ("+t.end.row+", "+t.end.col+")]"},this.attach=function(t){return this._internal.doc=t,this}},o.inherit(r,i),Object.defineProperties(r.prototype,{startRow:{get:function(){return this.rectangle.start.row}},endRow:{get:function(){return this.rectangle.end.row}},startCol:{get:function(){return this.rectangle.start.col}},endCol:{get:function(){return this.rectangle.end.col}}}),r.Rectangle=function(t,e,n,r){var o=Math.min(t,n),i=Math.max(t,n),s=Math.min(e,r),a=Math.max(e,r);this.start={row:o,col:s},this.end={row:i,col:a},Object.freeze(this.start),Object.freeze(this.end),Object.freeze(this)},r.Rectangle.prototype.isSingleCell=function(){return this.start.row===this.end.row&&this.start.col===this.end.col},t.exports=r},function(t,e,n){"use strict";var r=n(285),o=r.PathAdapter,i=n(295),s=n(316),a=function(){this.byPath=new o,this.byType=new o};a.Prototype=function(){this.property="path",this.select=function(t){return t instanceof s},this.reset=function(t){this.byPath.clear(),this.byType.clear(),this._initialize(t)},this.get=function(t,e,n,o){var i=this.byPath.get(t)||{};if(r.isString(t)||1===t.length){var s=i;i=[],r.each(s,function(t){i=i.concat(r.map(t,function(t){return t}))})}else i=r.map(i,function(t){return t});return null!=e&&(i=r.filter(i,a.filterByRange(e,n))),o&&(i=r.filter(i,a.filterByType(o))),i},this.create=function(t){this.byType.set([t.type,t.id],t),this.byPath.set(t.path.concat([t.id]),t)},this["delete"]=function(t){this.byType["delete"]([t.type,t.id]),this.byPath["delete"](t.path.concat([t.id]))},this.update=function(t,e,n,r){this.select(t)&&e[1]===this.property&&(this["delete"]({id:t.id,type:t.type,path:r}),this.create(t))}},r.inherit(a,i.Index),a.filterByRange=function(t,e){return function(n){var r=n.startOffset,o=n.endOffset,i=o>=t;return null!=e&&(i=i&&e>=r),i}},a.filterByType=function(t){return function(e){return e.isInstanceOf(t)}},t.exports=a},function(t,e,n){"use strict";var r=n(285),o=n(317),i=o.extend({displayName:"Annotation",name:"annotation",properties:{path:["array","string"],startOffset:"number",endOffset:"number"},canSplit:function(){return!0},getSelection:function(){return this.getDocument().createSelection({type:"property",path:this.path,startOffset:this.startOffset,endOffset:this.endOffset})},updateRange:function(t,e){if(!e.isPropertySelection())throw new Error("Cannot change to ContainerAnnotation.");r.isEqual(this.startPath,e.start.path)||t.set([this.id,"path"],e.start.path),this.startOffset!==e.start.offset&&t.set([this.id,"startOffset"],e.start.offset),this.endOffset!==e.end.offset&&t.set([this.id,"endOffset"],e.end.offset)},getText:function(){var t=this.getDocument();if(!t)return console.warn("Trying to use an Annotation which is not attached to the document."),"";var e=t.get(this.path);return e.substring(this.startOffset,this.endOffset)},setActive:function(t){this.active!==t&&(this.active=t,this.emit("active",t))}});i["static"].isInline=!0,i["static"].toHtml=function(t,e,n){var r=t.id,o=t.constructor["static"].tagName||"span",i=$("<"+o+">").attr("id",r).append(n);return i},Object.defineProperties(i.prototype,{startPath:{get:function(){return this.path}},endPath:{get:function(){return this.path}}}),t.exports=i},function(t,e,n){"use strict";var r=n(285),o=n(295),i=o.Node.extend({displayName:"DocumentNode",name:"node",attach:function(t){this.document=t,this.didAttach(t)},detach:function(){var t=this.document;r.each(this.constructor.schema,function(e,n){t.getEventProxy("path").remove([this.id,n],this)}),this.document=null,this.didDetach(t)},didAttach:function(){},didDetach:function(){},isAttached:function(){return null!==this.document},getDocument:function(){return this.document},hasParent:function(){return!!this.parent},getParent:function(){return this.document.get(this.parent)},getRoot:function(){for(var t=this;t.hasParent();)t=t.getParent();return t},getComponents:function(){var t=this.constructor["static"].components||[];return 0===t.length&&console.warn("Contract: a node must define its editable properties.",this.constructor["static"].name),t},isExternal:function(){return this.constructor["static"].external},toHtml:function(t,e){return this.constructor["static"].toHtml(this,t,e)},connect:function(t,e){r.each(e,function(t,e){var n=/([a-zA-Z_0-9]+):changed/.exec(e);if(n){var r=n[1];this.constructor["static"].schema[r]&&this.getDocument().getEventProxy("path").add([this.id,r],this,this._onPropertyChange.bind(this,r))}}),o.Node.prototype.connect.apply(this,arguments)},disconnect:function(){o.Node.prototype.disconnect.apply(this,arguments)},_onPropertyChange:function(t){var e=[t+":changed"].concat(Array.prototype.slice.call(arguments,1));this.emit.apply(this,e)}});i.initNodeClass=o.Node.initNodeClass,i["static"].toHtml=function(t,e){var n=$("<div itemscope>").attr("data-id",t.id).attr("data-type",t.type);return r.each(t.properties,function(r,o){var i=$("<div>").attr("itemprop",o);"string"===t.getPropertyType?i[0].appendChild(e.annotatedText([t.id,o])):i.text(r),n.append(i)}),n},i["static"].external=!1,t.exports=i},function(t,e,n){"use strict";var r=n(285),o=r.PathAdapter,i=n(295),s=n(319),a=function(t){this.doc=t,this.byPath=new o.Arrays,this.byId={}};a.Prototype=function(){this.select=function(t){return t instanceof s},this.reset=function(t){this.byPath.clear(),this.byId={},this._initialize(t)},this.get=function(t,e){var n=this.byPath.get(t)||[];if(!r.isArray(n)){var o=[];this.byPath._traverse(n,[],function(t,e){o=o.concat(e)}),n=o}return e?r.filter(n,function(t){return t.container===e}):n.slice(0)},this.create=function(t){var e=t.getStartAnchor(),n=t.getEndAnchor();this.byPath.add(e.path,e),this.byPath.add(n.path,n),this.byId[t.id]=t},this["delete"]=function(t){var e=t.getStartAnchor(),n=t.getEndAnchor();this.byPath.remove(e.path,e),this.byPath.remove(n.path,n),delete this.byId[t.id]},this.update=function(t,e,n,r){if(this.select(t)){var o=null;if("startPath"===e[1])o=t.getStartAnchor();else{if("endPath"!==e[1])return;o=t.getEndAnchor()}this.byPath.remove(r,o),this.byPath.add(o.path,o)}}},r.inherit(a,i.Index),t.exports=a},function(t,e,n){"use strict";var r=n(160),o=n(282),i=n(287),s=n(317),a=n(309),c=n(286),u=s.extend({displayName:"ContainerAnnotation",name:"container_annotation",properties:{container:"string",startPath:["array","string"],startOffset:"number",endPath:["array","string"],endOffset:"number"},getStartAnchor:function(){return this._startAnchor||(this._startAnchor=new u.Anchor(this,"isStart")),this._startAnchor},getEndAnchor:function(){return this._endAnchor||(this._endAnchor=new u.Anchor(this)),this._endAnchor},getSelection:function(){var t=this.getDocument();return t?t.createSelection({type:"container",containerId:this.container,startPath:this.startPath,startOffset:this.startOffset,endPath:this.endPath,endOffset:this.endOffset}):(console.warn("Trying to use a ContainerAnnotation which is not attached to the document."),a.nullSelection())},getText:function(){var t=this.getDocument();return t?t.getTextForSelection(this.getSelection()):(console.warn("Trying to use a ContainerAnnotation which is not attached to the document."),"")},updateRange:function(t,e){if(!e.isContainerSelection())throw new Error("Cannot change to ContainerAnnotation.");r.isEqual(this.startPath,e.start.path)||t.set([this.id,"startPath"],e.start.path),this.startOffset!==e.start.offset&&t.set([this.id,"startOffset"],e.start.offset),r.isEqual(this.endPath,e.end.path)||t.set([this.id,"endPath"],e.end.path),this.endOffset!==e.end.offset&&t.set([this.id,"endOffset"],e.end.offset)},setActive:function(t){this.active!==t&&(this.active=t,this.emit("active",t),r.each(this.fragments,function(e){e.emit("active",t)}))},getFragments:function(){this._fragments||(this._fragments=new c);var t,e=[],n=this.getDocument(),o=this.getStartAnchor(),i=this.getEndAnchor(),s=n.get(this.container);if(r.isEqual(o.path,i.path))t=this._fragments.get(o.path),t?"property"===!t.mode&&(t.mode="property"):(t=new u.Fragment(this,o.path,"property"),this._fragments.set(t.path,t)),e.push(t);else{var a=n.get(o.path),l=s.getComponent(o.path),h=s.getComponent(i.path);if(!l||!h)throw new Error("Could not find components of AbstractContainerAnnotation");t=this._fragments.get(o.path),t?"start"!==t.mode&&(t.mode="start"):(t=new u.Fragment(this,o.path,"start"),this._fragments.set(t.path,t)),e.push(t);for(var p=l.idx+1;p<h.idx;p++){var d=s.getComponentAt(p);a=n.get(d.path),t=this._fragments.get(d.path),t?"inner"!==t.mode&&(t.mode="inner"):(t=new u.Fragment(this,d.path,"inner"),this._fragments.set(t.path,t)),e.push(t)}t=this._fragments.get(i.path),t?"end"!==t.mode&&(t.mode="end"):(t=new u.Fragment(this,i.path,"end"),this._fragments.set(t.path,t)),e.push(t)}return this.fragments=e,e}});u.Anchor=function(t,e){i.call(this),this.type="container-annotation-anchor",this.anno=t,this.node=t,this.id=t.id,this.container=t.container,this.isStart=!!e,Object.freeze(this)},u.Anchor.Prototype=function(){r.extend(this,i.prototype),this.zeroWidth=!0,this.getTypeNames=function(){return[this.type]}},o.initClass(u.Anchor),u.Fragment=function(t,e,n){i.call(this),this.type="container_annotation_fragment",this.anno=t,this.id=t.id,this.path=e,this.mode=n},u.Fragment.Prototype=function(){r.extend(this,i.prototype),this.getTypeNames=function(){return[this.type]}},o.initClass(u.Fragment),Object.defineProperties(u.Fragment.prototype,{startOffset:{get:function(){return"start"===this.mode||"property"===this.mode?this.anno.startOffset:0},set:function(){throw new Error("Immutable!")}},endOffset:{get:function(){var t=this.anno.getDocument(),e=t.get(this.path),n=e.length;return"end"===this.mode||"property"===this.mode?this.anno.endOffset:n},set:function(){throw new Error("Immutable!")}},active:{get:function(){return this.anno.active},set:function(){throw new Error("Immutable!")}}}),u.Fragment["static"].level=Number.MAX_VALUE,Object.defineProperties(u.Anchor.prototype,{path:{get:function(){return this.isStart?this.node.startPath:this.node.endPath},set:function(){throw new Error("Immutable!")}},offset:{get:function(){return this.isStart?this.node.startOffset:this.node.endOffset},set:function(){throw new Error("Immutable!")}}}),t.exports=u},function(t,e,n){"use strict";var r=n(160),o=n(282),i=n(286),s=n(295),a=n(319),c=function(t){this.doc=t,this.indexes={},this.containers={},this.containerAnnotations={}};c.Prototype=function(){this.getFragments=function(t,e){var n=this.indexes[e];return n?n.get(t)||[]:[]},this.getAllContainerAnnotations=function(){return this.containerAnnotations},this.reset=function(){this.indexes={},this._initialize(this.doc.data)},this._initialize=function(t){r.each(t.getNodes(),function(t){this.select(t)&&this.create(t,"isInitializing")},this),r.each(this.containers,function(t){this.recompute(t.id)},this)},this.select=function(t){return"container"===t.type||t.isInstanceOf(a["static"].name)},this.create=function(t,e){if("container"===t.type)this.containers[t.id]=t,this.indexes[t.id]=new i.Arrays;else if(t.isInstanceOf(a["static"].name)){var n=t.container;this.containerAnnotations[t.id]=t,e||this.recompute(n)}},this.recompute=function(t){var e=(this.containers[t],this.indexes[t]=new i.Arrays);r.each(this.containerAnnotations,function(t){var n=t.getFragments();r.each(n,function(t){e.add(t.path,t)})})},this.onDocumentChange=function(t){for(var e=!1,n={},o=this.doc,i=o.getSchema(),s=0;s<t.ops.length;s++){var c=t.ops[s];if(c.isCreate()||c.isDelete()){var u=c.getValue();"container"===u.type?(n[u.id]=!0,c.isCreate()?this.containers[u.id]=o.get(u.id):delete this.containers[u.id],e=!0):i.isInstanceOf(u.type,a["static"].name)&&(n[u.container]=!0,c.isCreate()?this.containerAnnotations[u.id]=o.get(u.id):delete this.containerAnnotations[u.id],e=!0)}else{var l=c.path[0];if(t.deleted[l])continue;var h=o.get(l);"container"===h.type?(n[h.id]=!0,e=!0):h.isInstanceOf(a["static"].name)&&(n[h.container]=!0,e=!0)}}e&&r.each(n,function(t,e){this.recompute(e)},this)}},o.inherit(c,s.Index),t.exports=c},function(t,e,n){"use strict";function r(t){s.call(this,t.schema),this.__id__="TX_"+a++,this.document=t,this.ops=[],this.before={},o.each(t.data.indexes,function(t,e){this.data.addIndex(e,t.clone())},this),this.loadSeed(t.toJSON())}var o=n(160),i=n(282),s=n(308),a=0;r.Prototype=function(){this.isTransaction=function(){return!0},this.reset=function(){this.ops=[],this.before={},this._resetContainers()},this.create=function(t){var e=this.data.create(t);if(e)return this.document.isTransacting&&this.ops.push(e),this.data.get(t.id)},this["delete"]=function(t){var e=this.data["delete"](t);if(e)return this.document.isTransacting&&this.ops.push(e),e},this.set=function(t,e){var n=this.data.set(t,e);if(n)return this._updateContainers(n),this.document.isTransacting&&this.ops.push(n),n},this.update=function(t,e){var n=this.data.update(t,e);if(n)return this._updateContainers(n),this.document.isTransacting&&this.ops.push(n),n},this.save=function(t,e){var n=this.before,r=o.extend({},n,t);this.document._saveTransaction(n,r,e),this.reset()},this.cancel=function(){for(var t=this.ops.length-1;t>=0;t--)this.data.apply(this.ops[t].invert());this.document._cancelTransaction(),this.reset()},this.finish=function(){this.document.isTransacting&&this.cancel()},this.cleanup=this.finish,this.getOperations=function(){return this.ops},this.apply=function(t){o.each(t.ops,function(t){this.data.apply(t),this._updateContainers(t)},this)},this.getIndex=function(t){return this.data.getIndex(t)},this._didCreateNode=function(t){t.document=this},this._didDeleteNode=function(t){t.document=null},this.createSelection=function(){return this.document.createSelection.apply(this,arguments)},this.getSchema=function(){return this.schema}},i.inherit(r,s),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){this.id=o.uuid(),this.ops=t.slice(0),this.before=e,this.after=n,this.updated=null,this.created=null,this.deleted=null,this._init(),Object.freeze(this),Object.freeze(this.ops),Object.freeze(this.before),Object.freeze(this.after)}var o=n(285),i=o.PathAdapter;r.Prototype=function(){this._init=function(){var t,e=this.ops,n={},r={},o=new i.Arrays;for(t=0;t<e.length;t++){var s=e[t];"create"===s.type&&(n[s.val.id]=s.val,delete r[s.val.id]),"delete"===s.type&&(delete n[s.val.id],delete o[s.val.id],r[s.val.id]=s.val),("set"===s.type||"update"===s.type)&&o.add(s.path,s)}this.created=n,this.deleted=r,this.updated=o},this.isAffected=function(t){return!!this.updated.get(t)},this.isUpdated=this.isAffected,this.invert=function(){for(var t=[],e=this.ops.length-1;e>=0;e--)t.push(this.ops[e].invert());var n=this.after,o=this.before;return new r(t,n,o)},this.traverse=function(t,e){this.updated.traverse(function(){t.apply(e,arguments)})},this.getUpdates=function(t){return this.updated.get(t)||[]},this.getCreated=function(){return this.created},this.getDeleted=function(){return this.deleted}},o.initClass(r),t.exports=r},function(t,e,n){"use strict";var r=n(160),o=n(282),i=n(286),s=function(t){this.listeners=new i,this._list=[],this.doc=t};s.Prototype=function(){this.onDocumentChanged=function(t,e,n){function o(e,n){t.deleted[e[0]]||a.add(e,n)}function i(t,e,r,i){var s=n.get(t),a=s.getComponent(e),c=s.getComponent(r);if(a&&c)for(var u=a.getIndex(),l=c.getIndex(),h=a,p=u;h&&l>=p;p++,h=h.getNext())o(h.getPath(),i);else o(e,i),o(r,i)}var s=this.listeners,a=t.updated;r.each(t.ops,function(t){if("create"!==t.type&&"delete"!==t.type||!t.val.path&&!t.val.startPath)if("set"!==t.type||"path"!==t.path[1]&&"startPath"!==t.path[1]&&"endPath"!==t.path[1]){if("set"===t.type&&("startOffset"===t.path[1]||"endOffset"===t.path[1])){var e=this.doc.get(t.path[0]);e&&(e.path?o(e.path,t):i(e.container,e.startPath,e.endPath,t))}}else o(t.val,t),o(t.original,t);else t.val.path?o(t.val.path,t):t.val.startPath&&i(t.val.container,t.val.startPath,t.val.endPath,t)},this),t.traverse(function(o){var i=o.concat(["listeners"]),a=s.get(i);r.each(a,function(r){r.method.call(r.listener,t,e,n)})},this)},this.add=function(t,e,n){var r=t.concat(["listeners"]),o=this.listeners.get(r);if(o||(o=[],this.listeners.set(r,o)),!n)throw new Error("Invalid argument: expected function but got "+n);o.push({method:n,listener:e})},this.connect=function(t,e,n){this.add(e,t,n)},this.remove=function(t,e){var n=t.concat(["listeners"]),r=this.listeners.get(n);if(r)for(var o=0;o<r.length;o++)if(r[o].listener===e)return void r.splice(o,1)},this.disconnect=function(t,e){this.remove(e,t)}},o.initClass(s),t.exports=s},function(t,e,n){function r(t){if(!t.schema)throw new Error("Missing argument: config.schema is required.");o.extend(t,{trimWhitespaces:!0,REMOVE_INNER_WS:!0}),r["super"].call(this,t)}var o=n(160),i=n(282),s=n(325),a=n(326).CLIPBOARD_CONTAINER_ID;r.Prototype=function(){this.convert=function(t,e){this.initialize(e,t);var n=t.find("body");n=this.sanitizeBody(n),this.convertContainer(n,a),this.finish()},this.sanitizeBody=function(t){var e=t.find("b > p");return e.length&&(t=$(e[0].parentNode)),t},this.checkQuality=function(t){var e=t.find("body");return e.children("b").children("p").length?!0:e.children("p").length?!0:e.find("* p").length?!1:e.children("a,b,i,strong,italic").length?!0:!1}},i.inherit(r,s),t.exports=r},function(t,e,n){(function(e){function r(t){this.config=t||{},this.nodeTypesByName={},this.nodeTypes=[],this.blockTypes=[],this.inlineTypes=[],this.config.schema&&this.config.schema.each(function(t){this.defineNodeImporter(t)},this),this.$=e.$}var o=n(285),i=o,s="undefined"!=typeof window;r.Prototype=function(){this.defineNodeImporter=function(t){t["static"].matchElement&&(this.nodeTypes.push(t),this.nodeTypesByName[t["static"].name]=t,t["static"].blockType?this.blockTypes.push(t):t["static"].isInline&&this.inlineTypes.push(t))},this.defaultConverter=function(t,e){console.warn("This element is not handled by the converters you provided. This is the default implementation which just skips conversion. Override HtmlImporter.defaultConverter(el, converter) to change this behavior.",this.$toStr(t));var n=this.state.doc.getSchema().getDefaultTextType(),r=this.nodeTypesByName[n];if(!r)throw new Error("Could not class for default text type",n);var o=r["static"].fromHtml(t,e);return o&&(o.type=n),o},this.initialize=function(t,e){var n={doc:t,$root:e,inlineNodes:[],trimWhitespaces:!!this.config.trimWhitespaces,stack:[],lastChar:"",skipTypes:{},ignoreAnnotations:!1};this.state=n},this.convert=function(t,e){throw new Error("This method is abstract.")},this.convertContainer=function(t,e){var n=this.state,i=n.doc,s=i.get(e);n.containerNode=s;for(var a=new r.ChildNodeIterator(t[0]);a.hasNext();){var c,u=a.next(),l=this.$(u),h=this._getBlockTypeForElement(l);if(h){if(c=h["static"].fromHtml(l,this),!c)throw new Error("Contract: a Node's fromHtml() method must return a node",this.$toStr(l));c.type=h["static"].name,c.id=c.id||l.attr("id")||o.uuid(c.type),i.create(c),s.show(c.id)}else if(this.isCommentNode(u));else if(this.isTextNode(u)){var p=l.text();if(/^\s*$/.exec(p))continue;a.back(),this.wrapInlineElementsIntoBlockElement(a)}else if(this.isElementNode(u)){var d=this._getInlineTypeForElement(l);d||"span"===this.getTagName(u)?(a.back(),this.wrapInlineElementsIntoBlockElement(a)):this.createDefaultBlockElement(l)}}},this.finish=function(){for(var t=this.state.doc,e=0;e<this.state.inlineNodes.length;e++)t.create(this.state.inlineNodes[e])},this.convertProperty=function(t,e,n){var r=this.$("<div>").html(n);this.initialize(t,r);var o=this.annotatedText(r,e);t.setText(e,o,this.state.inlineNodes)},this.convertElement=function(t,e){var n=this.state.doc,r=this._getNodeTypeForElement(t);if(!r)throw new Error("Could not find a node class associated to element:"+this.$toStr(t));var o=r["static"].fromHtml(t,this);return o.type=r["static"].name,o.id=o.id||this.defaultId(t,o.type),i.extend(o,e),n.create(o)},this.getDocument=function(){return this.state.doc},this.getTagName=function(t){return t.tagName?t.tagName.toLowerCase():""},this.isTextNode=function(t){return s?t.nodeType===window.Node.TEXT_NODE:"text"===t.type},this.isElementNode=function(t){return s?t.nodeType===window.Node.ELEMENT_NODE:"tag"===t.type},this.isCommentNode=function(t){return s?t.nodeType===window.Node.COMMENT_NODE:"comment"===t.type},this.wrapInlineElementsIntoBlockElement=function(t){for(var e=this.state,n=e.doc,r=e.containerNode,o=this.$("<div>");t.hasNext();){var i=t.next(),s=this.$(i),a=this._getBlockTypeForElement(s);if(a){t.back();break}o.append(s.clone())}var c=this.defaultConverter(o,this);if(c){if(!c.type)throw new Error("Contract: Html.defaultConverter() must return a node with type.");c.id=c.id||this.nextId(c.type),n.create(c),r.show(c.id)}},this.createDefaultBlockElement=function(t){var e=this.state,n=e.doc,r=e.containerNode,o=this.defaultConverter(t,this);if(o){if(!o.type)throw new Error("Contract: Html.defaultConverter() must return a node with type.",this.$toStr(t));o.id=o.id||this.defaultId(t,o.type),n.create(o),r.show(o.id)}},this.annotatedText=function(t,e){var n=this.state;if(e){if(n.stack.length>0)throw new Error("Contract: it is not allowed to bind a new call annotatedText to a path while the previous has not been completed.",this.$toStr(t));n.stack=[{path:e,offset:0,text:""}]}else if(0===n.stack.length)throw new Error("Contract: HtmlImporter.annotatedText() requires 'path' for non-reentrant call.",this.$toStr(t));
this.state.lastChar="";var o=new r.ChildNodeIterator(t[0]),i=this._annotatedText(o);return e&&n.stack.pop(),i},this.plainText=function(t){var e=this.state,n=t.text();if(e.stack.length>0){var r=i.last(e.stack);r.offset+=n.length,r.text+=r.text.concat(n)}return n},this.customText=function(t){var e=this.state;if(e.stack.length>0){var n=i.last(e.stack);n.offset+=t.length,n.text+=n.text.concat(t)}return t},this.nextId=function(t){return o.uuid(t)},this.trimTextContent=function(t){var e=t[0].childNodes,n=e[0],r=i.last(e);return n&&"text"===this._getDomNodeType(n)&&(text=n.textContent,trimmed=this.trimLeft(text),n.textContent=trimmed),r&&"text"===this._getDomNodeType(r)&&(text=r.textContent,trimmed=this.trimRight(text),r.textContent=trimmed),t},this.warning=function(t){console.warn("[HtmlImporter] "+t)},this.error=function(t){console.error("[HtmlImporter] "+t)},this.defaultId=function(t,e){for(var n=t.attr("id")||this.nextId(e);this.state.doc.get(n);)n=this.nextId(e);return n},this._annotatedText=function(t){var e=this.state,n=i.last(e.stack);if(!n)throw new Error("Illegal state: context is null.");for(;t.hasNext();){var r=t.next(),o=this.$(r),s="";if(this.isTextNode(r))s=this._prepareText(e,o.text()),s.length&&(n.text=n.text.concat(s),n.offset+=s.length);else{if(this.isCommentNode(r))continue;if(this.isElementNode(r)){var a=this._getInlineTypeForElement(o);if(!a){var c=this._getInlineTypeForElement(o);if(c)throw new Error("Expected inline element. Found block element:",this.$toStr(o));console.warn("Unsupported inline element. We will not create an annotation for it, but process its children to extract annotated text.",this.$toStr(o)),this.annotatedText(o);continue}var u,l=n.offset;if(a["static"].fromHtml){if(e.stack.push({path:n.path,offset:l,text:""}),u=a["static"].fromHtml(o,this),!u)throw new Error("Contract: a Node's fromHtml() method must return a node",this.$toStr(o));a["static"].external&&this.customText("");var h=e.stack.pop();n.offset=h.offset,n.text=n.text.concat(h.text)}else u={},this.annotatedText(o);var p=n.offset;u.type=a["static"].name,u.id=a.id||this.nextId(u.type),u.startOffset=l,u.endOffset=p,u.path=n.path.slice(0),e.inlineNodes.push(u)}else console.warn("Unknown element type. Taking plain text.",this.$toStr(o)),s=this._prepareText(e,o.text()),n.text=n.text.concat(s),n.offset+=s.length}}return n.text},this._getBlockTypeForElement=function(t){if(!t[0].tagName)return null;for(var e=0;e<this.blockTypes.length;e++)if(this.blockTypes[e]["static"].matchElement(t))return this.blockTypes[e]},this._getInlineTypeForElement=function(t){for(var e=0;e<this.inlineTypes.length;e++)if(this.inlineTypes[e]["static"].matchElement(t))return this.inlineTypes[e]},this._getNodeTypeForElement=function(t){for(var e=0;e<this.nodeTypes.length;e++)if(this.nodeTypes[e]["static"].matchElement(t))return this.nodeTypes[e]},this._getDomNodeType=function(t){if(this.isTextNode(t))return"text";if(this.isCommentNode(t))return"comment";if(t.tagName)return t.tagName.toLowerCase();throw new Error("Unknown node type")};var t=/^\s+/g,e=/^\s*/g,n=/\s+$/g,a=/\s+/g,c=" ",u=/[\t\n\r]+/g;this._prepareText=function(r,o){if(!r.trimWhitespaces)return o;var i=c;return o=o.replace(u,c),o=r.lastChar===c?o.replace(e,i):o.replace(t,i),o=o.replace(n,i),this.config.REMOVE_INNER_WS&&(o=o.replace(a,c)),r.lastChar=o[o.length-1]||r.lastChar,o},this.trimLeft=function(e){return e.replace(t,"")},this.trimRight=function(t){return t.replace(n,"")},this.$toStr=function(t){var e=t.clone();return e.empty(),$("<p>").append(e).html()}},r.prototype=new r.Prototype,r.ChildNodeIterator=function(t){this.nodes=t.childNodes,this.length=this.nodes.length,this.pos=-1},r.ChildNodeIterator.Prototype=function(){this.hasNext=function(){return this.pos<this.length-1},this.next=function(){return this.pos+=1,this.nodes[this.pos]},this.back=function(){return this.pos>=0&&(this.pos-=1),this}},r.ChildNodeIterator.prototype=new r.ChildNodeIterator.Prototype,t.exports=r}).call(e,function(){return this}())},function(t,e,n){"use strict";var r=n(160),o=n(327),i=function(t,e){var n=e.selection;return n.isNull()?e.doc=null:n.isPropertySelection()||r.isEqual(n.start.path,n.end.path)?e.doc=s(t,n):n.isContainerSelection()?e.doc=a(t,n):(console.error("Copy is not yet supported for selection type."),e.doc=null),e},s=function(t,e){var n=t.newInstance();n._setForClipboard(!0);var o=e.start.path,s=e.start.offset,a=e.end.offset,c=t.get(o),u=n.get(i.CLIPBOARD_CONTAINER_ID);u||(u=n.create({type:"container",id:i.CLIPBOARD_CONTAINER_ID,nodes:[]})),n.create({type:t.schema.getDefaultTextType(),id:"text",content:c.substring(s,a)}),u.show("text");var l=t.getIndex("annotations").get(o,s,a);return r.each(l,function(t){var e=r.deepclone(t.toJSON());e.path=["text","content"],e.startOffset=Math.max(s,t.startOffset)-s,e.endOffset=Math.min(a,t.endOffset)-s,n.create(e)}),n},a=function(t,e){var n=t.newInstance();n._setForClipboard(!0);var s,a,c=t.getIndex("annotations"),u=t.get(e.containerId),l=u.getComponent(e.start.path),h=u.getComponent(e.end.path),p=n.create({type:"container",id:i.CLIPBOARD_CONTAINER_ID,nodes:[]}),d={};for(s=l.getIndex();s<=h.getIndex();s++){a=u.getComponentAt(s);var f=a.parentNode.id,m=t.get(f);d[f]||(d[f]=n.create(m.toJSON()),p.show(f));for(var g=c.get(a.path),v=0;v<g.length;v++)n.create(r.deepclone(g[v].toJSON()))}var y,E=l.parentNode;for(s=0;s<E.components.length;s++){if(a=E.components[s],a===l){e.start.offset>0&&(y=t.get(a.path),n.update(a.path,{"delete":{start:0,end:e.start.offset}}),o.deletedText(n,a.path,0,e.start.offset));break}n.set(a.path,"")}var b=h.parentNode;for(s=0;s<b.components.length;s++){if(a=b.components[s],a===h){y=t.get(a.path),e.end.offset<y.length&&(n.update(a.path,{"delete":{start:e.end.offset,end:y.length}}),o.deletedText(n,a.path,e.end.offset,y.length));break}n.set(a.path,"")}return n};i.CLIPBOARD_CONTAINER_ID="clipboard_content",t.exports=i},function(t,e,n){"use strict";var r=n(160),o=function(t,e,n){if(n){var o=t.getIndex("annotations"),i=o.get(e.path);r.each(i,function(r){var o=e.offset,i=r.startOffset,s=r.endOffset,a=i,c=s;(i>o||o===i)&&(a+=n),(s>o||o===s&&!r.isExternal())&&(c+=n),a!==i&&t.set([r.id,"startOffset"],a),c!==s&&t.set([r.id,"endOffset"],c)}),o=t.getIndex("container-annotation-anchors");var s=o.get(e.path);r.each(s,function(r){var o=e.offset,i=r.offset,s=!1;if((i>o||o===i&&!e.after)&&(i+=n,s=!0),s){var a=r.isStart?"startOffset":"endOffset";t.set([r.id,a],i)}})}},i=function(t,e,n,o){if(n!==o){var i=t.getIndex("annotations"),s=i.get(e),a=o-n;r.each(s,function(e){var r=n,i=o,s=e.startOffset,c=e.endOffset,u=s,l=c;s>=i?(u-=a,l-=a,t.set([e.id,"startOffset"],u),t.set([e.id,"endOffset"],l)):(s>=r&&(u=s-Math.min(i-r,s-r)),c>=r&&(l=c-Math.min(i-r,c-r)),s!==c&&u===l?t["delete"](e.id):(s!==u&&t.set([e.id,"startOffset"],u),c!==l&&t.set([e.id,"endOffset"],l)))}),i=t.getIndex("container-annotation-anchors");var c=i.get(e),u=[];r.each(c,function(e){u.push(e.id);var r=n,i=o,s=e.offset,c=!1;if(s>=i)s-=a,c=!0;else if(s>=r){var l=s-Math.min(i-r,s-r);s!==l&&(s=l,c=!0)}if(c){var h=e.isStart?"startOffset":"endOffset";t.set([e.id,h],s)}}),r.each(r.uniq(u),function(e){var n=t.get(e),r=n.getSelection();r.isCollapsed()&&(console.log("...deleting container annotation because it has collapsed"+e),t["delete"](e))})}},s=function(t,e,n,o,i){var s=t.getIndex("annotations"),a=s.get(e,n);r.each(a,function(e){var s,a,c=n>e.startOffset&&n<e.endOffset,u=e.startOffset,l=e.endOffset;if(c){if(e.canSplit()){var h=r.clone(e.properties);h.id=r.uuid(e.type+"_"),h.startOffset=i,h.endOffset=i+e.endOffset-n,h.path=o,t.create(h)}s=e.startOffset,a=n,a===s?t["delete"](e.id):(s!==u&&t.set([e.id,"startOffset"],s),a!==l&&t.set([e.id,"endOffset"],a))}else e.startOffset>=n&&(s=i+e.startOffset-n,a=i+e.endOffset-n,t.set([e.id,"path"],o),t.set([e.id,"startOffset"],s),t.set([e.id,"endOffset"],a))}),s=t.getIndex("container-annotation-anchors");var c=s.get(e),u=[];r.each(c,function(e){u.push(e.id);var r=e.offset;if(r>=n){var s=e.isStart?"startPath":"endPath",a=e.isStart?"startOffset":"endOffset";t.set([e.id,s],o),t.set([e.id,a],i+e.offset-n)}}),r.each(r.uniq(u),function(e){var n=t.get(e),r=n.getSelection();r.isCollapsed()&&(console.log("...deleting container annotation because it has collapsed"+e),t["delete"](e))})};t.exports={insertedText:o,deletedText:i,transferAnnotations:s}},function(t,e,n){function r(){r["super"].call(this)}var o=n(282),i=(n(324),n(329));r.Prototype=function(){this.convert=function(t,e){this.initialize(t,e);var n=this.createHtmlDocument(),r=t.get("clipboard_content");return n.find("body").append(this.convertContainer(r)),n.find("html").html()}},o.inherit(r,i),t.exports=r},function(t,e,n){"use strict";function r(t){this.config=t||{},this.state=null}var o=n(285),i=n(330),s="undefined"!=typeof window;r.Prototype=function(){this.convert=function(t,e){throw new Error("Method is abstract.")},this.getNodeConverter=function(t){return t.constructor},this.convertProperty=function(t,e,n){this.initialize(t,n);var r=$("<div>").append(this.annotatedText(e));return r.html()},this.initialize=function(t,e){e={}||e,this.state={doc:t,options:e}},this.convertNode=function(t){var e=this.getNodeConverter(t);return e["static"].toHtml(t,this)},this.convertContainer=function(t){for(var e=this.state,n=t.nodes,r=[],o=0;o<n.length;o++){var i=e.doc.get(n[o]),s=this.convertNode(i);if(!s||!this.isElementNode(s[0]))throw new Error("Contract: Node.static.toHtml() must return a DOM element. NodeType: "+i.type);s.attr("id",i.id),r.push(s)}return r},this.annotatedText=function(t){var e=this,n=this.state.doc,r=n.getIndex("annotations").get(t),o=n.get(t),s=new i;s.onText=function(t,e){t.children.push(e)},s.onEnter=function(t){var e=t.node;return{annotation:e,children:[]}},s.onExit=function(t,n,r){var o=n.annotation,i=e.getNodeConverter(o),s=i["static"].toHtml(o,e,n.children);if(!s||!e.isElementNode(s[0]))throw new Error("Contract: Annotation.toHtml() must return a DOM element.");s.attr("id",o.id),r.children.push(s)};var a={children:[]};return s.start(a,o,r),a.children},this.isElementNode=function(t){return s?t.nodeType===window.Node.ELEMENT_NODE:"tag"===t.type},this.createHtmlDocument=function(){var t="<!DOCTYPE html><html><head></head><body></body></html>";if(s){var e=new window.DOMParser,n=e.parseFromString(t,"text/html");return $(n)}var r=$.load(t).root();return r},this.createXmlDocument=function(){var t='<article xmlns="http://www.w3.org/1999/xhtml"></article>';if(s){var e=new window.DOMParser,n=e.parseFromString(t,"text/xml");return $(n)}var r=$.load(t).root();return r}},o.initClass(r),t.exports=r},function(t,e,n){"use strict";var r=n(285),o=1,i=-1,s=-2,a=function(t){r.extend(this,t)};a.Prototype=function(){var t=function(t,e){if(t.pos<e.pos)return-1;if(t.pos>e.pos)return 1;if(t.id===e.id)return e.mode-t.mode;if(t.mode<e.mode)return-1;if(t.mode>e.mode)return 1;if(t.mode===o){if(t.level<e.level)return-1;if(t.level>e.level)return 1}if(t.mode===i){if(t.level>e.level)return-1;if(t.level<e.level)return 1}return 0},e=function(t){var e=[];return r.each(t,function(t){if(t.zeroWidth)e.push({pos:t.offset,mode:s,id:t.id,level:Number.MAX_VALUE,type:"anchor",node:t});else{var n=t.constructor["static"].level||1e3;e.push({pos:t.startOffset,mode:o,level:n,id:t.id,type:t.type,node:t}),e.push({pos:t.endOffset,mode:i,level:n,id:t.id,type:t.type,node:t})}}),e};this.onText=function(){},this.onEnter=function(){return null},this.onExit=function(){},this.enter=function(t,e){return this.onEnter(t,e)},this.exit=function(t,e,n){this.onExit(t,e,n)},this.createText=function(t,e){e.length>0&&this.onText(t,e)},this.start=function(n,r,a){var c=this,u=e.call(this,a);u.sort(t.bind(this));for(var l=[{context:n,entry:null}],h=0,p=0;p<u.length;p++){var d=u[p];this.createText(l[l.length-1].context,r.substring(h,d.pos)),h=d.pos;var f,m;if(d.mode===o||d.mode===s){for(f=1;f<l.length&&!(d.level<l[f].entry.level);f++);for(m=l.length-1;m>=f;m--)this.exit(l[m].entry,l[m].context,l[m-1].context);for(l.splice(f,0,{entry:d}),m=f;m<l.length;m++)l[m].context=c.enter(l[m].entry,l[m-1].context)}if(d.mode===i||d.mode===s){for(f=1;f<l.length&&l[f].entry.node!==d.node;f++);for(m=l.length-1;m>=f;m--)this.exit(l[m].entry,l[m].context,l[m-1].context);for(l.splice(f,1),m=f;m<l.length;m++)l[m].context=c.enter(l[m].entry,l[m-1].context)}}this.createText(n,r.substring(h))}},r.initClass(a),t.exports=a},function(t,e,n){"use strict";function r(t,e){r["super"].call(this,t,e)}var o=n(285),i=n(295),s=n(317),a=n(316),c=n(332),u=n(319);r.Prototype=function(){this.getDefaultTextType=function(){throw new Error("DocumentSchema.getDefaultTextType() is abstract and must be overridden.")},this.isAnnotationType=function(t){var e=this.getNodeClass(t);return e&&e.prototype instanceof a},this.getBuiltIns=function(){return[s,a,c,u]}},o.inherit(r,i.Schema),t.exports=r},function(t,e,n){"use strict";function r(){a.apply(this,arguments),this.components=[],this.nodeComponents={},this.byPath=new s({})}var o=n(160),i=n(282),s=n(286),a=n(317),c=n(319);r.Prototype=function(){this.didAttach=function(){this.reset()},this.getPosition=function(t){var e=this.nodes.indexOf(t);return e},this.show=function(t,e){var n=this.getDocument();null==e&&(e=this.nodes.length),n.update([this.id,"nodes"],{insert:{offset:e,value:t}})},this.hide=function(t){var e=this.getDocument(),n=this.nodes.indexOf(t);n>=0&&e.update([this.id,"nodes"],{"delete":{offset:n}})},this.getComponents=function(){return this.components},this.getComponent=function(t){var e=this.byPath.get(t);return e},this.getComponentsForRange=function(t){var e=[],n=this.byPath.get(t.start.path),r=this.byPath.get(t.end.path),o=n.getIndex(),i=r.getIndex();e.push(n);for(var s=o+1;i>=s;s++)e.push(this.getComponentAt(s));return e},this.getComponentAt=function(t){return this.components[t]},this.getFirstComponent=function(){return this.components[0]},this.getLastComponent=function(){return o.last(this.components)},this.getComponentsForNode=function(t){var e=this.nodeComponents[t];return e?e.components.slice(0):void 0},this.getNodeForComponentPath=function(t){var e=this.getComponent(t);if(!e)return null;var n=e.rootId;return this.getDocument().get(n)},this.getAnnotationFragments=function(t){var e=[],n=t.getDocument(),r=t,i=r.getStartAnchor(),s=r.getEndAnchor();if(o.isEqual(i.path,s.path))e.push(new c.Fragment(r,i.path,"property"));else{var a=n.get(i.path),u=this.getComponent(i.path),l=this.getComponent(s.path);if(!u||!l)throw new Error("Could not find components of AbstractContainerAnnotation");e.push(new c.Fragment(r,i.path,"start"));for(var h=u.idx+1;h<l.idx;h++){var p=this.getComponentAt(h);a=n.get(p.path),e.push(new c.Fragment(r,p.path,"inner"))}e.push(new c.Fragment(r,s.path,"end"))}return e},this.reset=function(){this.byPath=new s;var e=this.getDocument(),n=[];o.each(this.nodes,function(r){var o=e.get(r);n=n.concat(t(o))},this),this.components=[],this.nodeComponents={},this._insertComponentsAt(0,n),this._updateComponentPositions(0)},this.update=function(t){if("create"!==t.type&&"delete"!==t.type)if(t.path[0]===this.id&&"nodes"===t.path[1])if("set"===t.type)this.reset();else{var e=t.diff;if(e.isInsert()){var n=this._handleInsert(e.getValue(),e.getOffset());this._updateComponentPositions(n)}else{if(!e.isDelete())throw new Error("Illegal state");var r=this._handleDelete(e.getValue());this._updateComponentPositions(r)}}else"update"===t.type&&"items"===t.path[1]&&this.updateNode(t.path[0])},this.updateNode=function(e){var n=this.getDocument().get(e),r=this._handleDelete(e),o=t(n);this._insertComponentsAt(r,o),this._updateComponentPositions(r)},this._insertComponentsAt=function(t,e){for(var n=this.components[t-1],o=this.components[t],i=this.nodeComponents,s=this.byPath,a=0;a<e.length;a++){var c=e[a],u=c.rootId,l=i[u];l||(l=new r.NodeComponent(u),i[u]=l),c.parentNode=l,0===a&&n?(n.next=c,c.previous=n):a>0&&(c.previous=e[a-1],e[a-1].next=c),l.components.push(c),s.set(c.path,c)}o&&(e[e.length-1].next=o,o.previous=e[e.length-1]),this.components.splice.apply(this.components,[t,0].concat(e))},this._updateComponentPositions=function(t){for(var e=t;e<this.components.length;e++)this.components[e].idx=e},this._handleInsert=function(e,n){var r,o=this.getDocument(),i=o.get(e),s=this.nodes.length;if(n===s-1)r=this.components.length;else{var a=this.nodes[n+1],c=this.nodeComponents[a].components[0];r=c.getIndex()}var u=t(i);return this._insertComponentsAt(r,u),r},this._handleDelete=function(t){for(var e=this.nodeComponents[t],n=e.components,r=e.components[0].getIndex(),i=o.last(n).getIndex(),s=0;s<n.length;s++){var a=n[s];this.byPath["delete"](a.path)}return delete this.nodeComponents[t],this.components.splice(r,i-r+1),this.components.length>r&&(this.components[r].previous=this.components[r-1]),r>0&&(this.components[r-1].next=this.components[r]),r};var t=function(e,n){n=n||e;for(var i,s=[],a=e.getComponents(),c=0;c<a.length;c++){var u=a[c],l=e.getPropertyType(u);if("string"===l){var h=[e.id,u];s.push(new r.Component(h,n.id))}else if("id"===l){var p=e[u];i=e.getDocument().get(p),s=s.concat(t(i,n))}else{if(!o.isEqual(l,["array","id"]))throw new Error("Not yet implemented.");for(var d=e[u],f=0;f<d.length;f++)i=e.getDocument().get(d[f]),s=s.concat(t(i,n))}}return s}},i.inherit(r,a),r["static"].name="container",r["static"].schema={nodes:["array","string"]},a.initNodeClass(r),r.Component=function(t,e){this.path=t,this.rootId=e,this.idx=-1,this.parentNode=null,this.previous=null,this.next=null},r.Component.Prototype=function(){this.getPath=function(){return this.path},this.hasPrevious=function(){return!!this.previous},this.getPrevious=function(){return this.previous},this.hasNext=function(){return!!this.next},this.getNext=function(){return this.next},this.getIndex=function(){return this.idx},this.getParentNode=function(){return this.parentNode}},i.initClass(r.Component),r.NodeComponent=function(t){this.id=t,this.components=[]},i.initClass(r.NodeComponent),t.exports=r},function(t,e,n){"use strict";var r=n(317),o=r.extend({displayName:"TextNode",name:"text",properties:{content:"string"},getTextPath:function(){return[this.id,"content"]},getText:function(){return this.content}});o["static"].components=["content"],t.exports=o},function(t,e,n){var r=n(317),o=r.extend({name:"include",displayName:"Include",properties:{nodeType:"string",nodeId:"id"},getIncludedNode:function(){return this.getDocument().get(this.nodeId)}});o["static"].components=["nodeId"],o["static"].blockType=!0,o["static"].matchElement=function(t){return t.is("include")},o["static"].fromHtml=function(t,e){var n=e.defaultId(t,"include"),r={id:n,nodeId:t.attr("data-rid"),nodeType:t.attr("data-rtype")};return r},o["static"].toHtml=function(t,e){var n=t.id,r=$("<include>").attr("id",n).attr("data-rtype",t.nodeType).attr("data-rid",t.nodeId);return r},t.exports=o},function(t,e,n){var r=n(333),o=r.extend({displayName:"Paragraph",name:"paragraph"});o["static"].blockType=!0,o["static"].matchElement=function(t){return t.is("p")},o["static"].fromHtml=function(t,e){var n=e.defaultId(t,"p"),r={id:n,content:""};return r.content=e.annotatedText(t,[n,"content"]),r},o["static"].toHtml=function(t,e){var n=t.id,r=$("<p>").attr("id",n);return r.append(e.annotatedText([n,"content"])),r},t.exports=o},function(t,e,n){var r=n(333),o=r.extend({displayName:"Codeblock",name:"codeblock"});o["static"].blockType=!0,o["static"].matchElement=function(t){return t.is("pre")},o["static"].fromHtml=function(t,e){var n=t.find("code"),r=e.defaultId(t,"codeblock"),o={id:r,content:""};return o.content=e.annotatedText(n,[r,"content"]),o},o["static"].toHtml=function(t,e){var n=t.id,r=$("<pre>").attr("id",n),o=$("<code>");return o.append(e.annotatedText([n,"content"])),r.append(o),r},t.exports=o},function(t,e,n){var r=n(333),o=r.extend({displayName:"Blockquote",name:"blockquote"});o["static"].blockType=!0,o["static"].matchElement=function(t){return t.is("blockquote")},o["static"].fromHtml=function(t,e){var n=e.defaultId(t,"blockquote"),r={id:n,content:""};return r.content=e.annotatedText(t,[n,"content"]),r},o["static"].toHtml=function(t,e){var n=t.id,r=$("<blockquote>").attr("id",n);return r.append(e.annotatedText([n,"content"])),r},t.exports=o},function(t,e,n){var r=n(333),o=r.extend({name:"heading",displayName:"Heading",properties:{level:"number"}});o["static"].blockType=!0,o["static"].tocType=!0,o["static"].matchElement=function(t){return/^h\d$/.exec(t[0].tagName.toLowerCase())},o["static"].fromHtml=function(t,e){var n=e.defaultId(t,"heading"),r={id:n,level:parseInt(""+t[0].tagName[1],10),content:""};return r.content=e.annotatedText(t,[n,"content"]),r},o["static"].toHtml=function(t,e){var n=t.id,r=$("<h"+t.level+">");return r.append(e.annotatedText([n,"content"])),r},t.exports=o},function(t,e,n){var r=n(316),o=r.extend({name:"emphasis",displayName:"Emphasis",splitContainerSelections:!0});o["static"].tagName="em",o["static"].matchElement=function(t){return t.is("em,i")},t.exports=o},function(t,e,n){var r=n(316),o=r.extend({displayName:"Strong",name:"strong",splitContainerSelections:!0});o["static"].tagName="strong",o["static"].matchElement=function(t){return t.is("strong,b")},t.exports=o},function(t,e,n){var r=n(316),o=r.extend({name:"link",displayName:"Link",properties:{url:"string",title:"string"}});o["static"].tagName="a",o["static"].matchElement=function(t){return t.is("a")},o["static"].fromHtml=function(t,e){var n={url:t.attr("href"),title:t.attr("title")};return e.annotatedText(t),n},o["static"].toHtml=function(t,e,n){var o=r["static"].toHtml(t,e,n);return o.attr("href",t.url),o.attr("title",t.title),o},t.exports=o},function(t,e,n){var r=n(282),o=n(160),i=n(317),s=n(343),a=i.extend({displayName:"Table",name:"table",matrix:null,properties:{sections:["array","id"]},getSections:function(){var t=this.getDocument();return o.map(this.sections,function(e){return t.get(e)},this)},getSectionAt:function(t){var e=this.getDocument(),n=this.sections[t];return n?e.get(n):null},attach:function(){this["super"].attach.apply(this,arguments)},getMatrix:function(){return this.matrix||(this.matrix=new s(this),this.matrix.update()),this.matrix},getIterator:function(){return new a.CellIterator(this)},getSize:function(t){var e=this.matrix.getSize();return"row"===t?e[0]:"col"===t?e[1]:e}});a["static"].components=["sections"],a["static"].blockType=!0,a["static"].matchElement=function(t){return t.is("table")},a["static"].fromHtml=function(t,e){var n=e.defaultId(t,"table"),r={id:n,sections:[]};if(o.each(["thead","tbody","tfoot"],function(o){var i=t.find(o);if(i.length){var s=e.convertElement(i,{parent:n});r.sections.push(s.id)}}),0===r.sections.length){var i={id:e.nextId("tbody"),parent:n,type:"table-section",sectionType:"body",rows:[]};t.find("tr").each(function(){var t=$(this),r=e.convertElement(t,{parent:n});i.rows.push(r.id)}),e.getDocument().create(i),r.sections.push(i.id)}return r},a["static"].toHtml=function(t,e){var n=t.id,r=$("<table>").attr("id",n);return o.each(t.getSections(),function(t){r.append(t.toHtml(e))}),r},Object.defineProperties(a.prototype,{rowNodes:{get:function(){return this.getRows()}}}),a.CellIterator=function(t){this.table=t,this.__it={sectionIndex:-1,rowIndex:-1,rowNode:null,cellIndex:-1,cellNode:null,sectionNode:null,finished:!1},this.onNewSection=function(){},this.onNewRow=function(){}},a.CellIterator.Prototype=function(){this.next=function(){if(this.__it.finished)throw new Error("TableCellIterator has no more cells left.");return this.nextCell(this.__it),this.__it.finished?null:this.__it.cellNode},this.nextSection=function(t){t.sectionIndex++,t.sectionNode=this.table.getSectionAt(t.sectionIndex),t.sectionNode?(t.rowIndex=0,t.rowNode=t.sectionNode.getRowAt(0),this.onNewSection(t.sectionNode)):t.finished=!0},this.nextRow=function(t){for(t.rowIndex++,t.sectionNode&&(t.rowNode=t.sectionNode.getRowAt(t.rowIndex));!t.rowNode&&!t.finished;)this.nextSection(t);t.rowNode&&(t.cellIndex=0,t.cellNode=t.rowNode.getCellAt(0),this.onNewRow(t.rowNode))},this.nextCell=function(t){for(t.cellNode&&(t.cellIndex++,t.cellNode=t.rowNode.getCellAt(t.cellIndex));!t.cellNode&&!t.finished;)this.nextRow(t)}},r.initClass(a.CellIterator),t.exports=a},function(t,e,n){function r(t){this.tableNode=t,this._matrix=null,this._rowNodes=null}var o=n(282);r.Prototype=function(){this.invalidate=function(){this._matrix=null,this._rowNodes=null},this.update=function(){var t,e,n,o,i,s,a,c,u=[],l=[],h=this.tableNode.getIterator(),p=-1,d=-1;for(h.onNewRow=function(t){p++,d=-1,u[p]=u[p]||[],l.push(t)};null!==(t=h.next());){for(d++;u[p][d];)d++;if(e=new r.Cell(t,p,d),t.rowIdx=p,t.colIdx=d,u[p][d]=e,n=t.getSpan("row"),o=t.getSpan("col"),1!==n||1!==o)for(i=0;n>i;i++)for(s=0;o>s;s++)(0!==i||0!==s)&&(a=p+i,c=d+s,u[a]=u[a]||[],u[a][c]=new r.Placeholder(e,a,c))}this._matrix=u,this._rowNodes=l},this.getCell=function(t,e){var n=this.getMatrix();return n[t][e]},this.getColumn=function(t){var e,n,r=this.getMatrix();for(e=[],n=0;n<r.length;n++)e.push(r[n][t]);return e},this.getRow=function(t){var e=this.getMatrix();return e[t]},this.getRowNode=function(t){var e=this.getRowNodes();return e[t]},this.getMatrix=function(){return this._matrix||this.update(),this._matrix},this.getRowNodes=function(){return this._rowNodes||this.update(),this._rowNodes},this.getRectangle=function(t,e){var n,o,i,s,a,c;return(n=this.lookupCell(t))?(o=t===e?n:this.lookupCell(e),i=Math.min(n.row,o.row),s=Math.max(n.row,o.row),a=Math.min(n.col,o.col),c=Math.max(n.col,o.col),new r.Rectangle(i,a,s,c)):null},this.getCellsForRectangle=function(t){var e,n,r,o,i;for(r=[],o={},e=t.start.row;e<=t.end.row;e++)for(n=t.start.col;n<=t.end.col;n++)i=this.getCell(e,n),"placeholder"===i.type&&(i=i.owner),o[i.key]||(r.push(i),o[i.key]=!0);return r},this.getBoundingRectangle=function(t){var e,n,o;if(t=r.Rectangle.copy(t),e=this.getCellsForRectangle(t),!e||0===e.length)return null;for(o=0;o<e.length;o++)n=e[o],t.start.row=Math.min(t.start.row,n.row),t.start.col=Math.min(t.start.col,n.col),t.end.row=Math.max(t.end.row,n.row+n.node.getSpan("row")-1),t.end.col=Math.max(t.end.col,n.col+n.node.getSpan("col")-1);return t},this.getSize=function(){var t=this.getMatrix();return 0===t.length?{rows:0,cols:0}:{rows:t.length,cols:t[0].length}},this.lookupCell=function(t){var e,n,r,o,i=this.getMatrix(),s=this.getRowNodes();if(e=s.indexOf(t.parent),0>e)return null;for(r=null,o=i[e],n=0;n<o.length&&(r=o[n],r.node!==t);n++);return r},this.findClosestCell=function(t){var e,n,r=this.getMatrix();for(n=r[t.row],e=t.col;e>=0;e--)if("cell"===n[e].type)return n[e];for(e=t.col+1;e<n.length;e++)if("cell"===n[e].type)return n[e];return null}},o.initClass(r),r.Cell=function(t,e,n){this.type="cell",this.node=t,this.row=e,this.col=n,this.key=e+"_"+n},r.Cell.sortDescending=function(t,e){return t.row!==e.row?e.row-t.row:e.col-t.col},r.Placeholder=function(t,e,n){r.Cell.call(this,t.node,e,n),this.type="placeholder",this.owner=t},o.inherit(r.Placeholder,r.Cell),r.Rectangle=function(t,e,n,r){this.start={row:t,col:e},this.end={row:n,col:r}},r.Rectangle.copy=function(t){return new r.Rectangle(t.start.row,t.start.col,t.end.row,t.end.col)},t.exports=r},function(t,e,n){var r=n(317),o=n(160),i=r.extend({displayName:"TableSection",name:"table-section",properties:{parent:"id",rows:["array","id"],sectionType:"string"},getRows:function(){var t=this.getDocument();return o.map(this.rows,function(e){return t.get(e)},this)},getRowAt:function(t){var e=this.getDocument(),n=this.rows[t];return n?e.get(n):null}});i["static"].components=["rows"],i["static"].matchElement=function(t){return t.is("thead, tbody, tfoot")},i["static"].fromHtml=function(t,e){var n=t[0].tagName.toLowerCase(),r=n.substring(1),o=e.defaultId(t,n),i={id:o,sectionType:r,rows:[]};return t.find("tr").each(function(){var t=$(this),n=e.convertElement(t,{parent:o});i.rows.push(n.id)}),i},i["static"].toHtml=function(t,e){var n=t.id,r=$("<t"+t.sectionType+">").attr("id",n);return o.each(t.getRows(),function(t){r.append(t.toHtml(e))}),r},Object.defineProperties(i.prototype,{cellNodes:{get:function(){return this.getCells()}}}),t.exports=i},function(t,e,n){var r=n(317),o=n(160),i=r.extend({displayName:"TableRow",name:"table-row",properties:{parent:"id",cells:["array","id"]},getCells:function(){var t=this.getDocument();return o.map(this.cells,function(e){return t.get(e)},this)},getCellAt:function(t){var e=this.getDocument(),n=this.cells[t];return n?e.get(n):null}});i["static"].components=["cells"],i["static"].matchElement=function(t){return t.is("tr")},i["static"].fromHtml=function(t,e){var n=e.defaultId(t,"tr"),r={id:n,cells:[]};return t.find("th,td").each(function(){var t=$(this),o=e.convertElement(t,{parent:n});r.cells.push(o.id)}),r},i["static"].toHtml=function(t,e){var n=t.id,r=$("<tr>").attr("id",n);return o.each(t.getCells(),function(t){r.append(t.toHtml(e))}),r},Object.defineProperties(i.prototype,{cellNodes:{get:function(){return this.getCells()}}}),t.exports=i},function(t,e,n){var r=n(317),o=r.extend({displayName:"TableCell",name:"table-cell",properties:{parent:"id",cellType:"string",colspan:"number",rowspan:"number",content:"string"},getSpan:function(t){return"col"===t?this.colspan||1:"row"===t?this.rowspan||1:void 0}});o["static"].components=["content"],o["static"].matchElement=function(t){return t.is("th, td")},o["static"].fromHtml=function(t,e){var n=e.defaultId(t,"tcell"),r={id:n,content:""};t.is("th")?r.cellType="head":r.cellType="data";var o=t.attr("colspan");o&&(r.colspan=parseInt(o,10));var i=t.attr("rowspan");return i&&(r.rowspan=parseInt(i,10)),r.content=e.annotatedText(t,[n,"content"]),r},o["static"].toHtml=function(t,e){var n=t.id,r="head"===t.cellType?"th":"td",o=$("<"+r+">").attr("id","id").append(e.annotatedText([n,"content"]));return o},Object.defineProperties(o.prototype,{isData:{get:function(){return"data"===this.cellType}}}),t.exports=o},function(t,e,n){"use strict";var r=n(160),o=n(317),i=n(348),s=o.extend({displayName:"List",name:"list",properties:{ordered:"boolean",items:["array","id"]},getItems:function(){var t=this.getDocument();return r.map(this.items,function(e){return t.get(e)},this)},removeItem:function(t){var e=this.getDocument(),n=this.items.indexOf(t);if(!(n>=0))throw new Error("List item is not a child of this list: "+t);e.update([this.id,"items"],{"delete":{offset:n}})},insertItemAt:function(t,e){var n=this.getDocument();n.update([this.id,"items"],{insert:{offset:t,value:e}})}});s["static"].components=["items"],s["static"].blockType=!0,s["static"].matchElement=function(t){return t.is("ul,ol")},s["static"].fromHtml=function(t,e){function n(t,e){for(var n=[[]],o=n[0],i=e.firstChild;i;i=i.nextSibling){var s=t._getDomNodeType(i);if("ol"===s||"ul"===s)o=i,n.push(o);else{if(/^\s*$/.exec($(i).text()))continue;r.isArray(o)||(o=[],n.push(o)),o.push(i)}}return n}function o(t){for(var o="ol"===r.last(l),a=n(e,t),h=0;h<a.length;h++){var p=a[h];if(r.isArray(p)){var d=$("<span>").append(p);e.trimTextContent(d);var f=i["static"].fromHtml(d,e);f.ordered=o,f.level=u,e.getDocument().create(f),c.items.push(f.id)}else s(p)}}function s(t){u++,l.push(e._getDomNodeType(t));for(var n=t.firstChild;n;n=n.nextSibling){var r=e._getDomNodeType(n);"li"===r?o(n):("ol"==r||"ul"===r)&&s(n)}u--,l.pop()}var a=e.defaultId(t,"list"),c={id:a,items:[]},u=0,l=[];return s(t[0]),c},s["static"].toHtml=function(t,e){return s["static"].render(t,{createElement:function(t){return $("<"+t+">")},createAnnotatedTextNode:function(t){return e.annotatedText(t)}})},s["static"].render=function(t,e){var n=t.ordered?"ol":"ul",r=t.id,o=t.getItems(),i=e.createElement(n);i.attr("data-id",r);for(var s,a=i,c=[a],u=1,l=0;l<o.length;l++){var h=o[l];if(h.level===u);else if(h.level>u){var p=h.ordered?"ol":"ul";for(s=u;s<h.level;s++){var d=e.createElement(p);a.append(d),a=d,c.push(a),u++}}else{for(s=u;s>h.level;s--)c.pop(),u--;a=c[c.length-1]}a.append(e.createElement("li").addClass("content-node list-item").attr("data-id",h.id).append(e.createAnnotatedTextNode([h.id,"content"])))}return i},Object.defineProperties(s.prototype,{itemNodes:{get:function(){return this.getItems();
}}}),t.exports=s},function(t,e,n){var r=n(317),o=r.extend({displayName:"ListItem",name:"list-item",properties:{parent:"id",level:"number",ordered:"bool",content:"string"}});o["static"].components=["content"],o["static"].fromHtml=function(t,e){var n=t.data("level")||1,r=e.defaultId(t,"li"),o={id:r,type:"list-item",level:n,ordered:!1,content:""};return o.content=e.annotatedText(t,[r,"content"]),o},o["static"].toHtml=function(t,e){var n=t.id,r=$("<li>").attr("id",t.id).data("level",t.level).append(e.annotatedText([n,"content"]));return r},t.exports=o},function(t,e,n){t.exports={breakNode:n(350),copySelection:n(326),deleteCharacter:n(352),deleteNode:n(354),deleteSelection:n(351),insertNode:n(355),insertText:n(356),merge:n(353),paste:n(357),switchTextType:n(358)}},function(t,e,n){"use strict";function r(t,e){if(!e.selection)throw new Error("Argument 'selection' is mandatory.");if(!e.containerId)throw new Error("Argument 'containerId' is mandatory.");e.selection.isCollapsed()||(e=s(t,e));var n=e.selection.getRange(),r=t.get(n.start.path[0]),i=e.editingBehavior;if(r.isInstanceOf("text"))return o(t,e);if(i&&i.canBreak(r.type)){var a=i.getBreaker(r.type);return a.call(a,t,e)}return console.info("Breaking is not supported for node type %s.",r.type),e}function o(t,e){var n=e.selection,r=e.containerId;if(!n.isPropertySelection())throw new Error("Expected property selection.");var o,s=n.getRange(),c=s.start.path,u=s.start.offset,l=t.get(c[0]),h=l.content,p=t.get(r),d=p.getPosition(l.id),f=i(l.type),m=[f,"content"];return 0===u?(o=t.create({id:f,type:l.type,content:""}),p.show(f,d),n=t.createSelection({type:"property",path:c,startOffset:0})):(o=t.create({id:f,type:t.getSchema().getDefaultTextType(),content:h.substring(u)}),u<h.length&&(a.transferAnnotations(t,c,u,[f,"content"],0),t.update(c,{"delete":{start:u,end:h.length}})),p.show(f,d+1),n=t.createSelection({type:"property",path:m,startOffset:0})),e.selection=n,e.node=o,e}var i=n(280),s=n(351),a=n(327);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=e.selection;return e=n.isCollapsed()?u(t,e):n.isPropertySelection()?o(t,e):i(t,e)}function o(t,e){var n=e.selection.getRange(),r=n.start.path,o=n.start.offset,i=n.end.offset;return t.update(r,{"delete":{start:o,end:i}}),p.deletedText(t,r,o,i),e.selection=t.createSelection({type:"property",path:r,startOffset:o}),e}function i(t,e){var n,r,o,i=e.selection,u=i.containerId,p=i.getRange(),d=a(t,i);e.selection=null;for(var f=t.get(u),m=f.getPosition(d[0].node.id),g=d.length-1;g>=0;g--)n=d[g],r=n.node,n.isFully?l(t,c.extend({},e,{nodeId:r.id})):s(t,c.extend({},e,{nodeSel:n}));if(d[0].isFully){e.selection=null;for(var v=1;v<d.length;v++)if(n=d[v],!n.isFully){e.selection=t.createSelection({type:"property",path:n.components[0].path,startOffset:0});break}null===e.selection&&(o=t.getSchema().getDefaultTextType(),r={type:o,id:c.uuid(o),content:""},t.create(r),f.show(r.id,m),e.selection=t.createSelection({type:"property",path:[r.id,"content"],startOffset:0}))}else e.selection=t.createSelection({type:"property",path:p.start.path,startOffset:p.start.offset});if(d.length>1){var y=d[0],E=d[d.length-1];if(y.isFully||E.isFully);else{var b=c.last(E.components),x=h(t,c.extend({},e,{selection:e.selection,containerId:u,path:b.path,direction:"left"}));e.selection=x.selection}}return f=t.get(u),0===f.nodes.length&&(o=t.getSchema().getDefaultTextType(),r={type:o,id:c.uuid(o),content:""},t.create(r),f.show(r.id,0),e.selection=t.createSelection({type:"property",path:[r.id,"content"],startOffset:0})),e}function s(t,e){for(var n=e.nodeSel,r=n.components,i=r.length,s=0;i>s;s++){var a=r[s],u=0,l=t.get(a.path).length;0===s&&(u=n.startOffset),s===i-1&&(l=n.endOffset),o(t,c.extend({},e,{selection:t.createSelection({type:"property",path:a.path,startOffset:u,endOffset:l})}))}}function a(t,e){for(var n=[],r={},o=e.getRange(),i=t.get(e.containerId),s=i.getComponentsForRange(o),a=0;a<s.length;a++){var c=s[a],u=t.get(c.rootId);if(!u)throw new Error("Illegal state: expecting a component to have a proper root node id set.");var l,h=u.id;r[h]||(l={node:u,isFully:!0,components:[]},r[h]=l,n.push(l)),l=r[h],l.components.push(c)}var p=s[0],d=s[s.length-1],f=n[0],m=n[n.length-1],g=t.get(p.path).length,v=t.get(d.path).length;return(o.start.offset>0||p.hasPrevious()&&p.getPrevious().rootId===p.rootId)&&(f.isFully=!1,f.startOffset=o.start.offset,1===n.length?f.endOffset=o.end.offset:f.endOffset=g),n.length>1&&(o.end.offset<v||d.hasNext()&&d.getNext().rootId===d.rootId)&&(m.isFully=!1,m.startOffset=0,m.endOffset=o.end.offset),n}var c=n(160),u=n(352),l=n(354),h=n(353),p=n(327);t.exports=r},function(t,e,n){"use strict";var r=n(160),o=n(327),i=n(353),s=function(t,e){var n,s,a=e.selection,c=e.direction,u=a.getRange();if(!a.isCollapsed())throw new Error('Selection must be collapsed for transformation "deleteCharacter"');var l=t.get(u.start.path);if(0===u.start.offset&&"left"===c||u.start.offset===l.length&&"right"===c){var h=i(t,r.extend({},e,{selection:a,containerId:e.containerId,path:u.start.path,direction:c}));a=h.selection}else n="left"===c?u.start.offset-1:u.start.offset,s=n+1,t.update(u.start.path,{"delete":{start:n,end:s}}),o.deletedText(t,u.start.path,n,s),a=t.createSelection({type:"property",path:u.start.path,startOffset:n});return e.selection=a,e};t.exports=s},function(t,e,n){"use strict";function r(t,e,n){if(t){if(t.canMerge(e.type,n.type))return t.getMerger(e.type,n.type);if(e.isInstanceOf("text")&&t.canMerge("textish",n.type))return t.getMerger("textish",n.type);if(n.isInstanceOf("text")&&t.canMerge(e.type,"textish"))return t.getMerger(e.type,"textish")}return e.isInstanceOf("text")&&n.isInstanceOf("text")?c:(console.info("No merge behavior defined for %s <- %s",e.type,n.type),null)}var o=n(160),i=n(327),s=function(t,e){var n=e.containerId,r=e.path,i=e.direction;if(!n||!r||!i)throw new Error("Insufficient arguments! mandatory fields: `containerId`, `path`, `direction`");var s,c=t.get(n),u=c.getComponent(r);return"right"===i&&u.next?(s=a(t,o.extend({},e,{containerId:n,first:u,second:u.next})),e.selection=s.selection):"left"===i&&u.previous&&(s=a(t,o.extend({},e,{containerId:n,first:u.previous,second:u})),e.selection=s.selection),e},a=function(t,e){var n,i=e.first,s=e.second,a=t.get(i.parentNode.id),c=t.get(s.parentNode.id),u=e.editingBehavior;if(a===c){if(u&&u.canMergeComponents(a.type))return n=u.getComponentMerger(a.type),n.call(this,t,o.extend({},e,{node:a,first:i,second:s}))}else if(n=r(e.editingBehavior,a,c))return n.call(this,t,o.extend({},e,{containerId:e.containerId,first:a,second:c}));return e},c=function(t,e){var n,r=e.containerId,o=e.first,s=e.second,a=t.get(r),c=o.getTextPath(),u=o.getText(),l=u.length,h=s.getTextPath(),p=s.getText();return 0===l?(a.hide(c[0]),t["delete"](c[0]),n=t.createSelection({type:"property",path:h,startOffset:0})):(t.update(c,{insert:{offset:l,value:p}}),i.transferAnnotations(t,h,0,c,l),a.hide(h[0]),t["delete"](h[0]),n=t.createSelection({type:"property",path:c,startOffset:l})),e.selection=n,e};t.exports=s},function(t,e,n){"use strict";function r(t,e){if(!e.nodeId)throw new Error("Parameter `nodeId` is mandatory.");var n,r=e.nodeId,i=t.getIndex("annotations").get(r);for(n=0;n<i.length;n++)t["delete"](i[n].id);var s=t.getIndex("container-annotation-anchors").get(r);for(n=0;n<s.length;n++){var a=s[n],c=t.get(a.container);if(t.get(a.id)){var u=c.getComponent(a.path);if(a.isStart)u.hasNext()?(t.set([a.id,"startPath"],u.next.path),t.set([a.id,"startOffset"],0)):t["delete"](a.id);else if(u.hasPrevious()){var l=t.get(u.previous.path).length;t.set([a.id,"endPath"],u.previous.path),t.set([a.id,"endOffset"],l)}else t["delete"](a.id)}}return o.each(t.getIndex("type").get("container"),function(t){t.hide(r)}),t["delete"](r),e}var o=n(160);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=e.selection,r=e.node;if(!e.containerId)throw new Error("containerId is mandatory");if(!e.selection)throw new Error("selection is mandatory");if(!e.node)throw new Error("node is mandatory");var s,a=e.containerId,c=t.get(a);n.isCollapsed()||(s=o(t,e),n=s.selection),s=i(t,e),n=s.selection,t.get(r.id)||(r=t.create(r));var u=c.getComponent(n.start.path),l=c.getPosition(u.rootId);c.show(r.id,l);var h=c.getComponentsForNode(r.id);return h.length>0&&(e.selection=t.createSelection({type:"property",path:h[0].getPath(),startOffset:0})),e}var o=n(351),i=n(350);t.exports=r},function(t,e,n){"use strict";var r=n(160),o=n(351),i=n(327),s=function(t,e){var n=e.selection,s=e.text;if(!n)throw new Error("Argument `selection` is mandatory for transformation `insertText`.");if(!s)throw new Error("Argument `text` is mandatory for transformation `insertText`.");if(!n.isPropertySelection()&&!n.isContainerSelection())throw new Error("Selection must be property or container selection.");var a;n.isCollapsed()||(a=o(t,r.extend({},e,{selection:n,direction:"right"})),n=a.selection);var c=n.getRange();return void 0===t.get(c.start.path)&&t.set(c.start.path,""),t.update(c.start.path,{insert:{offset:c.start.offset,value:s}}),i.insertedText(t,c.start,s.length),e.selection=t.createSelection({type:"property",path:c.start.path,startOffset:c.start.offset+s.length}),e};t.exports=s},function(t,e,n){"use strict";var r=n(160),o=n(327),i=n(351),s=n(356),a=n(350),c=n(326).CLIPBOARD_CONTAINER_ID,u=function(t,e){if(e.selection.isNull())return console.error("Can not paste, without selection."),e;if(e.text&&!e.doc)return s(t,e);var n=e.doc;if(!e.selection.isCollapsed()){var r=i(t,e);e.selection=r.selection}var o=n.get(c).nodes;if(o.length>0){var a=n.get(o[0]);return 1===o.length&&a.isInstanceOf("text")?l(t,e):h(t,e)}return e},l=function(t,e){var n=e.doc,i=e.selection,s=n.get(c).nodes,a=[s[0],"content"],u=n.get(a),l=n.getIndex("annotations").get(a),h=i.start.path,p=i.start.offset;return t.update(h,{insert:{offset:p,value:u}}),o.insertedText(t,i.start,u.length),i=t.createSelection({type:"property",path:i.start.path,startOffset:i.start.offset+u.length}),r.each(l,function(e){var n=e.toJSON();n.path=h.slice(0),n.startOffset+=p,n.endOffset+=p,t.get(n.id)&&(n.id=r.uuid(n.type)),t.create(n)}),e.selection=i,e},h=function(t,e){var n,o=e.doc,i=e.containerId,s=e.selection,u=t.get(i),l=u.getComponent(s.start.path),h=l.parentNode;if(l===r.last(h.components)&&t.get(l.path).length===s.start.offset)n=u.getPosition(s.start.path[0])+1;else{var p=a(t,e);s=p.selection,n=u.getPosition(s.start.path[0])}0>n&&console.error("Could not find insertion position in ContainerNode.");for(var d=o.get(c).nodes,f=o.getIndex("annotations"),m=[],g=0;g<d.length;g++){var v=d[g],y=o.get(v).toJSON();t.get(v)&&(y.id=r.uuid(y.type)),t.create(y),u.show(y.id,n++),m.push(y);for(var E=f.get(v),b=0;b<E.length;b++){var x=E[b].toJSON();y.id!==v&&(x.path[0]=y.id),t.get(x.id)&&(x.id=r.uuid(x.type)),t.create(x)}}if(0===m.length)return e;var N=r.last(m).id,_=r.last(u.getComponentsForNode(N)),C=t.get(_.path).length;return s=t.createSelection({type:"property",path:_.path,startOffset:C}),e.selection=s,e};t.exports=u},function(t,e,n){"use strict";function r(t,e){var n=e.selection;if(!n.isPropertySelection())return console.error("Selection must be a PropertySelection."),e;var r=n.getPath()[0],a=e.data,c=t.get(r),u=n.path;if(!c.isInstanceOf("text"))return console.warn("Trying to use switchTextType on a non text node. Skipping."),e;var l=o.extend({id:o.uuid(a.type),type:a.type,content:c.content},a),h=[l.id,"content"];t.create(l),i.transferAnnotations(t,u,0,h,0);var p=t.get(e.containerId),d=p.getPosition(r);return d>=0&&(p.hide(r),p.show(l.id,d)),s(t,{nodeId:c.id}),e.selection=t.createSelection({type:"property",path:h,startOffset:n.startOffset,endOffset:n.endOffset}),e}var o=n(160),i=n(327),s=n(354);t.exports=r},function(t,e,n){"use strict";var r=n(282),o=(n(160),n(284)),i=n(287),s=function(t){i.call(this),this.doc=t,this.surfaces={},this.focusedSurface=null,this.stack=[],t.connect(this,{"document:changed":this.onDocumentChange},{priority:-1})};s.Prototype=function(){this.dispose=function(){this.doc.disconnect(this),this.surfaces={}},this.createSurface=function(t,e){return new o(this,t,e)},this.registerSurface=function(t){t.connect(this,{"selection:changed":this.onSelectionChanged}),this.surfaces[t.getName()]=t},this.unregisterSurface=function(t){t.disconnect(this),delete this.surfaces[t.getName()],t&&this.focusedSurface===t&&(this.focusedSurface=null)},this.hasSurfaces=function(){return Object.keys(this.surfaces).length>0},this.didFocus=function(t){this.focusedSurface&&t!==this.focusedSurface&&this.focusedSurface.setFocused(!1),this.focusedSurface=t},this.getFocusedSurface=function(){return this.focusedSurface},this.onDocumentChange=function(t,e){if(e.replay){var n=t.after.selection,r=t.after.surfaceId;if(r){var o=this.surfaces[r];o?(this.focusedSurface!==o&&this.didFocus(o),o.setSelection(n)):console.warn("No surface with name",r)}}},this.onSelectionChanged=function(t,e){this.emit("selection:changed",t,e)},this.pushState=function(){var t={surface:this.focusedSurface,selection:null};this.focusedSurface&&(t.selection=this.focusedSurface.getSelection()),this.focusedSurface=null,this.stack.push(t)},this.popState=function(){var t=this.stack.pop();t&&t.surface&&(t.surface.setFocused(!0),t.surface.setSelection(t.selection))}},r.inherit(s,i),t.exports=s},function(t,e,n){"use strict";function r(){}var o=n(285),i=n(293),s=(i.Selection,i.AnnotationUpdates,i.Transformations);r.Prototype=function(){this.isContainerEditor=function(){return!1},this.selectAll=function(t,e){var n=e;if(!n.isNull()&&n.isPropertySelection()){var r=n.start.path,o=t.get(r);return t.createSelection({type:"property",path:r,startOffset:0,endOffset:o.length})}},this.insertText=function(t,e){return e.selection.isPropertySelection()||e.selection.isContainerSelection()?s.insertText(t,e):void 0},this["delete"]=function(t,e){return s.deleteSelection(t,e)},this["break"]=function(t,e){return this.softBreak(t,e)},this.softBreak=function(t,e){return e.text="\n",this.insertText(t,e)},this.copy=function(t,e){var n=s.copySelection(t,{selection:e});return n.doc},this.paste=function(t,e){return e.text?this.insertText(t,e):void 0}},o.initClass(r),t.exports=r},function(t,e,n){"use strict";function r(t){if(!o.isString(t))throw new Error("Illegal argument: Expecting container id.");a.call(this),this.containerId=t,this.editingBehavior=new c}var o=n(160),i=n(282),s=n(293),a=n(360),c=n(362),u=(s.AnnotationUpdates,s.Transformations);r.Prototype=function(){this.extendBehavior=function(t){t.register(this.editingBehavior)},this.isContainerEditor=function(){return!0},this.getContainerId=function(){return this.containerId},this["delete"]=function(t,e){return this._prepareArgs(e),u.deleteSelection(t,e)},this["break"]=function(t,e){return this._prepareArgs(e),e.selection.isPropertySelection()||e.selection.isContainerSelection()?u.breakNode(t,e):void 0},this.insertNode=function(t,e){return this._prepareArgs(e),e.selection.isPropertySelection()||e.selection.isContainerSelection()?u.insertNode(t,e):void 0},this.switchType=function(t,e){return this._prepareArgs(e),e.selection.isPropertySelection()?u.switchTextType(t,e):void 0},this.selectAll=function(t){var e=t.get(this.containerId),n=e.getFirstComponent(),r=e.getLastComponent(),o=t.get(r.path);return t.createSelection({type:"container",containerId:this.containerId,startPath:n.path,startOffset:0,endPath:r.path,endOffset:o.length})},this.paste=function(t,e){return this._prepareArgs(e),e.selection.isPropertySelection()||e.selection.isContainerSelection()?u.paste(t,e):void 0},this._prepareArgs=function(t){t.containerId=this.containerId,t.editingBehavior=this.editingBehavior}},i.inherit(r,a),t.exports=r},function(t,e,n){function r(){this._merge={},this._mergeComponents={},this._break={}}var o=n(282);r.Prototype=function(){this.defineMerge=function(t,e,n){return this._merge[t]||(this._merge[t]={}),this._merge[t][e]=n,this},this.canMerge=function(t,e){return this._merge[t]&&this._merge[t][e]},this.getMerger=function(t,e){return this._merge[t][e]},this.defineComponentMerge=function(t,e){this._mergeComponents[t]=e},this.canMergeComponents=function(t){return this._mergeComponents[t]},this.getComponentMerger=function(t){return this._mergeComponents[t]},this.defineBreak=function(t,e){return this._break[t]=e,this},this.canBreak=function(t){return this._break[t]},this.getBreaker=function(t){return this._break[t]}},o.initClass(r),t.exports=r},function(t,e,n){"use strict";var r=n(160),o=n(282),i=function(t,e,n){this.surfaceManager=t,this.htmlImporter=e,this.htmlExporter=n,this._contentDoc=null,this._contentText="",this._onKeyDown=r.bind(this.onKeyDown,this),this._onCopy=r.bind(this.onCopy,this),this._onCut=r.bind(this.onCut,this),this.isIe=-1!=window.navigator.userAgent.toLowerCase().indexOf("msie")||-1!=window.navigator.userAgent.toLowerCase().indexOf("trident"),this.isFF=window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,this.isIe?(this._beforePasteShim=r.bind(this.beforePasteShim,this),this._pasteShim=r.bind(this.pasteShim,this)):this._onPaste=r.bind(this.onPaste,this)};i.Prototype=function(){this.getSurface=function(){return this.surfaceManager.getFocusedSurface()},this.attach=function(t){this.el=window.document.createElement("div"),this.$el=$(this.el),this.$el.prop("contentEditable","true").addClass("clipboard"),t.appendChild(this.el),t.addEventListener("keydown",this._onKeyDown,!1),t.addEventListener("copy",this._onCopy,!1),t.addEventListener("cut",this._onCut,!1),this.isIe?(t.addEventListener("beforepaste",this._beforePasteShim,!1),t.addEventListener("paste",this._pasteShim,!1)):t.addEventListener("paste",this._onPaste,!1)},this.detach=function(t){this.$el.remove(),t.removeEventListener("keydown",this._onKeyDown,!1),t.removeEventListener("copy",this._onCopy,!1),t.removeEventListener("cut",this._onCut,!1),this.isIe?(t.removeEventListener("beforepaste",this._beforePasteShim,!1),t.removeEventListener("paste",this._pasteShim,!1)):t.removeEventListener("paste",this._onPaste,!1)},this.onCopy=function(t){if(this._copySelection(),t.clipboardData&&this._contentDoc){var e=this.htmlExporter.convert(this._contentDoc);this._contentDoc.__id__=r.uuid();var n=this._contentDoc.toJSON();n.__id__=this._contentDoc.__id__,t.clipboardData.setData("application/substance",JSON.stringify(n)),t.clipboardData.setData("text/plain",$(e).text()),t.clipboardData.setData("text/html",e),t.preventDefault()}},this.onCut=function(t){t.preventDefault(),this.onCopy(t);var e=this.getSurface();if(e){var n=e.getEditor();e.transaction(function(t,e){return n["delete"](t,e)})}},this.pasteSubstanceData=function(t){var e=this.getSurface();if(e){var n=e.getEditor(),r=e.getDocument(),o=r.newInstance();o._setForClipboard(!0),o.loadSeed(JSON.parse(t));var i="",s=o.get("clipboard_content");if(s.nodes.length>0){var a=s.getFirstComponent(),c=s.getLastComponent(),u=o.get(c.path).length,l=r.createSelection({type:"container",containerId:"clipboard_content",startPath:a.path,startOffset:0,endPath:c.path,endOffset:u});i=o.getTextForSelection(l)}e.transaction(function(t,e){return e.text=i,e.doc=o,n.paste(t,e)})}},this.pasteHtml=function(t){var e=this.getSurface();if(e){var n=e.getEditor(),r=e.getLogger(),o=e.getDocument();try{var i=o.newInstance();i._setForClipboard(!0),i.get("clipboard_content")||i.create({id:"clipboard_content",type:"container",nodes:[]}),this.htmlImporter.convert($(t),i),e.transaction(function(e,r){return r.text=t.body.textContent,r.doc=i,n.paste(e,r)})}catch(s){console.error(s),r.error(s)}}},this.onPaste=function(t){var e=t.clipboardData,n=this.getSurface();if(n){for(var o=n.getEditor(),i=(n.getLogger(),{}),s=0;s<e.types.length;s++)i[e.types[s]]=!0;if(this.isFF&&!i["application/substance"]&&!i["text/html"])return this.beforePasteShim(),n.rerenderSelection(),void this.pasteShim();if(t.preventDefault(),t.stopPropagation(),i["application/substance"])return this.pasteSubstanceData(e.getData("application/substance"));if(i["text/html"]){var a=e.getData("text/html"),c=(new window.DOMParser).parseFromString(a,"text/html");if(this.htmlImporter.checkQuality($(c)))return this.pasteHtml(c)}var u=e.getData("text/plain");if(n.getEditor().isContainerEditor()){var l=n.getDocument(),h=l.getSchema().getDefaultTextType();n.transaction(function(t,e){var n=u.split(/\s*\n\s*\n/),i=l.newInstance();i._setForClipboard(!0);for(var s=i.create({type:"container",id:"clipboard_content",nodes:[]}),a=0;a<n.length;a++){var c=i.create({id:r.uuid(h),type:h,content:n[a]});s.show(c.id)}return e.doc=i,o.paste(t,e)})}else n.transaction(function(t,e){return e.text=u.split("").join(""),o.insertText(t,e)})}},this.beforePasteShim=function(){var t=this.getSurface();if(t){this.$el.focus();var e=document.createRange();e.selectNodeContents(this.el);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}},this.pasteShim=function(){this.$el.empty();var t=this,e=this.getSurface();if(e){var n=e.getSelection();setTimeout(function(){e.selection=n;var r=t.$el.html();r=["<html><head></head><body>",r,"</body></html>"].join(""),t.$el.empty();var o=(new window.DOMParser).parseFromString(r,"text/html");return t.pasteHtml(o)},0)}},this.onKeyDown=function(t){88===t.keyCode&&(t.metaKey||t.ctrlKey)||(86===t.keyCode&&(t.metaKey||t.ctrlKey)?this.handlePaste():67===t.keyCode&&(t.metaKey||t.ctrlKey))},this.handleCut=function(){var t=window.getSelection(),e=t.getRangeAt(0),n=e.cloneContents();this.el.innerHTML="",this.el.appendChild(n),this._copySelection();var r=this.getSurface();if(r){try{r.getEditor()["delete"]()}catch(o){return console.error(o),void this.logger.error(o)}var i=window.document.createRange();i.selectNodeContents(this.el),t.removeAllRanges(),t.addRange(i),window.setTimeout(function(){r.rerenderDomSelection()},10)}},this.handlePaste=function(){},this.handleCopy=function(){},this._copySelection=function(){var t=window.getSelection();this._contentText="",this._contentDoc=null;var e=this.getSurface(),n=e.getSelection(),r=e.getEditor(),o=e.getDocument();if(t.rangeCount>0&&!n.isCollapsed()){var i=t.getRangeAt(0);this._contentText=i.toString(),this._contentDoc=r.copy(o,n)}else this._contentDoc=null,this._contentText=""}},o.initClass(i),t.exports=i},function(t,e,n){"use strict";function r(t){this.props=t,this.doc=t.doc,this.node=t.node}var o=n(285);r.Prototype=function(){this.tagName="div",this.createElement=function(){var t=document.createElement(this.getTagName()),e=this.getClassNames();return $(t).addClass(e),t.dataset.id=this.node.id,t},this.getTagName=function(){return this.node.constructor["static"].tagName||this.tagName},this.getClassNames=function(){return[]},this.render=function(){var t=this.createElement(),e=this.props.children;if(e)for(var n=0;n<e.length;n++){var i=e[n];if(o.isString(i))t.appendChild(document.createTextNode(i));else if(i instanceof r){var s=i.render();t.appendChild(s)}else i instanceof window.Node&&t.appendChild(i)}return t}},o.initClass(r),t.exports=r},function(t,e,n){"use strict";var r=n(364),o=r.extend({name:"annotation",tagName:"span",getClassNames:function(){var t=this.node.getClassNames();return this.props.classNames&&(t+=" "+this.props.classNames.join(" ")),t.replace(/_/g,"-")}});t.exports=o},function(t,e,n){function r(){}var o=n(285),i=n(293),s=n(364),a=n(365),c=i.Annotator;r.Prototype=function(){this.getSurface=function(){throw new Error("This is abstract")},this.getDocument=function(){var t=this.getSurface();return t?t.getDocument():null},this.getPath=function(){throw new Error("This is abstract")},this.getElement=function(){throw new Error("This is abstract")},this.getAnnotations=function(){var t=this.getDocument(),e=this.getPath();return t.getIndex("annotations").get(e)},this.attach=function(){var t=this.getDocument(),e=this.getPath();t.getEventProxy("path").add(e,this,this.propertyDidChange)},this.detach=function(){var t=this.getDocument(),e=this.getPath();t.getEventProxy("path").remove(e,this)},this.renderContent=function(){var t=this.getDocument(),e=this.getElement();if(e){var n=new r.ContentView({doc:t,children:this.renderChildren()}),o=n.render();o.appendChild(document.createElement("br")),e.innerHTML="",e.appendChild(o)}},this.renderChildren=function(){var t=this.getDocument(),e=this.getPath(),n=t.get(e)||"",r=this.getAnnotations(),o=new c;o.onText=function(t,e){t.children.push(e)},o.onEnter=function(e){var n=e.node,r=a,o=[];return{ViewClass:r,props:{doc:t,node:n,classNames:o},children:[]}},o.onExit=function(t,e,n){var r=e.props;r.children=e.children;var o=new e.ViewClass(r);n.children.push(o)};var i={children:[]};return o.start(i,n,r),i.children},this.propertyDidChange=function(t,e){if(e.source===this.getElement()&&(console.log("Skipping update..."),e.surface&&e.typing)){if(!this._debouncedRerender){var n=200,r=this;this._debouncedRerender=o.debounce(function(){var t=this.getDocument();t&&(r.renderContent(),e.surface.rerenderDomSelection())},n)}return void this._debouncedRerender()}this.renderContent(),e.source===this.getElement()&&e.surface&&setTimeout(function(){e.surface.rerenderDomSelection()})}},o.initClass(r),r.ContentView=s.extend({createElement:function(){return document.createDocumentFragment()}}),t.exports=r},function(t,e,n){function r(t){o.EventEmitter.call(this),this.context=t,this.state={disabled:!0,active:!1}}var o=n(285);r.Prototype=function(){this.needsEnabledSurface=!0,this.getName=function(){return this.constructor["static"].name},this.getSurface=function(){return this.surface},this.getDocument=function(){var t=this.getSurface();return t?t.getDocument():void 0},this.getContainer=function(){var t=this.getSurface();return t?t.getContainer():void 0},this.setToolState=function(t){var e=this.state;this.state=t,this.emit("toolstate:changed",t,this,e)},this.getToolState=function(){return this.state},this.isEnabled=function(){return!this.state.disabled},this.isDisabled=function(){return this.state.disabled},this.setEnabled=function(){this.setToolState({disabled:!1,active:!1})},this.setDisabled=function(){this.setToolState({disabled:!0,active:!1})},this.disableTool=function(){console.error("DEPRECATED: use tool.setDisabled()"),this.setDisabled()},this.setSelected=function(){this.setToolState({disabled:!1,active:!0})},this.update=function(t,e){return this.surface=t,this.needsEnabledSurface&&!t.isEnabled()?this.setDisabled():void 0},this.updateToolState=function(t,e){return this.update(e,t)}},o.inherit(r,o.EventEmitter),t.exports=r},function(t,e,n){function r(t){s.call(this,t)}var o=n(160),i=n(282),s=n(367);r.Prototype=function(){this.disabledModes=[],this.splitContainerSelections=!1,this.getAnnotationType=function(){if(this.constructor["static"].name)return this.constructor["static"].name;throw new Error("Contract: AnnotationTool.static.name should be associated to a document annotation type.")},this.afterCreate=function(){},this.afterFusion=function(){},this.afterRemove=function(){},this.afterTruncate=function(){},this.afterExpand=function(){},this.canCreate=function(t,e){return 0===t.length&&!e.isCollapsed()},this.canFusion=function(t,e){return t.length>=2&&!e.isCollapsed()},this.canRemove=function(t,e){if(1!==t.length)return!1;var n=t[0].getSelection();return e.isInsideOf(n)},this.canExpand=function(t,e){if(1!==t.length)return!1;var n=t[0].getSelection();return e.overlaps(n)&&!e.isInsideOf(n)},this.canTruncate=function(t,e){if(1!==t.length)return!1;var n=t[0].getSelection();return(e.isLeftAlignedWith(n)||e.isRightAlignedWith(n))&&!e.equals(n)&&!e.isCollapsed()},this.update=function(t,e){if(this.surface=t,this.needsEnabledSurface&&!t.isEnabled()||e.isNull())return this.setDisabled();var n,r=this.getDocument(),i=this.getAnnotationType(),s=this.isContainerAnno();if(s)n=r.getContainerAnnotationsForSelection(e,this.getContainer(),{type:i});else{if(!e.isPropertySelection()&&!this.splitContainerSelections)return this.setDisabled();n=r.getAnnotationsForSelection(e,{type:i})}var a={surface:t,disabled:!1,active:!1,mode:null,sel:e,annos:n};return this.canCreate(n,e)?a.mode="create":this.canFusion(n,e)?a.mode="fusion":this.canTruncate(n,e)?(a.active=!0,a.mode="truncate"):this.canRemove(n,e)?(a.active=!0,a.mode="remove"):this.canExpand(n,e)&&(a.mode="expand"),!a.mode||o.includes(this.disabledModes,a.mode)?this.setDisabled():void this.setToolState(a)},this.performAction=function(){var t=this.getToolState();if(t.sel&&t.mode&&!t.sel.isNull())switch(t.mode){case"create":return this.handleCreate(t);case"fusion":return this.handleFusion(t);case"remove":return this.handleRemove(t);case"truncate":return this.handleTruncate(t);case"expand":return this.handleExpand(t)}},this.handleCreate=function(t){var e,n=t.sel;n.isNull()||(this.surface.transaction({selection:n},function(t,r){return e=this.createAnnotationForSelection(t,n),r},this),this.afterCreate(e))},this.getAnnotationData=function(){return{}},this.isContainerAnno=function(){var t=this.getDocument(),e=t.getSchema();return e.isInstanceOf(this.getAnnotationType(),"container_annotation")},this._createPropertyAnnotations=function(t,e){var n,r=this.getAnnotationType();e.isPropertySelection()?n=[]:e.isContainerSelection()&&(n=e.splitIntoPropertySelections());for(var i=0;i<n.length;i++){var s={id:o.uuid(r),type:r};o.extend(s,this.getAnnotationData()),s.path=n[i].getPath(),s.startOffset=n[i].getStartOffset(),s.endOffset=n[i].getEndOffset(),t.create(s)}},this.createAnnotationForSelection=function(t,e){if(this.splitContainerSelections&&e.isContainerSelection())return this._createPropertyAnnotations(t,e);var n=this.getAnnotationType(),r={id:o.uuid(n),type:n};if(o.extend(r,this.getAnnotationData()),this.isContainerAnno()){r.startPath=e.start.path,r.endPath=e.end.path;var i=this.surface.getEditor().getContainerId();if(!i)throw"Container could not be determined";r.container=i}else{if(!e.isPropertySelection())throw new Error("Illegal state: can not apply ContainerSelection");r.path=e.getPath()}return r.startOffset=e.getStartOffset(),r.endOffset=e.getEndOffset(),t.create(r)},this.handleFusion=function(t){var e=t.sel;this.surface.transaction({selection:e},function(n,r){return o.each(t.annos,function(t){e=e.expand(t.getSelection())}),o.each(t.annos,function(t){n["delete"](t.id)}),this.createAnnotationForSelection(n,e),this.afterFusion(),r.selection=e,r},this)},this.handleRemove=function(t){var e=t.sel;this.surface.transaction({selection:e},function(e,n){var r=t.annos[0].id;return e["delete"](r),this.afterRemove(),n},this)},this.handleTruncate=function(t){var e=t.sel;this.surface.transaction({selection:e},function(n,r){var o=t.annos[0],i=o.getSelection(),s=i.truncate(e);return o.updateRange(n,s),this.afterTruncate(),r},this)},this.handleExpand=function(t){var e=t.sel;this.surface.transaction({selection:e},function(n,r){var o=t.annos[0],i=o.getSelection(),s=i.expand(e);return o.updateRange(n,s),this.afterExpand(),r},this)}},i.inherit(r,s),t.exports=r},function(t,e,n){function r(){i.call(this)}var o=n(285),i=n(367);r.Prototype=function(){this.getNodeType=function(){if(this.constructor["static"].name)return this.constructor["static"].name;throw new Error("Contract: SwitchTypeTool.static.name should be associated to a document annotation type.")},this.getData=function(){return{}},this.matchNode=function(t){return t.type===this.getNodeType()},this.update=function(t,e){if(this.surface=t,!t.isEnabled()||e.isNull()||e.isContainerSelection()||!t.getEditor().isContainerEditor())return this.setDisabled();var n=t.getEditor().getContainer(),r=n.getNodeForComponentPath(e.start.path);return this.matchNode(r)?this.setToolState({enabled:!0,selected:!0}):r.isInstanceOf("text")?this.setToolState({enabled:!0,selected:!0,sel:e,node:r,mode:"switch"}):void 0},this.performAction=function(){var t=this.getToolState();"switch"===t.mode&&this.surface.getEditor().switchType(t.sel,this.getNodeType(),this.getData())}},o.inherit(r,i),t.exports=r},function(t,e,n){"use strict";var r=n(285),o=(r._,function(){r.Registry.call(this)});o.Prototype=function(){this.dispose=function(){this.each(function(t){t.dispose&&t.dispose()}),this.clear()}},r.inherit(o,r.Registry),t.exports=o},function(t,e,n){
"use strict";function r(){}var o=n(285);r.Prototype=function(){this.getPanelOffsetForElement=function(t){var e=$(t).position().top;return e},this.scrollToNode=function(t){var e=this.getScrollableContainer(),n=$(e).find("*[data-id="+t+"]")[0];n?$(e).scrollTop(this.getPanelOffsetForElement(n)):console.warn(t,"not found in scrollable container")}},o.initClass(r),t.exports=r},function(t,e,n){t.exports={Undo:n(373),Redo:n(374),Emphasis:n(375),Strong:n(376),Link:n(377),SwitchTextType:n(379),InsertRows:n(380),DeleteRows:n(381),InsertColumns:n(382),DeleteColumns:n(383)}},function(t,e,n){var r=n(367),o=r.extend({name:"undo",update:function(t){this.surface=t;var e=t.getDocument();t.isEnabled()&&0!==e.done.length?this.setEnabled():this.setDisabled()},performAction:function(){var t=this.getDocument();this.isEnabled()&&t.done.length>0&&t.undo()}});t.exports=o},function(t,e,n){var r=n(367),o=r.extend({name:"redo",update:function(t){this.surface=t;var e=t.getDocument();t.isEnabled()&&0!==e.undone.length?this.setEnabled():this.setDisabled()},performAction:function(){var t=this.getDocument();this.isEnabled()&&t.undone.length>0&&t.redo()}});t.exports=o},function(t,e,n){"use strict";var r=n(368),o=r.extend({name:"emphasis"});t.exports=o},function(t,e,n){"use strict";var r=n(368),o=r.extend({name:"strong"});t.exports=o},function(t,e,n){"use strict";var r=n(378),o=n(368),i=o.extend({name:"link",getAnnotationData:function(){return{url:"",title:""}},afterCreate:function(t){var e=this.getToolState(),n=r.extend({},e);n.mode="edit",n.showPrompt=!0,this.setToolState(n)},update:function(t,e){if(this.surface=t,!t.isEnabled()||e.isNull()||e.isContainerSelection())return this.setDisabled();var n=this.getDocument(),r=n.getAnnotationsForSelection(e,{type:"link"}),o=(this.getToolState(),{surface:t,disabled:!1,active:!1,mode:null,sel:e,annos:r});if(this.canCreate(r,e))o.mode="create";else if(this.canTruncate(r,e))o.mode="truncate",o.active=!0;else if(this.canExpand(r,e))o.mode="expand";else{if(1!==r.length)return this.setDisabled();o.mode="edit",o.linkId=r[0].id,o.active=!0}this.setToolState(o)},updateLink:function(t){var e=(this.getDocument(),this.getLink());this.surface.transaction(function(n){n.set([e.id,"url"],t.url),n.set([e.id,"title"],t.title)})},deleteLink:function(){var t=(this.getDocument(),this.getLink());this.surface.transaction(function(e){e["delete"](t.id)})},getLink:function(){return this.getDocument().get(this.state.linkId)},performAction:function(){var t=this.getToolState(),e=r.extend({},t);"edit"===t.mode?(e.showPrompt=!t.showPrompt,this.setToolState(e)):o.prototype.performAction.call(this)}});t.exports=i},function(t,e,n){t.exports=n(160)},function(t,e,n){"use strict";var r=n(367),o=["paragraph","heading","blockquote","codeblock"],i={paragraph:{label:"Paragraph",data:{type:"paragraph"}},heading1:{label:"Heading 1",data:{type:"heading",level:1}},heading2:{label:"Heading 2",data:{type:"heading",level:2}},heading3:{label:"Heading 3",data:{type:"heading",level:3}},blockquote:{label:"Blockquote",data:{type:"blockquote"}},codeblock:{label:"Codeblock",data:{type:"codeblock"}}},s=r.extend({name:"text",update:function(t,e){if(this.surface=t,!t.isEnabled()||e.isNull())return this.setDisabled();if(e.isTableSelection())return this.setToolState({disabled:!0,currentContext:"table"});if(e.isContainerSelection())return this.setToolState({disabled:!0,currentContext:"container"});var n=this.getDocument(),r=e.getPath(),o=n.get(r[0]),i=this.getTextType(o),s=o.getRoot(),a=this.getContext(s,r),c={surface:t,sel:e,disabled:!i,currentTextType:i,currentContext:a};this.setToolState(c)},getAvailableTextTypes:function(){return i},isTextType:function(t){return o.indexOf(t)>=0},getTextType:function(t){if(this.isTextType(t.type)){var e=t.type;return"heading"===e&&(e+=t.level),e}},switchTextType:function(t){var e=this.getToolState();if(!this.isDisabled()){var n=i[t],r=e.surface,o=r.getEditor();r.transaction(function(t,e){return e.data=n.data,o.switchType(t,e)})}},getContext:function(t,e){return t.id===e[0]?e[1]:t.type}});t.exports=s},function(t,e,n){"use strict";var r=n(367),o=r.extend({name:"insert_rows",update:function(t,e){return this.surface=t,t.isEnabled()&&!e.isNull()&&e.isTableSelection()?void this.setToolState({surface:t,sel:e,disabled:!1}):this.setDisabled()},performAction:function(t){this.surface.transaction(function(e,n){return console.log("TODO: insert rows",t),n})}});t.exports=o},function(t,e,n){"use strict";var r=n(367),o=r.extend({name:"delete_rows",update:function(t,e){return this.surface=t,t.isEnabled()&&!e.isNull()&&e.isTableSelection()?void this.setToolState({surface:t,sel:e,disabled:!1}):this.setDisabled()},performAction:function(t){this.surface.transaction(function(e,n){return console.log("TODO: delete rows",t),n})}});t.exports=o},function(t,e,n){"use strict";var r=n(367),o=r.extend({name:"insert_columns",update:function(t,e){return this.surface=t,t.isEnabled()&&!e.isNull()&&e.isTableSelection()?void this.setToolState({surface:t,sel:e,disabled:!1}):this.setDisabled()},performAction:function(t){this.surface.transaction(function(e,n){return console.log("TODO: insert columns",t),n})}});t.exports=o},function(t,e,n){"use strict";var r=n(367),o=r.extend({name:"delete_columns",update:function(t,e){return this.surface=t,t.isEnabled()&&!e.isNull()&&e.isTableSelection()?void this.setToolState({surface:t,sel:e,disabled:!1}):this.setDisabled()},performAction:function(t){this.surface.transaction(function(e,n){return console.log("TODO: delete columns",t),n})}});t.exports=o},function(t,e,n){"use strict";function r(){i.apply(this,arguments),this._initialize()}var o=n(282),i=n(281),s=i.$$,a=n(385),c=n(283);r.Prototype=function(){this.getChildContext=function(){return{surface:this.surface}},this.render=function(){var t=s("div").addClass("container-node "+this.props.node.id).attr({spellCheck:!1,"data-id":this.props.node.id});return t.append(this.renderComponents()),t},this.renderComponents=function(){var t=this.props.doc,e=this.props.node,n=this.context.componentRegistry;return e.nodes.map(function(e){var r=t.get(e),o=n.get(r.type);return o||(console.error("Could not resolve a component for type: "+r.type),o=a),s(o).key(r.id).addProps({doc:t,node:r})})},this.willReceiveProps=function(t){this.props.doc&&this.props.doc!==t.doc&&this.surface.detach()},this.didReceiveProps=function(){this._initialize()},this.didMount=function(){this.props.doc.connect(this,{"document:changed":this.onDocumentChange}),this.surface.attach(this.$el[0])},this.willUnmount=function(){this.props.doc.disconnect(this),this.surface.detach()},this.onDocumentChange=function(t){t.isAffected([this.props.node.id,"nodes"])&&this.rerender()},this._initialize=function(){var t=this.props.doc,e=this.props.editor,n={name:this.props.node.id,logger:this.context.notifications};this.surface=new c(this.context.surfaceManager,t,e,n)}},o.inherit(r,i),t.exports=r},function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=n(282),i=n(281),s=i.$$;r.Prototype=function(){this.render=function(){return s("pre").addClass("content-node unsupported").attr({"data-id":this.props.node.id,contentEditable:!1}).append(JSON.stringify(this.props.node.properties,null,2))}},o.inherit(r,i),t.exports=r},function(t,e,n){"use strict";function r(t){r["super"].call(this,{schema:t})}function o(t){o["super"].call(this,{schema:t})}var i=n(282),s=n(293),a=s.HtmlImporter,c=s.HtmlExporter,u=[s.Paragraph,s.Codeblock,s.Blockquote,s.Heading,s.List,s.ListItem,s.Emphasis,s.Strong,s.Link],l=new s.Schema("substance-article","1.0.0");l.getDefaultTextType=function(){return"paragraph"},l.addNodes(u),r.Prototype=function(){this.convert=function(t,e){this.initialize(e,t),this.convertContainer(t,"body"),this.finish()}},i.inherit(r,a),o.Prototype=function(){this.convert=function(t,e){this.initialize(t,e);var n=t.get("body"),r=this.convertContainer(n),o=$("<div>");return o.append(r),o.html()}},i.inherit(o,c);var h=function(t){s.call(this,t||l)};h.Prototype=function(){this.initialize=function(){s.prototype.initialize.apply(this,arguments),this.create({type:"container",id:"body",nodes:[]})},this.toHtml=function(){return new o(this.schema).convert(this)},this.loadHtml=function(t){this.clear(),this.FORCE_TRANSACTIONS=!1;var e=$("<div>"+t+"</div>");new r(this.schema).convert(e,this),this.documentDidLoad()}},i.inherit(h,s),h.schema=l,h.Importer=r,t.exports=h},function(t,e,n){"use strict";var r=n(281),o=r.$$,i=n(388),s=n(389),a=n(390),c=n(391),u=r.extend({displayName:"DefaultToolbar",render:function(){var t=o("div").addClass("toolbar");return t.append(o(s,{tool:"text",title:"Switch text"}),o(i,{tool:"undo",title:"Undo"}).append(o(c,{icon:"fa-undo"})),o(i,{tool:"redo",title:"Redo"}).append(o(c,{icon:"fa-repeat"})),o(i).addProps({tool:"emphasis",title:"Emphasis"}).append(o(c).addProps({icon:"fa-italic"})),o(i).addProps({tool:"strong",title:"Strong"}).append(o(c).addProps({icon:"fa-bold"})),o(a).addProps({tool:"link",title:"Link",children:[o(c).addProps({icon:"fa-link"})]}).addClass("tool")),t}});t.exports=u},function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=n(282),i=n(281),s=i.$$,a=n(367),c=n(160);r.Prototype=function(){this.didInitialize=function(){this._initializeTool()},this.getInitialState=function(){return this.tool.state},this.render=function(){var t=this.props.title;this.state.mode&&(t=[c.capitalize(this.state.mode),t].join(" "));var e=s("button").attr("title",t).addClass("button tool").on("mousedown",this.onMouseDown).on("click",this.onClick);if(this.state.disabled&&e.addClass("disabled"),this.state.active&&e.addClass("active"),this.state.mode&&e.addClass(this.state.mode),e.append(this.props.children),this.editPrompt){var n=s(this.editPrompt);e.append(n)}return e},this.didMount=function(){var t=this.props.tool;if(!t)throw new Error('Prop "tool" is mandatory.');this.tool=this.context.toolRegistry.get(t),this.tool||(console.warn("No tool registered with name %s",t),this.tool=new r.StubTool(t)),this.state=this.tool.state,this.tool.connect(this,{"toolstate:changed":this.onToolstateChanged})},this._initializeTool=function(){var t=this.props.tool;if(!t)throw new Error('Prop "tool" is mandatory.');this.tool=this.context.toolRegistry.get(t),this.tool||(console.warn("No tool registered with name %s",t),this.tool=new r.StubTool(t)),this.tool.connect(this,{"toolstate:changed":this.onToolstateChanged})},this.onToolstateChanged=function(t){this.setState(t)},this.onClick=function(t){t.preventDefault()},this.onMouseDown=function(t){t.preventDefault(),this.state.disabled||this.tool.performAction()}},o.inherit(r,i),r.StubTool=a.extend({init:function(t){this.name=t},performAction:function(){console.log("Stub-Tool %s",this.name)}}),t.exports=r},function(t,e,n){"use strict";function r(){s.apply(this,arguments)}var o=n(160),i=n(282),s=n(281),a=s.$$;r.Prototype=function(){this.didInitialize=function(){this._initializeTool()},this.getInitialState=function(){return this.tool.state},this.render=function(){var t=this.tool.getAvailableTextTypes(),e=a("div").addClass("text-tool-component select");this.state.open&&e.addClass("open"),this.state.disabled&&e.addClass("disabled");var n,r=t[this.state.currentTextType];n=r?t[this.state.currentTextType].label:this.state.currentContext?this.state.currentContext:"No selection",e.append(a("button").addClass("toggle small").attr("href","#").attr("title",this.props.title).append(n).on("mousedown",this.toggleAvailableTextTypes).on("click",this.handleClick));var i=a("div").addClass("options shadow border fill-white");return o.each(t,function(t,e){var n=a("button").key(e).addClass("option "+e).attr("data-type",e).append(t.label).on("click",this.handleClick).on("mousedown",this.handleSwitchTextType);i.append(n)},this),e.append(i),e},this.willReceiveProps=function(t){this.tool&&t.tool!==this.tool.getName()&&this.tool.disconnect(this)},this.didReceiveProps=function(){this._initializeTool()},this.willUnmount=function(){this.tool.disconnect(this)},this._initializeTool=function(){var t=this.props.tool;if(!t)throw new Error('Prop "tool" is mandatory.');this.tool=this.context.toolRegistry.get(t),this.tool||console.error("No tool registered with name %s",t),this.tool.connect(this,{"toolstate:changed":this.onToolstateChanged})},this.onToolstateChanged=function(t){this.setState(t)},this.handleClick=function(t){t.preventDefault(),t.stopPropagation()},this.handleSwitchTextType=function(t){t.preventDefault(),this.tool.switchTextType(t.currentTarget.dataset.type)},this.toggleAvailableTextTypes=function(t){t.preventDefault(),t.stopPropagation(),this.tool.isDisabled()||this.toggleDropdown()},this.toggleDropdown=function(){this.extendState({open:!this.state.open})}},i.inherit(r,s),t.exports=r},function(t,e,n){"use strict";var r=n(281),o=n(160),i=r.$$,s=n(388),a=r.extend({onSave:function(t){t.preventDefault(),this.props.tool.updateLink({url:this.refs.url.$el.val()})},onDelete:function(t){t.preventDefault(),this.props.tool.deleteLink()},render:function(){var t=this.props.link,e=i("div").addClass("prompt shadow border fill-white");return e.append([i("div").addClass("prompt-title").append("Hyperlink"),i("input").attr({type:"text",placeholder:"http://your-website.com",value:t.url}).key("url").on("change",this.onSave),i("a").attr({href:"#"}).addClass("delete-link").append("Delete").on("click",this.onDelete)]),e}}),c=s.extend({render:function(){var t=this.props.title;this.state.mode&&(t=[o.capitalize(this.state.mode),t].join(" "));var e=i("div").addClass("link");this.state.disabled&&e.addClass("disabled"),"edit"===this.state.mode&&e.addClass("active"),this.state.mode&&e.addClass(this.state.mode);var n=i("button").addClass("button").attr("title",t).on("mousedown",this.onMouseDown).on("click",this.onClick);if(n.append(this.props.children),e.append(n),"edit"===this.state.mode&&this.state.showPrompt){var r=this.tool.getLink(),s=i(a,{link:r,tool:this.tool});e.append(s)}return e}});t.exports=c},function(t,e,n){"use strict";function r(){i.Container.apply(this,arguments)}var o=n(282),i=n(281),s=i.$$;r.Prototype=function(){this.render=function(){return s("i").addClass("fa "+this.props.icon)}},o.inherit(r,i.Container),t.exports=r},function(t,e,n){function r(){}var o=n(282),i=n(327);r.Prototype=function(){this.register=function(t){t.defineBreak("list-item",this.breakList).defineMerge("list","list",this.mergeListWithList).defineMerge("list","textish",this.mergeListWithTextish).defineMerge("textish","list",this.mergeTextishWithList).defineComponentMerge("list",this.mergeListItems)},this.breakList=function(t,e){return console.log("TODO: implement break list"),e},this.mergeListWithList=function(t,e){return console.log("TODO: implement merge list-list"),e},this.mergeListWithTextish=function(t,e){return console.log("TODO: implement merge list-text"),e},this.mergeTextishWithList=function(t,e){return console.log("TODO: implement merge text-list"),e},this.mergeListItems=function(t,e){var n,r=e.node,o=e.first,s=e.second,a=o.getPath(),c=s.getPath(),u=t.get(o.getPath());if(0===u.length)r.removeItem(o[0]),t["delete"](a[0]),n=t.createSelection({type:"property",path:c,startOffset:0});else{var l=t.get(s.getPath());t.update(a,{insert:{offset:u.length,value:l}}),i.transferAnnotations(t,c,0,a,u.length),r.removeItem(c[0]),t["delete"](c[0]),n=t.createSelection({type:"property",path:o.path,startOffset:u.length})}return e.selection=n,e}},o.initClass(r),t.exports=r},function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=n(282),i=n(281),s=i.$$,a=n(394);r.Prototype=function(){this.getClassNames=function(){return"content-node paragraph"},this.render=function(){return s("div").addClass(this.getClassNames()).attr("data-id",this.props.node.id).append(s(a).addProps({doc:this.props.doc,path:[this.props.node.id,"content"]}))}},o.inherit(r,i),t.exports=r},function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=n(282),i=n(281),s=i.$$,a=n(330),c=n(395);r.Prototype=function(){this.render=function(){var t=this.context.componentRegistry,e=this.getDocument(),n=this.getPath(),r=e.get(n)||"",o=this.getAnnotations(),i=s(this.props.tagName||"span").addClass("text-property").attr({"data-path":this.props.path.join("."),spellCheck:!1}).css({whiteSpace:"pre-wrap"}),u=new a,l={};return u.onText=function(t,e){e&&e.length>0&&t.append(e)},u.onEnter=function(n){var r=n.node,o=r.id;l[o]||(l[o]=0),l[o]=l[o]+1;var i;i=t.contains(r.type)?t.get(r.type):c;var a=s(i,{doc:e,node:r});return"container_annotation_fragment"===r.type?(a.addClass(r.anno.getTypeNames().join(" ").replace(/_/g,"-")),a.addClass("annotation-fragment")):"container-annotation-anchor"===r.type&&(a.addClass(r.anno.getTypeNames().join(" ").replace(/_/g,"-")),a.addClass("anchor"),a.addClass(r.isStart?"start-anchor":"end-anchor")),a},u.onExit=function(t,e,n){n.append(e)},u.start(i,r,o),i.append(s("br")),i},this.didMount=function(){var t=this.props.doc;t.getEventProxy("path").add(this.props.path,this,this.textPropertyDidChange)},this.willUnmount=function(){var t=this.props.doc;t.getEventProxy("path").remove(this.props.path,this)},this.getAnnotations=function(){return this.context.surface.getAnnotationsForProperty(this.props.path)},this.getHighlights=function(){return this.context.getHighlightedNodes?this.context.getHighlightedNodes():[]},this.textPropertyDidChange=function(){this.rerender()},this.getContainer=function(){return this.getSurface().getContainer()},this.getDocument=function(){return this.props.doc},this.getPath=function(){return this.props.path},this.getElement=function(){return this.$el[0]},this.getSurface=function(){return this.context.surface}},o.inherit(r,i),t.exports=r},function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=n(282),i=n(281),s=i.$$;r.Prototype=function(){this.render=function(){var t=s("span").attr("data-id",this.props.node.id).addClass(this.getClassNames());return this.props.node.active&&t.addClass("active"),t.append(this.props.children),t},this.getClassNames=function(){var t=this.props.node.getTypeNames(),e=t.join(" ");return this.props.classNames&&(e+=" "+this.props.classNames.join(" ")),e.replace(/_/g,"-")},this.didMount=function(){var t=this.props.node;t.connect(this,{active:this.onActiveChanged})},this.willUnmount=function(){var t=this.props.node;t.disconnect(this)},this.onActiveChanged=function(){this.props.node.active?this.$el.addClass("active"):this.$el.removeClass("active")}},o.inherit(r,i),t.exports=r},function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=n(282),i=n(281),s=i.$$,a=n(394);r.Prototype=function(){this.render=function(){return s("div").addClass("content-node heading level-"+this.props.node.level).attr("data-id",this.props.node.id).append(s(a).addProps({doc:this.props.doc,path:[this.props.node.id,"content"]}))}},o.inherit(r,i),t.exports=r},function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=n(282),i=n(281),s=i.$$,a=n(394);r.Prototype=function(){this.getClassNames=function(){return"content-node blockquote"},this.render=function(){return s("div").addClass(this.getClassNames()).attr("data-id",this.props.node.id).append(s(a).addProps({doc:this.props.doc,path:[this.props.node.id,"content"]}))}},o.inherit(r,i),t.exports=r},function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=n(282),i=n(281),s=i.$$,a=n(394);r.Prototype=function(){this.getClassNames=function(){return"content-node codeblock"},this.render=function(){return s("div").addClass(this.getClassNames()).attr("data-id",this.props.node.id).append(s(a).addProps({doc:this.props.doc,path:[this.props.node.id,"content"]}))}},o.inherit(r,i),t.exports=r},function(t,e,n){"use strict";var r=n(281),o=r.$$,i=n(394),s=n(347),a=r.extend({displayName:"ListComponent",render:function(){var t=this.props.doc;return s["static"].render(this.props.node,{createElement:function(t){return o(t)},createAnnotatedTextNode:function(e){return o(i,{doc:t,path:e})}})},didMount:function(){this.doc&&this._dispose(),this.doc=this.props.doc,this.doc.getEventProxy("path").add([this.props.node.id,"items"],this,this.onItemsChanged)},willUnmount:function(){this._dispose()},_dispose:function(){this.doc.getEventProxy("path").remove([this.props.node.id,"items"],this),this.doc=null},onItemsChanged:function(){console.log("YAY"),this.rerender()}});t.exports=a},function(t,e,n){var r=n(395),o=r.extend({displayName:"LinkComponent",render:function(){var t=r.prototype.render.call(this),e=[this.props.node.url];return this.props.node.title&&e.push(this.props.node.title),t.attr("title",e.join(" | "))},didMount:function(){r.prototype.didMount.call(this);var t=this.props.node;this.doc=t.getDocument(),this.doc.getEventProxy("path").add([t.id,"title"],this,this.rerender),this.doc.getEventProxy("path").add([t.id,"url"],this,this.rerender)},willUnmount:function(){r.prototype.willUnmount.call(this),this.doc.getEventProxy("path").remove([this.props.node.id,"title"],this),this.doc.getEventProxy("path").remove([this.props.node.id,"url"],this)}});t.exports=o}]);
//# sourceMappingURL=index.js.map